function _mergeNamespaces(a,s){return s.forEach(function(d){d&&typeof d!="string"&&!Array.isArray(d)&&Object.keys(d).forEach(function(c){if(c!=="default"&&!(c in a)){var g=Object.getOwnPropertyDescriptor(d,c);Object.defineProperty(a,c,g.get?g:{enumerable:!0,get:function(){return d[c]}})}})}),Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}const p$1=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))c(g);new MutationObserver(g=>{for(const _ of g)if(_.type==="childList")for(const b of _.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function d(g){const _={};return g.integrity&&(_.integrity=g.integrity),g.referrerpolicy&&(_.referrerPolicy=g.referrerpolicy),g.crossorigin==="use-credentials"?_.credentials="include":g.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function c(g){if(g.ep)return;g.ep=!0;const _=d(g);fetch(g.href,_)}};p$1();var renderer="";const scriptRel="modulepreload",seen={},base="/studiokit/renderer/v1.1.43/",__vitePreload=function(s,d){return!d||d.length===0?s():Promise.all(d.map(c=>{if(c=`${base}${c}`,c in seen)return;seen[c]=!0;const g=c.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${_}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":scriptRel,g||(b.as="script",b.crossOrigin=""),b.href=c,document.head.appendChild(b),g)return new Promise(($,tt)=>{b.addEventListener("load",$),b.addEventListener("error",()=>tt(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>s())};let currentSubId=0;const subscribers=new Map,subscribersInternal=new Map;function createSubscribe(a={}){return function(s){if(typeof s!="function")return;const d=a.internal?subscribersInternal:subscribers,c=++currentSubId;return d.set(c,s),()=>{d.delete(c)}}}function createOn(a={}){return function(s,d){return(a.internal?subscribeInternal:subscribe)((g,_)=>{if(s===g)return d(_)})}}function createTrigger(a={}){const s=a.internal?subscribersInternal:subscribers;return async function(d,...c){let g={type:d,payload:c[0]};const _=Boolean(a.internal)?"Internal":"External";log$1.info(`${_} Event:`,g),await Promise.all(Array.from(s.values()).map(b=>b(g.type,g.payload)))}}const trigger$1=createTrigger(),subscribe=createSubscribe(),on=createOn(),triggerInternal$1=createTrigger({internal:!0}),subscribeInternal=createSubscribe({internal:!0}),onInternal=createOn({internal:!0});var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(a){if(a.__esModule)return a;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(d){var c=Object.getOwnPropertyDescriptor(a,d);Object.defineProperty(s,d,c.get?c:{enumerable:!0,get:function(){return a[d]}})}),s}var loglevel={exports:{}};(function(a){(function(s,d){a.exports?a.exports=d():s.log=d()})(commonjsGlobal,function(){var s=function(){},d="undefined",c=typeof window!==d&&typeof window.navigator!==d&&/Trident\/|MSIE /.test(window.navigator.userAgent),g=["trace","debug","info","warn","error"];function _(yt,pt){var vt=yt[pt];if(typeof vt.bind=="function")return vt.bind(yt);try{return Function.prototype.bind.call(vt,yt)}catch{return function(){return Function.prototype.apply.apply(vt,[yt,arguments])}}}function b(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function $(yt){return yt==="debug"&&(yt="log"),typeof console===d?!1:yt==="trace"&&c?b:console[yt]!==void 0?_(console,yt):console.log!==void 0?_(console,"log"):s}function tt(yt,pt){for(var vt=0;vt<g.length;vt++){var it=g[vt];this[it]=vt<yt?s:this.methodFactory(it,yt,pt)}this.log=this.debug}function nt(yt,pt,vt){return function(){typeof console!==d&&(tt.call(this,pt,vt),this[yt].apply(this,arguments))}}function ot(yt,pt,vt){return $(yt)||nt.apply(this,arguments)}function dt(yt,pt,vt){var it=this,ct;pt=pt==null?"WARN":pt;var mt="loglevel";typeof yt=="string"?mt+=":"+yt:typeof yt=="symbol"&&(mt=void 0);function Nt(St){var Ct=(g[St]||"silent").toUpperCase();if(!(typeof window===d||!mt)){try{window.localStorage[mt]=Ct;return}catch{}try{window.document.cookie=encodeURIComponent(mt)+"="+Ct+";"}catch{}}}function Ot(){var St;if(!(typeof window===d||!mt)){try{St=window.localStorage[mt]}catch{}if(typeof St===d)try{var Ct=window.document.cookie,$t=Ct.indexOf(encodeURIComponent(mt)+"=");$t!==-1&&(St=/^([^;]+)/.exec(Ct.slice($t))[1])}catch{}return it.levels[St]===void 0&&(St=void 0),St}}function At(){if(!(typeof window===d||!mt)){try{window.localStorage.removeItem(mt);return}catch{}try{window.document.cookie=encodeURIComponent(mt)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}it.name=yt,it.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},it.methodFactory=vt||ot,it.getLevel=function(){return ct},it.setLevel=function(St,Ct){if(typeof St=="string"&&it.levels[St.toUpperCase()]!==void 0&&(St=it.levels[St.toUpperCase()]),typeof St=="number"&&St>=0&&St<=it.levels.SILENT){if(ct=St,Ct!==!1&&Nt(St),tt.call(it,St,yt),typeof console===d&&St<it.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+St},it.setDefaultLevel=function(St){pt=St,Ot()||it.setLevel(St,!1)},it.resetLevel=function(){it.setLevel(pt,!1),At()},it.enableAll=function(St){it.setLevel(it.levels.TRACE,St)},it.disableAll=function(St){it.setLevel(it.levels.SILENT,St)};var Pt=Ot();Pt==null&&(Pt=pt),it.setLevel(Pt,!1)}var ut=new dt,lt={};ut.getLogger=function(pt){if(typeof pt!="symbol"&&typeof pt!="string"||pt==="")throw new TypeError("You must supply a name when creating a logger.");var vt=lt[pt];return vt||(vt=lt[pt]=new dt(pt,ut.getLevel(),ut.methodFactory)),vt};var Tt=typeof window!==d?window.log:void 0;return ut.noConflict=function(){return typeof window!==d&&window.log===ut&&(window.log=Tt),ut},ut.getLoggers=function(){return lt},ut.default=ut,ut})})(loglevel);var log$1=loglevel.exports;const connectionId$1=(Math.random()*1e20).toString(36),version$4="1.1.43",CoreContext={config:null,clients:null,Request:{},Command:{},on,subscribe,onInternal,subscribeInternal,trigger:trigger$1,triggerInternal:triggerInternal$1,state:{},compositor:{},connectionId:connectionId$1,version:version$4,log:log$1,logLevel:null},setAppState=a=>{Object.keys(a).forEach(s=>{CoreContext.state[s]=a[s]})};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$1=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")(),root$1=root,Symbol$1=root$1.Symbol,Symbol$2=Symbol$1,objectProto$f=Object.prototype,hasOwnProperty$e=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(a){var s=hasOwnProperty$e.call(a,symToStringTag$1),d=a[symToStringTag$1];try{a[symToStringTag$1]=void 0;var c=!0}catch{}var g=nativeObjectToString$1.call(a);return c&&(s?a[symToStringTag$1]=d:delete a[symToStringTag$1]),g}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(a){return nativeObjectToString.call(a)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(a){return a==null?a===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(a)?getRawTag(a):objectToString(a)}function isObjectLike(a){return a!=null&&typeof a=="object"}var symbolTag$3="[object Symbol]";function isSymbol(a){return typeof a=="symbol"||isObjectLike(a)&&baseGetTag(a)==symbolTag$3}function arrayMap(a,s){for(var d=-1,c=a==null?0:a.length,g=Array(c);++d<c;)g[d]=s(a[d],d,a);return g}var isArray$3=Array.isArray,isArray$4=isArray$3,INFINITY$1=1/0,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(a){if(typeof a=="string")return a;if(isArray$4(a))return arrayMap(a,baseToString)+"";if(isSymbol(a))return symbolToString?symbolToString.call(a):"";var s=a+"";return s=="0"&&1/a==-INFINITY$1?"-0":s}var reWhitespace=/\s/;function trimmedEndIndex(a){for(var s=a.length;s--&&reWhitespace.test(a.charAt(s)););return s}var reTrimStart=/^\s+/;function baseTrim(a){return a&&a.slice(0,trimmedEndIndex(a)+1).replace(reTrimStart,"")}function isObject$5(a){var s=typeof a;return a!=null&&(s=="object"||s=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(a){if(typeof a=="number")return a;if(isSymbol(a))return NAN;if(isObject$5(a)){var s=typeof a.valueOf=="function"?a.valueOf():a;a=isObject$5(s)?s+"":s}if(typeof a!="string")return a===0?a:+a;a=baseTrim(a);var d=reIsBinary.test(a);return d||reIsOctal.test(a)?freeParseInt(a.slice(2),d?2:8):reIsBadHex.test(a)?NAN:+a}function identity$1(a){return a}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(a){if(!isObject$5(a))return!1;var s=baseGetTag(a);return s==funcTag$2||s==genTag$1||s==asyncTag||s==proxyTag}var coreJsData=root$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=function(){var a=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function isMasked(a){return!!maskSrcKey&&maskSrcKey in a}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(a){if(a!=null){try{return funcToString$2.call(a)}catch{}try{return a+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$d=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$d).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(a){if(!isObject$5(a)||isMasked(a))return!1;var s=isFunction$3(a)?reIsNative:reIsHostCtor;return s.test(toSource(a))}function getValue(a,s){return a==null?void 0:a[s]}function getNative(a,s){var d=getValue(a,s);return baseIsNative(d)?d:void 0}var WeakMap$2=getNative(root$1,"WeakMap"),WeakMap$3=WeakMap$2,objectCreate$1=Object.create,baseCreate=function(){function a(){}return function(s){if(!isObject$5(s))return{};if(objectCreate$1)return objectCreate$1(s);a.prototype=s;var d=new a;return a.prototype=void 0,d}}(),baseCreate$1=baseCreate;function apply(a,s,d){switch(d.length){case 0:return a.call(s);case 1:return a.call(s,d[0]);case 2:return a.call(s,d[0],d[1]);case 3:return a.call(s,d[0],d[1],d[2])}return a.apply(s,d)}function copyArray(a,s){var d=-1,c=a.length;for(s||(s=Array(c));++d<c;)s[d]=a[d];return s}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(a){var s=0,d=0;return function(){var c=nativeNow(),g=HOT_SPAN-(c-d);if(d=c,g>0){if(++s>=HOT_COUNT)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}function constant(a){return function(){return a}}var defineProperty$1=function(){try{var a=getNative(Object,"defineProperty");return a({},"",{}),a}catch{}}(),defineProperty$2=defineProperty$1,baseSetToString=defineProperty$2?function(a,s){return defineProperty$2(a,"toString",{configurable:!0,enumerable:!1,value:constant(s),writable:!0})}:identity$1,baseSetToString$1=baseSetToString,setToString=shortOut(baseSetToString$1),setToString$1=setToString;function arrayEach(a,s){for(var d=-1,c=a==null?0:a.length;++d<c&&s(a[d],d,a)!==!1;);return a}function baseFindIndex(a,s,d,c){for(var g=a.length,_=d+(c?1:-1);c?_--:++_<g;)if(s(a[_],_,a))return _;return-1}function baseIsNaN(a){return a!==a}function strictIndexOf(a,s,d){for(var c=d-1,g=a.length;++c<g;)if(a[c]===s)return c;return-1}function baseIndexOf(a,s,d){return s===s?strictIndexOf(a,s,d):baseFindIndex(a,baseIsNaN,d)}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(a,s){var d=typeof a;return s=s==null?MAX_SAFE_INTEGER$1:s,!!s&&(d=="number"||d!="symbol"&&reIsUint.test(a))&&a>-1&&a%1==0&&a<s}function baseAssignValue(a,s,d){s=="__proto__"&&defineProperty$2?defineProperty$2(a,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[s]=d}function eq(a,s){return a===s||a!==a&&s!==s}var objectProto$c=Object.prototype,hasOwnProperty$c=objectProto$c.hasOwnProperty;function assignValue(a,s,d){var c=a[s];(!(hasOwnProperty$c.call(a,s)&&eq(c,d))||d===void 0&&!(s in a))&&baseAssignValue(a,s,d)}function copyObject(a,s,d,c){var g=!d;d||(d={});for(var _=-1,b=s.length;++_<b;){var $=s[_],tt=c?c(d[$],a[$],$,d,a):void 0;tt===void 0&&(tt=a[$]),g?baseAssignValue(d,$,tt):assignValue(d,$,tt)}return d}var nativeMax$1=Math.max;function overRest(a,s,d){return s=nativeMax$1(s===void 0?a.length-1:s,0),function(){for(var c=arguments,g=-1,_=nativeMax$1(c.length-s,0),b=Array(_);++g<_;)b[g]=c[s+g];g=-1;for(var $=Array(s+1);++g<s;)$[g]=c[g];return $[s]=d(b),apply(a,this,$)}}function baseRest(a,s){return setToString$1(overRest(a,s,identity$1),a+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=MAX_SAFE_INTEGER}function isArrayLike$1(a){return a!=null&&isLength(a.length)&&!isFunction$3(a)}function isIterateeCall(a,s,d){if(!isObject$5(d))return!1;var c=typeof s;return(c=="number"?isArrayLike$1(d)&&isIndex(s,d.length):c=="string"&&s in d)?eq(d[s],a):!1}var objectProto$b=Object.prototype;function isPrototype(a){var s=a&&a.constructor,d=typeof s=="function"&&s.prototype||objectProto$b;return a===d}function baseTimes(a,s){for(var d=-1,c=Array(a);++d<a;)c[d]=s(d);return c}var argsTag$3="[object Arguments]";function baseIsArguments(a){return isObjectLike(a)&&baseGetTag(a)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$b=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(a){return isObjectLike(a)&&hasOwnProperty$b.call(a,"callee")&&!propertyIsEnumerable$1.call(a,"callee")},isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,isBuffer$2=isBuffer$1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[baseGetTag(a)]}function baseUnary(a){return function(s){return a(s)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var a=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return a||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil$1=nodeUtil,nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray$1=isTypedArray,objectProto$9=Object.prototype,hasOwnProperty$a=objectProto$9.hasOwnProperty;function arrayLikeKeys(a,s){var d=isArray$4(a),c=!d&&isArguments$1(a),g=!d&&!c&&isBuffer$2(a),_=!d&&!c&&!g&&isTypedArray$1(a),b=d||c||g||_,$=b?baseTimes(a.length,String):[],tt=$.length;for(var nt in a)(s||hasOwnProperty$a.call(a,nt))&&!(b&&(nt=="length"||g&&(nt=="offset"||nt=="parent")||_&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||isIndex(nt,tt)))&&$.push(nt);return $}function overArg(a,s){return function(d){return a(s(d))}}var nativeKeys=overArg(Object.keys,Object),nativeKeys$1=nativeKeys,objectProto$8=Object.prototype,hasOwnProperty$9=objectProto$8.hasOwnProperty;function baseKeys(a){if(!isPrototype(a))return nativeKeys$1(a);var s=[];for(var d in Object(a))hasOwnProperty$9.call(a,d)&&d!="constructor"&&s.push(d);return s}function keys$1(a){return isArrayLike$1(a)?arrayLikeKeys(a):baseKeys(a)}function nativeKeysIn(a){var s=[];if(a!=null)for(var d in Object(a))s.push(d);return s}var objectProto$7=Object.prototype,hasOwnProperty$8=objectProto$7.hasOwnProperty;function baseKeysIn(a){if(!isObject$5(a))return nativeKeysIn(a);var s=isPrototype(a),d=[];for(var c in a)c=="constructor"&&(s||!hasOwnProperty$8.call(a,c))||d.push(c);return d}function keysIn(a){return isArrayLike$1(a)?arrayLikeKeys(a,!0):baseKeysIn(a)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(a,s){if(isArray$4(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||isSymbol(a)?!0:reIsPlainProp.test(a)||!reIsDeepProp.test(a)||s!=null&&a in Object(s)}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$7=objectProto$6.hasOwnProperty;function hashGet(a){var s=this.__data__;if(nativeCreate$1){var d=s[a];return d===HASH_UNDEFINED$2?void 0:d}return hasOwnProperty$7.call(s,a)?s[a]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty;function hashHas(a){var s=this.__data__;return nativeCreate$1?s[a]!==void 0:hasOwnProperty$6.call(s,a)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(a,s){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=nativeCreate$1&&s===void 0?HASH_UNDEFINED$1:s,this}function Hash(a){var s=-1,d=a==null?0:a.length;for(this.clear();++s<d;){var c=a[s];this.set(c[0],c[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(a,s){for(var d=a.length;d--;)if(eq(a[d][0],s))return d;return-1}var arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete(a){var s=this.__data__,d=assocIndexOf(s,a);if(d<0)return!1;var c=s.length-1;return d==c?s.pop():splice$1.call(s,d,1),--this.size,!0}function listCacheGet(a){var s=this.__data__,d=assocIndexOf(s,a);return d<0?void 0:s[d][1]}function listCacheHas(a){return assocIndexOf(this.__data__,a)>-1}function listCacheSet(a,s){var d=this.__data__,c=assocIndexOf(d,a);return c<0?(++this.size,d.push([a,s])):d[c][1]=s,this}function ListCache(a){var s=-1,d=a==null?0:a.length;for(this.clear();++s<d;){var c=a[s];this.set(c[0],c[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map"),Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(a){var s=typeof a;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?a!=="__proto__":a===null}function getMapData(a,s){var d=a.__data__;return isKeyable(s)?d[typeof s=="string"?"string":"hash"]:d.map}function mapCacheDelete(a){var s=getMapData(this,a).delete(a);return this.size-=s?1:0,s}function mapCacheGet(a){return getMapData(this,a).get(a)}function mapCacheHas(a){return getMapData(this,a).has(a)}function mapCacheSet(a,s){var d=getMapData(this,a),c=d.size;return d.set(a,s),this.size+=d.size==c?0:1,this}function MapCache(a){var s=-1,d=a==null?0:a.length;for(this.clear();++s<d;){var c=a[s];this.set(c[0],c[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var d=function(){var c=arguments,g=s?s.apply(this,c):c[0],_=d.cache;if(_.has(g))return _.get(g);var b=a.apply(this,c);return d.cache=_.set(g,b)||_,b};return d.cache=new(memoize.Cache||MapCache),d}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(a){var s=memoize(a,function(c){return d.size===MAX_MEMOIZE_SIZE&&d.clear(),c}),d=s.cache;return s}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(rePropName,function(d,c,g,_){s.push(g?_.replace(reEscapeChar,"$1"):c||d)}),s}),stringToPath$1=stringToPath;function toString$1(a){return a==null?"":baseToString(a)}function castPath(a,s){return isArray$4(a)?a:isKey(a,s)?[a]:stringToPath$1(toString$1(a))}var INFINITY=1/0;function toKey(a){if(typeof a=="string"||isSymbol(a))return a;var s=a+"";return s=="0"&&1/a==-INFINITY?"-0":s}function baseGet(a,s){s=castPath(s,a);for(var d=0,c=s.length;a!=null&&d<c;)a=a[toKey(s[d++])];return d&&d==c?a:void 0}function get(a,s,d){var c=a==null?void 0:baseGet(a,s);return c===void 0?d:c}function arrayPush(a,s){for(var d=-1,c=s.length,g=a.length;++d<c;)a[g+d]=s[d];return a}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(a){return isArray$4(a)||isArguments$1(a)||!!(spreadableSymbol&&a&&a[spreadableSymbol])}function baseFlatten(a,s,d,c,g){var _=-1,b=a.length;for(d||(d=isFlattenable),g||(g=[]);++_<b;){var $=a[_];s>0&&d($)?s>1?baseFlatten($,s-1,d,c,g):arrayPush(g,$):c||(g[g.length]=$)}return g}function flatten(a){var s=a==null?0:a.length;return s?baseFlatten(a,1):[]}function flatRest(a){return setToString$1(overRest(a,void 0,flatten),a+"")}var getPrototype=overArg(Object.getPrototypeOf,Object),getPrototype$1=getPrototype,objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(a){if(!isObjectLike(a)||baseGetTag(a)!=objectTag$3)return!1;var s=getPrototype$1(a);if(s===null)return!0;var d=hasOwnProperty$5.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&funcToString.call(d)==objectCtorString}function baseSlice(a,s,d){var c=-1,g=a.length;s<0&&(s=-s>g?0:g+s),d=d>g?g:d,d<0&&(d+=g),g=s>d?0:d-s>>>0,s>>>=0;for(var _=Array(g);++c<g;)_[c]=a[c+s];return _}function castSlice(a,s,d){var c=a.length;return d=d===void 0?c:d,!s&&d>=c?a:baseSlice(a,s,d)}var rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsVarRange$2="\\ufe0e\\ufe0f",rsZWJ$2="\\u200d",reHasUnicode=RegExp("["+rsZWJ$2+rsAstralRange$2+rsComboRange$3+rsVarRange$2+"]");function hasUnicode(a){return reHasUnicode.test(a)}function asciiToArray(a){return a.split("")}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo$2="["+rsComboRange$2+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol="(?:"+[rsNonAstral$1+rsCombo$2+"?",rsCombo$2,rsRegional$1,rsSurrPair$1,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol+rsSeq$1,"g");function unicodeToArray(a){return a.match(reUnicode)||[]}function stringToArray(a){return hasUnicode(a)?unicodeToArray(a):asciiToArray(a)}function createCaseFirst(a){return function(s){s=toString$1(s);var d=hasUnicode(s)?stringToArray(s):void 0,c=d?d[0]:s.charAt(0),g=d?castSlice(d,1).join(""):s.slice(1);return c[a]()+g}}var upperFirst=createCaseFirst("toUpperCase"),upperFirst$1=upperFirst;function capitalize(a){return upperFirst$1(toString$1(a).toLowerCase())}function arrayReduce(a,s,d,c){var g=-1,_=a==null?0:a.length;for(c&&_&&(d=a[++g]);++g<_;)d=s(d,a[g],g,a);return d}function basePropertyOf(a){return function(s){return a==null?void 0:a[s]}}var deburredLetters={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},deburrLetter=basePropertyOf(deburredLetters),deburrLetter$1=deburrLetter,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsCombo$1="["+rsComboRange$1+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(a){return a=toString$1(a),a&&a.replace(reLatin,deburrLetter$1).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(a){return a.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(a){return reHasUnicodeWord.test(a)}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['\u2019]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(a){return a.match(reUnicodeWord)||[]}function words(a,s,d){return a=toString$1(a),s=d?void 0:s,s===void 0?hasUnicodeWord(a)?unicodeWords(a):asciiWords(a):a.match(s)||[]}var rsApos="['\u2019]",reApos=RegExp(rsApos,"g");function createCompounder(a){return function(s){return arrayReduce(words(deburr(s).replace(reApos,"")),a,"")}}var camelCase$2=createCompounder(function(a,s,d){return s=s.toLowerCase(),a+(d?capitalize(s):s)}),camelCase$3=camelCase$2;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(a){var s=this.__data__,d=s.delete(a);return this.size=s.size,d}function stackGet(a){return this.__data__.get(a)}function stackHas(a){return this.__data__.has(a)}var LARGE_ARRAY_SIZE=200;function stackSet(a,s){var d=this.__data__;if(d instanceof ListCache){var c=d.__data__;if(!Map$2||c.length<LARGE_ARRAY_SIZE-1)return c.push([a,s]),this.size=++d.size,this;d=this.__data__=new MapCache(c)}return d.set(a,s),this.size=d.size,this}function Stack(a){var s=this.__data__=new ListCache(a);this.size=s.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(a,s){return a&&copyObject(s,keys$1(s),a)}function baseAssignIn(a,s){return a&&copyObject(s,keysIn(s),a)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(a,s){if(s)return a.slice();var d=a.length,c=allocUnsafe?allocUnsafe(d):new a.constructor(d);return a.copy(c),c}function arrayFilter(a,s){for(var d=-1,c=a==null?0:a.length,g=0,_=[];++d<c;){var b=a[d];s(b,d,a)&&(_[g++]=b)}return _}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(a){return a==null?[]:(a=Object(a),arrayFilter(nativeGetSymbols$1(a),function(s){return propertyIsEnumerable.call(a,s)}))}:stubArray,getSymbols$1=getSymbols;function copySymbols(a,s){return copyObject(a,getSymbols$1(a),s)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(a){for(var s=[];a;)arrayPush(s,getSymbols$1(a)),a=getPrototype$1(a);return s}:stubArray,getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(a,s){return copyObject(a,getSymbolsIn$1(a),s)}function baseGetAllKeys(a,s,d){var c=s(a);return isArray$4(a)?c:arrayPush(c,d(a))}function getAllKeys(a){return baseGetAllKeys(a,keys$1,getSymbols$1)}function getAllKeysIn(a){return baseGetAllKeys(a,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView"),DataView$2=DataView$1,Promise$1=getNative(root$1,"Promise"),Promise$2=Promise$1,Set$1=getNative(root$1,"Set"),Set$2=Set$1,mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$3),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$4||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$4||WeakMap$3&&getTag(new WeakMap$3)!=weakMapTag$1)&&(getTag=function(a){var s=baseGetTag(a),d=s==objectTag$2?a.constructor:void 0,c=d?toSource(d):"";if(c)switch(c){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return s});var getTag$1=getTag,objectProto$2=Object.prototype,hasOwnProperty$4=objectProto$2.hasOwnProperty;function initCloneArray(a){var s=a.length,d=new a.constructor(s);return s&&typeof a[0]=="string"&&hasOwnProperty$4.call(a,"index")&&(d.index=a.index,d.input=a.input),d}var Uint8Array$1=root$1.Uint8Array,Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(a){var s=new a.constructor(a.byteLength);return new Uint8Array$2(s).set(new Uint8Array$2(a)),s}function cloneDataView(a,s){var d=s?cloneArrayBuffer(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}var reFlags=/\w*$/;function cloneRegExp(a){var s=new a.constructor(a.source,reFlags.exec(a));return s.lastIndex=a.lastIndex,s}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(a){return symbolValueOf$1?Object(symbolValueOf$1.call(a)):{}}function cloneTypedArray(a,s){var d=s?cloneArrayBuffer(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(a,s,d){var c=a.constructor;switch(s){case arrayBufferTag$2:return cloneArrayBuffer(a);case boolTag$2:case dateTag$2:return new c(+a);case dataViewTag$2:return cloneDataView(a,d);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(a,d);case mapTag$3:return new c;case numberTag$2:case stringTag$2:return new c(a);case regexpTag$2:return cloneRegExp(a);case setTag$3:return new c;case symbolTag$2:return cloneSymbol(a)}}function initCloneObject(a){return typeof a.constructor=="function"&&!isPrototype(a)?baseCreate$1(getPrototype$1(a)):{}}var mapTag$2="[object Map]";function baseIsMap(a){return isObjectLike(a)&&getTag$1(a)==mapTag$2}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,isMap$1=isMap,setTag$2="[object Set]";function baseIsSet(a){return isObjectLike(a)&&getTag$1(a)==setTag$2}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet$2=isSet$1,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(a,s,d,c,g,_){var b,$=s&CLONE_DEEP_FLAG$2,tt=s&CLONE_FLAT_FLAG$1,nt=s&CLONE_SYMBOLS_FLAG$2;if(d&&(b=g?d(a,c,g,_):d(a)),b!==void 0)return b;if(!isObject$5(a))return a;var ot=isArray$4(a);if(ot){if(b=initCloneArray(a),!$)return copyArray(a,b)}else{var dt=getTag$1(a),ut=dt==funcTag||dt==genTag;if(isBuffer$2(a))return cloneBuffer(a,$);if(dt==objectTag$1||dt==argsTag$1||ut&&!g){if(b=tt||ut?{}:initCloneObject(a),!$)return tt?copySymbolsIn(a,baseAssignIn(b,a)):copySymbols(a,baseAssign(b,a))}else{if(!cloneableTags[dt])return g?a:{};b=initCloneByTag(a,dt,$)}}_||(_=new Stack);var lt=_.get(a);if(lt)return lt;_.set(a,b),isSet$2(a)?a.forEach(function(pt){b.add(baseClone(pt,s,d,pt,a,_))}):isMap$1(a)&&a.forEach(function(pt,vt){b.set(vt,baseClone(pt,s,d,vt,a,_))});var Tt=nt?tt?getAllKeysIn:getAllKeys:tt?keysIn:keys$1,yt=ot?void 0:Tt(a);return arrayEach(yt||a,function(pt,vt){yt&&(vt=pt,pt=a[vt]),assignValue(b,vt,baseClone(pt,s,d,vt,a,_))}),b}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(a){return baseClone(a,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(a){return this.__data__.set(a,HASH_UNDEFINED),this}function setCacheHas(a){return this.__data__.has(a)}function SetCache(a){var s=-1,d=a==null?0:a.length;for(this.__data__=new MapCache;++s<d;)this.add(a[s])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(a,s){for(var d=-1,c=a==null?0:a.length;++d<c;)if(s(a[d],d,a))return!0;return!1}function cacheHas(a,s){return a.has(s)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(a,s,d,c,g,_){var b=d&COMPARE_PARTIAL_FLAG$5,$=a.length,tt=s.length;if($!=tt&&!(b&&tt>$))return!1;var nt=_.get(a),ot=_.get(s);if(nt&&ot)return nt==s&&ot==a;var dt=-1,ut=!0,lt=d&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(_.set(a,s),_.set(s,a);++dt<$;){var Tt=a[dt],yt=s[dt];if(c)var pt=b?c(yt,Tt,dt,s,a,_):c(Tt,yt,dt,a,s,_);if(pt!==void 0){if(pt)continue;ut=!1;break}if(lt){if(!arraySome(s,function(vt,it){if(!cacheHas(lt,it)&&(Tt===vt||g(Tt,vt,d,c,_)))return lt.push(it)})){ut=!1;break}}else if(!(Tt===yt||g(Tt,yt,d,c,_))){ut=!1;break}}return _.delete(a),_.delete(s),ut}function mapToArray(a){var s=-1,d=Array(a.size);return a.forEach(function(c,g){d[++s]=[g,c]}),d}function setToArray(a){var s=-1,d=Array(a.size);return a.forEach(function(c){d[++s]=c}),d}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(a,s,d,c,g,_,b){switch(d){case dataViewTag:if(a.byteLength!=s.byteLength||a.byteOffset!=s.byteOffset)return!1;a=a.buffer,s=s.buffer;case arrayBufferTag:return!(a.byteLength!=s.byteLength||!_(new Uint8Array$2(a),new Uint8Array$2(s)));case boolTag:case dateTag:case numberTag:return eq(+a,+s);case errorTag:return a.name==s.name&&a.message==s.message;case regexpTag:case stringTag:return a==s+"";case mapTag:var $=mapToArray;case setTag:var tt=c&COMPARE_PARTIAL_FLAG$4;if($||($=setToArray),a.size!=s.size&&!tt)return!1;var nt=b.get(a);if(nt)return nt==s;c|=COMPARE_UNORDERED_FLAG$2,b.set(a,s);var ot=equalArrays($(a),$(s),c,g,_,b);return b.delete(a),ot;case symbolTag:if(symbolValueOf)return symbolValueOf.call(a)==symbolValueOf.call(s)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$3=objectProto$1.hasOwnProperty;function equalObjects(a,s,d,c,g,_){var b=d&COMPARE_PARTIAL_FLAG$3,$=getAllKeys(a),tt=$.length,nt=getAllKeys(s),ot=nt.length;if(tt!=ot&&!b)return!1;for(var dt=tt;dt--;){var ut=$[dt];if(!(b?ut in s:hasOwnProperty$3.call(s,ut)))return!1}var lt=_.get(a),Tt=_.get(s);if(lt&&Tt)return lt==s&&Tt==a;var yt=!0;_.set(a,s),_.set(s,a);for(var pt=b;++dt<tt;){ut=$[dt];var vt=a[ut],it=s[ut];if(c)var ct=b?c(it,vt,ut,s,a,_):c(vt,it,ut,a,s,_);if(!(ct===void 0?vt===it||g(vt,it,d,c,_):ct)){yt=!1;break}pt||(pt=ut=="constructor")}if(yt&&!pt){var mt=a.constructor,Nt=s.constructor;mt!=Nt&&"constructor"in a&&"constructor"in s&&!(typeof mt=="function"&&mt instanceof mt&&typeof Nt=="function"&&Nt instanceof Nt)&&(yt=!1)}return _.delete(a),_.delete(s),yt}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$2=objectProto.hasOwnProperty;function baseIsEqualDeep(a,s,d,c,g,_){var b=isArray$4(a),$=isArray$4(s),tt=b?arrayTag:getTag$1(a),nt=$?arrayTag:getTag$1(s);tt=tt==argsTag?objectTag:tt,nt=nt==argsTag?objectTag:nt;var ot=tt==objectTag,dt=nt==objectTag,ut=tt==nt;if(ut&&isBuffer$2(a)){if(!isBuffer$2(s))return!1;b=!0,ot=!1}if(ut&&!ot)return _||(_=new Stack),b||isTypedArray$1(a)?equalArrays(a,s,d,c,g,_):equalByTag(a,s,tt,d,c,g,_);if(!(d&COMPARE_PARTIAL_FLAG$2)){var lt=ot&&hasOwnProperty$2.call(a,"__wrapped__"),Tt=dt&&hasOwnProperty$2.call(s,"__wrapped__");if(lt||Tt){var yt=lt?a.value():a,pt=Tt?s.value():s;return _||(_=new Stack),g(yt,pt,d,c,_)}}return ut?(_||(_=new Stack),equalObjects(a,s,d,c,g,_)):!1}function baseIsEqual(a,s,d,c,g){return a===s?!0:a==null||s==null||!isObjectLike(a)&&!isObjectLike(s)?a!==a&&s!==s:baseIsEqualDeep(a,s,d,c,baseIsEqual,g)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(a,s,d,c){var g=d.length,_=g,b=!c;if(a==null)return!_;for(a=Object(a);g--;){var $=d[g];if(b&&$[2]?$[1]!==a[$[0]]:!($[0]in a))return!1}for(;++g<_;){$=d[g];var tt=$[0],nt=a[tt],ot=$[1];if(b&&$[2]){if(nt===void 0&&!(tt in a))return!1}else{var dt=new Stack;if(c)var ut=c(nt,ot,tt,a,s,dt);if(!(ut===void 0?baseIsEqual(ot,nt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,c,dt):ut))return!1}}return!0}function isStrictComparable(a){return a===a&&!isObject$5(a)}function getMatchData(a){for(var s=keys$1(a),d=s.length;d--;){var c=s[d],g=a[c];s[d]=[c,g,isStrictComparable(g)]}return s}function matchesStrictComparable(a,s){return function(d){return d==null?!1:d[a]===s&&(s!==void 0||a in Object(d))}}function baseMatches(a){var s=getMatchData(a);return s.length==1&&s[0][2]?matchesStrictComparable(s[0][0],s[0][1]):function(d){return d===a||baseIsMatch(d,a,s)}}function baseHasIn(a,s){return a!=null&&s in Object(a)}function hasPath(a,s,d){s=castPath(s,a);for(var c=-1,g=s.length,_=!1;++c<g;){var b=toKey(s[c]);if(!(_=a!=null&&d(a,b)))break;a=a[b]}return _||++c!=g?_:(g=a==null?0:a.length,!!g&&isLength(g)&&isIndex(b,g)&&(isArray$4(a)||isArguments$1(a)))}function hasIn(a,s){return a!=null&&hasPath(a,s,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(a,s){return isKey(a)&&isStrictComparable(s)?matchesStrictComparable(toKey(a),s):function(d){var c=get(d,a);return c===void 0&&c===s?hasIn(d,a):baseIsEqual(s,c,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(a){return function(s){return s==null?void 0:s[a]}}function basePropertyDeep(a){return function(s){return baseGet(s,a)}}function property(a){return isKey(a)?baseProperty(toKey(a)):basePropertyDeep(a)}function baseIteratee(a){return typeof a=="function"?a:a==null?identity$1:typeof a=="object"?isArray$4(a)?baseMatchesProperty(a[0],a[1]):baseMatches(a):property(a)}function createBaseFor(a){return function(s,d,c){for(var g=-1,_=Object(s),b=c(s),$=b.length;$--;){var tt=b[a?$:++g];if(d(_[tt],tt,_)===!1)break}return s}}var baseFor=createBaseFor(),baseFor$1=baseFor;function baseForOwn(a,s){return a&&baseFor$1(a,s,keys$1)}function createBaseEach(a,s){return function(d,c){if(d==null)return d;if(!isArrayLike$1(d))return a(d,c);for(var g=d.length,_=s?g:-1,b=Object(d);(s?_--:++_<g)&&c(b[_],_,b)!==!1;);return d}}var baseEach=createBaseEach(baseForOwn),baseEach$1=baseEach,now=function(){return root$1.Date.now()},now$1=now,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(a,s,d){var c,g,_,b,$,tt,nt=0,ot=!1,dt=!1,ut=!0;if(typeof a!="function")throw new TypeError(FUNC_ERROR_TEXT);s=toNumber(s)||0,isObject$5(d)&&(ot=!!d.leading,dt="maxWait"in d,_=dt?nativeMax(toNumber(d.maxWait)||0,s):_,ut="trailing"in d?!!d.trailing:ut);function lt(Ot){var At=c,Pt=g;return c=g=void 0,nt=Ot,b=a.apply(Pt,At),b}function Tt(Ot){return nt=Ot,$=setTimeout(vt,s),ot?lt(Ot):b}function yt(Ot){var At=Ot-tt,Pt=Ot-nt,St=s-At;return dt?nativeMin(St,_-Pt):St}function pt(Ot){var At=Ot-tt,Pt=Ot-nt;return tt===void 0||At>=s||At<0||dt&&Pt>=_}function vt(){var Ot=now$1();if(pt(Ot))return it(Ot);$=setTimeout(vt,yt(Ot))}function it(Ot){return $=void 0,ut&&c?lt(Ot):(c=g=void 0,b)}function ct(){$!==void 0&&clearTimeout($),nt=0,c=tt=g=$=void 0}function mt(){return $===void 0?b:it(now$1())}function Nt(){var Ot=now$1(),At=pt(Ot);if(c=arguments,g=this,tt=Ot,At){if($===void 0)return Tt(tt);if(dt)return clearTimeout($),$=setTimeout(vt,s),lt(tt)}return $===void 0&&($=setTimeout(vt,s)),b}return Nt.cancel=ct,Nt.flush=mt,Nt}function last$1(a){var s=a==null?0:a.length;return s?a[s-1]:void 0}function arrayEvery(a,s){for(var d=-1,c=a==null?0:a.length;++d<c;)if(!s(a[d],d,a))return!1;return!0}function baseEvery(a,s){var d=!0;return baseEach$1(a,function(c,g,_){return d=!!s(c,g,_),d}),d}function every$1(a,s,d){var c=isArray$4(a)?arrayEvery:baseEvery;return d&&isIterateeCall(a,s,d)&&(s=void 0),c(a,baseIteratee(s))}function baseMap(a,s){var d=-1,c=isArrayLike$1(a)?Array(a.length):[];return baseEach$1(a,function(g,_,b){c[++d]=s(g,_,b)}),c}function parent(a,s){return s.length<2?a:baseGet(a,baseSlice(s,0,-1))}function isEqual(a,s){return baseIsEqual(a,s)}function isMatch(a,s){return a===s||baseIsMatch(a,s,getMatchData(s))}var kebabCase=createCompounder(function(a,s,d){return a+(d?"-":"")+s.toLowerCase()}),kebabCase$1=kebabCase;function baseUnset(a,s){return s=castPath(s,a),a=parent(a,s),a==null||delete a[toKey(last$1(s))]}function customOmitClone(a){return isPlainObject$1(a)?void 0:a}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(a,s){var d={};if(a==null)return d;var c=!1;s=arrayMap(s,function(_){return _=castPath(_,a),c||(c=_.length>1),_}),copyObject(a,getAllKeysIn(a),d),c&&(d=baseClone(d,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var g=s.length;g--;)baseUnset(d,s[g]);return d}),omit$1=omit;function baseSet(a,s,d,c){if(!isObject$5(a))return a;s=castPath(s,a);for(var g=-1,_=s.length,b=_-1,$=a;$!=null&&++g<_;){var tt=toKey(s[g]),nt=d;if(tt==="__proto__"||tt==="constructor"||tt==="prototype")return a;if(g!=b){var ot=$[tt];nt=c?c(ot,tt,$):void 0,nt===void 0&&(nt=isObject$5(ot)?ot:isIndex(s[g+1])?[]:{})}assignValue($,tt,nt),$=$[tt]}return a}function basePickBy(a,s,d){for(var c=-1,g=s.length,_={};++c<g;){var b=s[c],$=baseGet(a,b);d($,b)&&baseSet(_,castPath(b,a),$)}return _}function baseSortBy(a,s){var d=a.length;for(a.sort(s);d--;)a[d]=a[d].value;return a}function compareAscending(a,s){if(a!==s){var d=a!==void 0,c=a===null,g=a===a,_=isSymbol(a),b=s!==void 0,$=s===null,tt=s===s,nt=isSymbol(s);if(!$&&!nt&&!_&&a>s||_&&b&&tt&&!$&&!nt||c&&b&&tt||!d&&tt||!g)return 1;if(!c&&!_&&!nt&&a<s||nt&&d&&g&&!c&&!_||$&&d&&g||!b&&g||!tt)return-1}return 0}function compareMultiple(a,s,d){for(var c=-1,g=a.criteria,_=s.criteria,b=g.length,$=d.length;++c<b;){var tt=compareAscending(g[c],_[c]);if(tt){if(c>=$)return tt;var nt=d[c];return tt*(nt=="desc"?-1:1)}}return a.index-s.index}function baseOrderBy(a,s,d){s.length?s=arrayMap(s,function(_){return isArray$4(_)?function(b){return baseGet(b,_.length===1?_[0]:_)}:_}):s=[identity$1];var c=-1;s=arrayMap(s,baseUnary(baseIteratee));var g=baseMap(a,function(_,b,$){var tt=arrayMap(s,function(nt){return nt(_)});return{criteria:tt,index:++c,value:_}});return baseSortBy(g,function(_,b){return compareMultiple(_,b,d)})}function basePick(a,s){return basePickBy(a,s,function(d,c){return hasIn(a,c)})}var pick=flatRest(function(a,s){return a==null?{}:basePick(a,s)}),pick$1=pick;function baseIndexOfWith(a,s,d,c){for(var g=d-1,_=a.length;++g<_;)if(c(a[g],s))return g;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function basePullAll(a,s,d,c){var g=c?baseIndexOfWith:baseIndexOf,_=-1,b=s.length,$=a;for(a===s&&(s=copyArray(s)),d&&($=arrayMap(a,baseUnary(d)));++_<b;)for(var tt=0,nt=s[_],ot=d?d(nt):nt;(tt=g($,ot,tt,c))>-1;)$!==a&&splice.call($,tt,1),splice.call(a,tt,1);return a}function pullAll(a,s){return a&&a.length&&s&&s.length?basePullAll(a,s):a}var pull$1=baseRest(pullAll),pull$2=pull$1,sortBy=baseRest(function(a,s){if(a==null)return[];var d=s.length;return d>1&&isIterateeCall(a,s[0],s[1])?s=[]:d>2&&isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),baseOrderBy(a,baseFlatten(s,1),[])}),sortBy$1=sortBy,fastDeepEqual=function a(s,d){if(s===d)return!0;if(s&&d&&typeof s=="object"&&typeof d=="object"){if(s.constructor!==d.constructor)return!1;var c,g,_;if(Array.isArray(s)){if(c=s.length,c!=d.length)return!1;for(g=c;g--!==0;)if(!a(s[g],d[g]))return!1;return!0}if(s.constructor===RegExp)return s.source===d.source&&s.flags===d.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===d.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===d.toString();if(_=Object.keys(s),c=_.length,c!==Object.keys(d).length)return!1;for(g=c;g--!==0;)if(!Object.prototype.hasOwnProperty.call(d,_[g]))return!1;for(g=c;g--!==0;){var b=_[g];if(!a(s[b],d[b]))return!1}return!0}return s!==s&&d!==d};const generateId=()=>(Math.random()*1e20).toString(36),insertAt$1=(a=0,s,d,c=!1)=>[...d.slice(0,a),...[s].flat(),...d.slice(c?a+1:a)],replaceItem$1=(a,s,d)=>{a=typeof a=="function"?a:g=>g===a;const c=d.findIndex(a);return c<0?d:insertAt$1(c,s,d,!0)},swapIndex=(a,s,d)=>{if(!d[a]||!d[s])return d;d=[...d];const c=d[a];return d[a]=d[s],d[s]=c,d},swapItems=(a,s,d)=>{const c=d.findIndex(_=>_===a),g=d.findIndex(_=>_===s);return c<0||g<0?d:swapIndex(c,g,d)},toDataNode$1=a=>a?{id:a.id,props:a.props,childIds:(a.children||[]).map(s=>s.id)}:null,toSceneNode=a=>({id:a.id,props:a.props,children:[]}),toSceneTree=(a,s)=>{const d=a.find(g=>g.id===s);if(!d)return null;const c=d.childIds;return{id:d.id,props:d.props,children:c.map(g=>toSceneTree(a,g)).filter(Boolean)}},forEachDown$1=(a,s)=>{s(a),(a.children||[]).forEach(c=>forEachDown$1(c,(g,_)=>{s(g,_||a)}))},mapDown=(a,s)=>{const d=s(a);return{...d,children:((d==null?void 0:d.children)||(a==null?void 0:a.children)||[]).map(c=>mapDown(c,s))}},mapDownAsync=async(a,s)=>{var c;const d=(c=a==null?void 0:a.children)!=null?c:[];return{...await s(a),children:await Promise.all(d.map(g=>mapDownAsync(g,s)))}},getElementAttributes=a=>Object.values(a.attributes).reduce((s,d)=>({...s,[d.name]:d.value}),{}),asArray=a=>isArray$4(a)?a:[a],sizeToNum=(a,s)=>typeof a=="number"?a:typeof a=="string"?a.indexOf("%")>-1?parseFloat(a)/100*s:parseFloat(a):0,asSize=a=>typeof a=="number"?a+"px":typeof a=="string"?a.indexOf("%")>-1?parseFloat(a)+"%":a:"0px",asDuration=a=>typeof a=="string"?a:typeof a=="number"?a+"ms":"0ms",values=a=>Array.from(a.values());var Logic=Object.freeze(Object.defineProperty({__proto__:null,deepEqual:fastDeepEqual,generateId,insertAt:insertAt$1,replaceItem:replaceItem$1,swapIndex,swapItems,toDataNode:toDataNode$1,toSceneNode,toSceneTree,forEachDown:forEachDown$1,mapDown,mapDownAsync,getElementAttributes,asArray,sizeToNum,asSize,asDuration,values,pick:pick$1,pull:pull$2,omit:omit$1,isEqual,cloneDeep,sortBy:sortBy$1,debounce:debounce$1,camelCase:camelCase$3,kebabCase:kebabCase$1,isArray:isArray$4,every:every$1},Symbol.toStringTag,{value:"Module"})),lib$2={};function e(a){this.message=a}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r$3=typeof window!="undefined"&&window.atob&&window.atob.bind(window)||function(a){var s=String(a).replace(/=+$/,"");if(s.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var d,c,g=0,_=0,b="";c=s.charAt(_++);~c&&(d=g%4?64*d+c:c,g++%4)?b+=String.fromCharCode(255&d>>(-2*g&6)):0)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c);return b};function t$1(a){var s=a.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw"Illegal base64url string!"}try{return function(d){return decodeURIComponent(r$3(d).replace(/(.)/g,function(c,g){var _=g.charCodeAt(0).toString(16).toUpperCase();return _.length<2&&(_="0"+_),"%"+_}))}(s)}catch{return r$3(s)}}function n$1(a){this.message=a}function o(a,s){if(typeof a!="string")throw new n$1("Invalid token specified");var d=(s=s||{}).header===!0?0:1;try{return JSON.parse(t$1(a.split(".")[d]))}catch(c){throw new n$1("Invalid token specified: "+c.message)}}n$1.prototype=new Error,n$1.prototype.name="InvalidTokenError";var jwtDecode_esm=Object.freeze(Object.defineProperty({__proto__:null,default:o,InvalidTokenError:n$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(jwtDecode_esm),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(a){return typeof a=="string"&&REGEX.test(a)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=(byteToHex[a[s+0]]+byteToHex[a[s+1]]+byteToHex[a[s+2]]+byteToHex[a[s+3]]+"-"+byteToHex[a[s+4]]+byteToHex[a[s+5]]+"-"+byteToHex[a[s+6]]+byteToHex[a[s+7]]+"-"+byteToHex[a[s+8]]+byteToHex[a[s+9]]+"-"+byteToHex[a[s+10]]+byteToHex[a[s+11]]+byteToHex[a[s+12]]+byteToHex[a[s+13]]+byteToHex[a[s+14]]+byteToHex[a[s+15]]).toLowerCase();if(!validate$1(d))throw TypeError("Stringified UUID is invalid");return d}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(a,s,d){var c=s&&d||0,g=s||new Array(16);a=a||{};var _=a.node||_nodeId,b=a.clockseq!==void 0?a.clockseq:_clockseq;if(_==null||b==null){var $=a.random||(a.rng||rng)();_==null&&(_=_nodeId=[$[0]|1,$[1],$[2],$[3],$[4],$[5]]),b==null&&(b=_clockseq=($[6]<<8|$[7])&16383)}var tt=a.msecs!==void 0?a.msecs:Date.now(),nt=a.nsecs!==void 0?a.nsecs:_lastNSecs+1,ot=tt-_lastMSecs+(nt-_lastNSecs)/1e4;if(ot<0&&a.clockseq===void 0&&(b=b+1&16383),(ot<0||tt>_lastMSecs)&&a.nsecs===void 0&&(nt=0),nt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=tt,_lastNSecs=nt,_clockseq=b,tt+=122192928e5;var dt=((tt&268435455)*1e4+nt)%4294967296;g[c++]=dt>>>24&255,g[c++]=dt>>>16&255,g[c++]=dt>>>8&255,g[c++]=dt&255;var ut=tt/4294967296*1e4&268435455;g[c++]=ut>>>8&255,g[c++]=ut&255,g[c++]=ut>>>24&15|16,g[c++]=ut>>>16&255,g[c++]=b>>>8|128,g[c++]=b&255;for(var lt=0;lt<6;++lt)g[c+lt]=_[lt];return s||stringify(g)}function parse$1(a){if(!validate$1(a))throw TypeError("Invalid UUID");var s,d=new Uint8Array(16);return d[0]=(s=parseInt(a.slice(0,8),16))>>>24,d[1]=s>>>16&255,d[2]=s>>>8&255,d[3]=s&255,d[4]=(s=parseInt(a.slice(9,13),16))>>>8,d[5]=s&255,d[6]=(s=parseInt(a.slice(14,18),16))>>>8,d[7]=s&255,d[8]=(s=parseInt(a.slice(19,23),16))>>>8,d[9]=s&255,d[10]=(s=parseInt(a.slice(24,36),16))/1099511627776&255,d[11]=s/4294967296&255,d[12]=s>>>24&255,d[13]=s>>>16&255,d[14]=s>>>8&255,d[15]=s&255,d}function stringToBytes(a){a=unescape(encodeURIComponent(a));for(var s=[],d=0;d<a.length;++d)s.push(a.charCodeAt(d));return s}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(a,s,d){function c(g,_,b,$){if(typeof g=="string"&&(g=stringToBytes(g)),typeof _=="string"&&(_=parse$1(_)),_.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var tt=new Uint8Array(16+g.length);if(tt.set(_),tt.set(g,_.length),tt=d(tt),tt[6]=tt[6]&15|s,tt[8]=tt[8]&63|128,b){$=$||0;for(var nt=0;nt<16;++nt)b[$+nt]=tt[nt];return b}return stringify(tt)}try{c.name=a}catch{}return c.DNS=DNS,c.URL=URL$1,c}function md5(a){if(typeof a=="string"){var s=unescape(encodeURIComponent(a));a=new Uint8Array(s.length);for(var d=0;d<s.length;++d)a[d]=s.charCodeAt(d)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(a),a.length*8))}function md5ToHexEncodedArray(a){for(var s=[],d=a.length*32,c="0123456789abcdef",g=0;g<d;g+=8){var _=a[g>>5]>>>g%32&255,b=parseInt(c.charAt(_>>>4&15)+c.charAt(_&15),16);s.push(b)}return s}function getOutputLength(a){return(a+64>>>9<<4)+14+1}function wordsToMd5(a,s){a[s>>5]|=128<<s%32,a[getOutputLength(s)-1]=s;for(var d=1732584193,c=-271733879,g=-1732584194,_=271733878,b=0;b<a.length;b+=16){var $=d,tt=c,nt=g,ot=_;d=md5ff(d,c,g,_,a[b],7,-680876936),_=md5ff(_,d,c,g,a[b+1],12,-389564586),g=md5ff(g,_,d,c,a[b+2],17,606105819),c=md5ff(c,g,_,d,a[b+3],22,-1044525330),d=md5ff(d,c,g,_,a[b+4],7,-176418897),_=md5ff(_,d,c,g,a[b+5],12,1200080426),g=md5ff(g,_,d,c,a[b+6],17,-1473231341),c=md5ff(c,g,_,d,a[b+7],22,-45705983),d=md5ff(d,c,g,_,a[b+8],7,1770035416),_=md5ff(_,d,c,g,a[b+9],12,-1958414417),g=md5ff(g,_,d,c,a[b+10],17,-42063),c=md5ff(c,g,_,d,a[b+11],22,-1990404162),d=md5ff(d,c,g,_,a[b+12],7,1804603682),_=md5ff(_,d,c,g,a[b+13],12,-40341101),g=md5ff(g,_,d,c,a[b+14],17,-1502002290),c=md5ff(c,g,_,d,a[b+15],22,1236535329),d=md5gg(d,c,g,_,a[b+1],5,-165796510),_=md5gg(_,d,c,g,a[b+6],9,-1069501632),g=md5gg(g,_,d,c,a[b+11],14,643717713),c=md5gg(c,g,_,d,a[b],20,-373897302),d=md5gg(d,c,g,_,a[b+5],5,-701558691),_=md5gg(_,d,c,g,a[b+10],9,38016083),g=md5gg(g,_,d,c,a[b+15],14,-660478335),c=md5gg(c,g,_,d,a[b+4],20,-405537848),d=md5gg(d,c,g,_,a[b+9],5,568446438),_=md5gg(_,d,c,g,a[b+14],9,-1019803690),g=md5gg(g,_,d,c,a[b+3],14,-187363961),c=md5gg(c,g,_,d,a[b+8],20,1163531501),d=md5gg(d,c,g,_,a[b+13],5,-1444681467),_=md5gg(_,d,c,g,a[b+2],9,-51403784),g=md5gg(g,_,d,c,a[b+7],14,1735328473),c=md5gg(c,g,_,d,a[b+12],20,-1926607734),d=md5hh(d,c,g,_,a[b+5],4,-378558),_=md5hh(_,d,c,g,a[b+8],11,-2022574463),g=md5hh(g,_,d,c,a[b+11],16,1839030562),c=md5hh(c,g,_,d,a[b+14],23,-35309556),d=md5hh(d,c,g,_,a[b+1],4,-1530992060),_=md5hh(_,d,c,g,a[b+4],11,1272893353),g=md5hh(g,_,d,c,a[b+7],16,-155497632),c=md5hh(c,g,_,d,a[b+10],23,-1094730640),d=md5hh(d,c,g,_,a[b+13],4,681279174),_=md5hh(_,d,c,g,a[b],11,-358537222),g=md5hh(g,_,d,c,a[b+3],16,-722521979),c=md5hh(c,g,_,d,a[b+6],23,76029189),d=md5hh(d,c,g,_,a[b+9],4,-640364487),_=md5hh(_,d,c,g,a[b+12],11,-421815835),g=md5hh(g,_,d,c,a[b+15],16,530742520),c=md5hh(c,g,_,d,a[b+2],23,-995338651),d=md5ii(d,c,g,_,a[b],6,-198630844),_=md5ii(_,d,c,g,a[b+7],10,1126891415),g=md5ii(g,_,d,c,a[b+14],15,-1416354905),c=md5ii(c,g,_,d,a[b+5],21,-57434055),d=md5ii(d,c,g,_,a[b+12],6,1700485571),_=md5ii(_,d,c,g,a[b+3],10,-1894986606),g=md5ii(g,_,d,c,a[b+10],15,-1051523),c=md5ii(c,g,_,d,a[b+1],21,-2054922799),d=md5ii(d,c,g,_,a[b+8],6,1873313359),_=md5ii(_,d,c,g,a[b+15],10,-30611744),g=md5ii(g,_,d,c,a[b+6],15,-1560198380),c=md5ii(c,g,_,d,a[b+13],21,1309151649),d=md5ii(d,c,g,_,a[b+4],6,-145523070),_=md5ii(_,d,c,g,a[b+11],10,-1120210379),g=md5ii(g,_,d,c,a[b+2],15,718787259),c=md5ii(c,g,_,d,a[b+9],21,-343485551),d=safeAdd(d,$),c=safeAdd(c,tt),g=safeAdd(g,nt),_=safeAdd(_,ot)}return[d,c,g,_]}function bytesToWords(a){if(a.length===0)return[];for(var s=a.length*8,d=new Uint32Array(getOutputLength(s)),c=0;c<s;c+=8)d[c>>5]|=(a[c/8]&255)<<c%32;return d}function safeAdd(a,s){var d=(a&65535)+(s&65535),c=(a>>16)+(s>>16)+(d>>16);return c<<16|d&65535}function bitRotateLeft(a,s){return a<<s|a>>>32-s}function md5cmn(a,s,d,c,g,_){return safeAdd(bitRotateLeft(safeAdd(safeAdd(s,a),safeAdd(c,_)),g),d)}function md5ff(a,s,d,c,g,_,b){return md5cmn(s&d|~s&c,a,s,g,_,b)}function md5gg(a,s,d,c,g,_,b){return md5cmn(s&c|d&~c,a,s,g,_,b)}function md5hh(a,s,d,c,g,_,b){return md5cmn(s^d^c,a,s,g,_,b)}function md5ii(a,s,d,c,g,_,b){return md5cmn(d^(s|~c),a,s,g,_,b)}var v3=v35("v3",48,md5),v3$1=v3;function v4(a,s,d){a=a||{};var c=a.random||(a.rng||rng)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,s){d=d||0;for(var g=0;g<16;++g)s[d+g]=c[g];return s}return stringify(c)}function f(a,s,d,c){switch(a){case 0:return s&d^~s&c;case 1:return s^d^c;case 2:return s&d^s&c^d&c;case 3:return s^d^c}}function ROTL(a,s){return a<<s|a>>>32-s}function sha1(a){var s=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){var c=unescape(encodeURIComponent(a));a=[];for(var g=0;g<c.length;++g)a.push(c.charCodeAt(g))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);for(var _=a.length/4+2,b=Math.ceil(_/16),$=new Array(b),tt=0;tt<b;++tt){for(var nt=new Uint32Array(16),ot=0;ot<16;++ot)nt[ot]=a[tt*64+ot*4]<<24|a[tt*64+ot*4+1]<<16|a[tt*64+ot*4+2]<<8|a[tt*64+ot*4+3];$[tt]=nt}$[b-1][14]=(a.length-1)*8/Math.pow(2,32),$[b-1][14]=Math.floor($[b-1][14]),$[b-1][15]=(a.length-1)*8&4294967295;for(var dt=0;dt<b;++dt){for(var ut=new Uint32Array(80),lt=0;lt<16;++lt)ut[lt]=$[dt][lt];for(var Tt=16;Tt<80;++Tt)ut[Tt]=ROTL(ut[Tt-3]^ut[Tt-8]^ut[Tt-14]^ut[Tt-16],1);for(var yt=d[0],pt=d[1],vt=d[2],it=d[3],ct=d[4],mt=0;mt<80;++mt){var Nt=Math.floor(mt/20),Ot=ROTL(yt,5)+f(Nt,pt,vt,it)+ct+s[Nt]+ut[mt]>>>0;ct=it,it=vt,vt=ROTL(pt,30)>>>0,pt=yt,yt=Ot}d[0]=d[0]+yt>>>0,d[1]=d[1]+pt>>>0,d[2]=d[2]+vt>>>0,d[3]=d[3]+it>>>0,d[4]=d[4]+ct>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,d[0]&255,d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,d[1]&255,d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,d[2]&255,d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,d[3]&255,d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,d[4]&255]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$3(a){if(!validate$1(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)}var esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version:version$3,validate:validate$1,stringify,parse:parse$1},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(esmBrowser);class EnhancedMap$1 extends Map{computeIfAbsent(s,d){if(this.has(s))return this.get(s);const c=d(s);return this.set(s,c),c}computeIfPresent(s,d){const c=this.get(s);if(c===void 0)return;const g=d(s,c);return g!==void 0?this.set(s,g):this.delete(s),g}compute(s,d){const c=this.get(s),g=d(s,c);return g?this.set(s,g):this.delete(s),g}}var InternalLogLevel$1;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error"})(InternalLogLevel$1||(InternalLogLevel$1={}));function getInternalLogger$1(a){return provider$1.getLogger(a)}const INTERNAL_LOGGING_SETTINGS$1={setInternalLogLevel:a=>provider$1.changeLogLevel(a),setOutput:a=>provider$1.changeOutput(a),reset:()=>provider$1.reset()};class InternalLoggerImpl$1{constructor(s,d,c){this._name=s,this._level=d,this._fnOutput=c}trace(s){this.log(InternalLogLevel$1.Trace,s)}debug(s){this.log(InternalLogLevel$1.Debug,s)}error(s,d){this.log(InternalLogLevel$1.Error,s,d)}info(s){this.log(InternalLogLevel$1.Info,s)}warn(s,d){this.log(InternalLogLevel$1.Warn,s,d)}setLevel(s){this._level=s}setOutput(s){this._fnOutput=s}log(s,d,c){this._level>s||this._fnOutput(`${InternalLogLevel$1[this._level].toString()} <INTERNAL LOGGER> ${this._name} ${d()}${c?`
`+c.stack:""}`)}}class InternalProviderImpl$1{constructor(){this._loggers=new EnhancedMap$1,this._logLevel=InternalLogLevel$1.Error,this._fnOutput=InternalProviderImpl$1.logConsole}getLogger(s){return this._loggers.computeIfAbsent(s,d=>new InternalLoggerImpl$1(d,this._logLevel,this._fnOutput))}changeLogLevel(s){this._logLevel=s,this._loggers.forEach(d=>d.setLevel(s))}changeOutput(s){this._fnOutput=s,this._loggers.forEach(d=>d.setOutput(this._fnOutput))}reset(){this.changeLogLevel(InternalLogLevel$1.Error),this._fnOutput=InternalProviderImpl$1.logConsole,this._loggers.forEach(s=>s.setOutput(this._fnOutput))}static logConsole(s){console&&console.log&&console.log(s)}}const provider$1=new InternalProviderImpl$1;var InternalLogger$1=Object.freeze({__proto__:null,get InternalLogLevel(){return InternalLogLevel$1},getInternalLogger:getInternalLogger$1,INTERNAL_LOGGING_SETTINGS:INTERNAL_LOGGING_SETTINGS$1}),LogLevel$1;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal"})(LogLevel$1||(LogLevel$1={}));(function(a){function s(d){switch(d.toLowerCase()){case"trace":return a.Trace;case"debug":return a.Debug;case"info":return a.Info;case"warn":return a.Warn;case"error":return a.Error;case"fatal":return a.Fatal;default:return}}a.toLogLevel=s})(LogLevel$1||(LogLevel$1={}));class CoreLoggerImpl$1{constructor(s){this._runtime=s}get id(){return this._runtime.id}get logLevel(){return this._runtime.level}get runtimeSettings(){return Object.assign({},this._runtime)}set runtimeSettings(s){this._runtime=s}trace(s,...d){this.logMessage(LogLevel$1.Trace,s,d)}debug(s,...d){this.logMessage(LogLevel$1.Debug,s,d)}info(s,...d){this.logMessage(LogLevel$1.Info,s,d)}warn(s,...d){this.logMessage(LogLevel$1.Warn,s,d)}error(s,...d){this.logMessage(LogLevel$1.Error,s,d)}fatal(s,...d){this.logMessage(LogLevel$1.Fatal,s,d)}logMessage(s,d,c){if(this._runtime.level>s)return;const g=Date.now(),_=typeof d=="string"?d:d(),b=CoreLoggerImpl$1.getErrorAndArgs(c);switch(this._runtime.channel.type){case"RawLogChannel":this._runtime.channel.write({message:_,exception:b.error,args:b.args,timeInMillis:g,level:s,logNames:this._runtime.name},this._runtime.argumentFormatter);return;case"LogChannel":this._runtime.channel.write(this.createLogMessage(_,s,b,g));break}}formatArgValue(s){try{return this._runtime.argumentFormatter(s)}catch{return`>>ARG CONVERT FAILED: '${s!==void 0?s.toString():"undefined"}'<<`}}createLogMessage(s,d,c,g){let _;const b=c.error,$=c.args;b&&(_=`${b.name}: ${b.message}`,b.stack&&(_+=`@
${b.stack}`));const tt=this._runtime.dateFormatter(g);let nt=LogLevel$1[d].toUpperCase();nt.length<5&&(nt+=" ");const ot=typeof this._runtime.name=="string"?this._runtime.name:this._runtime.name.join(", "),dt=typeof $!="undefined"&&$.length>0?" ["+$.map(lt=>this.formatArgValue(lt)).join(", ")+"]":"";return{message:tt+" "+nt+" ["+ot+"] "+s+dt,error:_}}static getErrorAndArgs(s){if(s.length===0)return{};let d,c;const g=s[0];if(g instanceof Error)return d=g,c=s.length>1?s.slice(1):void 0,{error:d,args:c};if(typeof g=="function"){const _=g();return _ instanceof Error?(d=_,c=s.length>1?s.slice(1):void 0,{error:d,args:c}):s.length===1?Array.isArray(_)?{args:_.length>0?_:void 0}:{args:_}:Array.isArray(_)?{args:[..._,...s.slice(1)]}:{args:[_,...s.slice(1)]}}return{args:s}}}function padStart$1(a,s,d=" "){return padInternal$1(a,s,"start",d)}function padEnd$1(a,s,d=" "){return padInternal$1(a,s,"end",d)}function maxLengthStringValueInArray$1(a){return a.map(s=>s.length).reduce((s,d)=>d>s?d:s,0)}function padInternal$1(a,s,d,c=" "){if(s<=a.length)return a;if(c.length>1)throw new Error(`Fill char must be one char exactly, it is: ${c.length}`);const g=s-a.length;let _="";for(let b=0;b<g;b++)_+=c;return d==="start"?_+a:a+_}function formatArgument$1(a){return a===void 0?"undefined":JSON.stringify(a)}function formatDate$1(a){const s=new Date(a),d=s.getFullYear(),c=padStart$1((s.getMonth()+1).toString(),2,"0"),g=padStart$1(s.getDate().toString(),2,"0"),_=padStart$1(s.getHours().toString(),2,"0"),b=padStart$1(s.getMinutes().toString(),2,"0"),$=padStart$1(s.getSeconds().toString(),2,"0"),tt=padStart$1(s.getMilliseconds().toString(),2,"0");return`${d}-${c}-${g} ${_}:${b}:${$},${tt}`}class ConsoleLogChannel$1{constructor(){this.type="LogChannel"}write(s){console&&console.log&&console.log(s.message+(s.error?`
${s.error}`:""))}}var DefaultChannels$1;(function(a){function s(){return new ConsoleLogChannel$1}a.createConsoleChannel=s})(DefaultChannels$1||(DefaultChannels$1={}));class LogProviderImpl$1{constructor(s,d){this._log=getInternalLogger$1("core.impl.LogProviderImpl"),this._name=s,this._settings=d,this._loggers=new EnhancedMap$1,this._idToKeyMap=new EnhancedMap$1,this._globalRuntimeSettings={level:d.level,channel:d.channel},this._nextLoggerId=1,this._log.trace(()=>`Created LogProviderImpl with settings: ${JSON.stringify(this._settings)}`)}get runtimeSettings(){return Object.assign(Object.assign({},this._settings),{level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel})}getLogger(s){return this.getOrCreateLogger(s)}updateLoggerRuntime(s,d){this._log.debug(()=>`Updating logger ${s.id} runtime settings using: '${JSON.stringify(d)}'`);const c=this._idToKeyMap.get(s.id);return c===void 0?(this._log.warn(()=>`Cannot update logger with id: ${s.id}, it was not found.`),!1):(this._loggers.computeIfPresent(c,(g,_)=>(_.runtimeSettings=LogProviderImpl$1.mergeRuntimeSettingsIntoLogRuntime(_.runtimeSettings,d),_)),!0)}updateRuntimeSettings(s){this._log.debug(()=>`Updating global runtime settings and updating existing loggers runtime settings using: '${JSON.stringify(s)}'`),this._globalRuntimeSettings={level:s.level!==void 0?s.level:this._globalRuntimeSettings.level,channel:s.channel!==void 0?s.channel:this._globalRuntimeSettings.channel},this._loggers.forEach(d=>d.runtimeSettings=LogProviderImpl$1.mergeRuntimeSettingsIntoLogRuntime(d.runtimeSettings,s))}clear(){this._loggers.clear(),this._idToKeyMap.clear(),this._globalRuntimeSettings=Object.assign({},this._settings),this._nextLoggerId=1}getOrCreateLogger(s){const d=LogProviderImpl$1.createKey(s),c=this._loggers.computeIfAbsent(d,()=>{const g={level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel,id:this.nextLoggerId(),name:s,argumentFormatter:this._settings.argumentFormatter,dateFormatter:this._settings.dateFormatter};return new CoreLoggerImpl$1(g)});return this._idToKeyMap.computeIfAbsent(c.id,()=>d),c}nextLoggerId(){const s=this._name+"_"+this._nextLoggerId;return this._nextLoggerId++,s}static mergeRuntimeSettingsIntoLogRuntime(s,d){return Object.assign(Object.assign({},s),{level:d.level!==void 0?d.level:s.level,channel:d.channel!==void 0?d.channel:s.channel})}static createKey(s){return typeof s=="string"?s:s.join(",")}}function createLogProvider$1(a,s){return new LogProviderImpl$1(a,s)}var index$1=Object.freeze({__proto__:null,EnhancedMap:EnhancedMap$1,padStart:padStart$1,padEnd:padEnd$1,maxLengthStringValueInArray:maxLengthStringValueInArray$1});class ArrayLogChannel{constructor(){this._buffer=[],this.type="LogChannel"}write(s){this._buffer.push(s)}get logMessages(){return this._buffer}get messages(){return this._buffer.map(s=>s.message)}}class ArrayRawLogChannel{constructor(){this._buffer=[],this.type="RawLogChannel"}write(s,d){this._buffer.push(s)}get messages(){return this._buffer.map(s=>s.message)}get errors(){return this._buffer.map(s=>s.exception)}get size(){return this._buffer.length}get rawMessages(){return this._buffer}clear(){this._buffer=[]}}class TestControlMessage{constructor(){this._messages=[],this.write=this.write.bind(this)}get messages(){return this._messages}write(s){this._messages.push(s)}clear(){this._messages=[]}}var TestClasses=Object.freeze({__proto__:null,ArrayLogChannel,ArrayRawLogChannel,TestControlMessage}),typescriptLogging_esm=Object.freeze(Object.defineProperty({__proto__:null,$internal:InternalLogger$1,$test:TestClasses,get DefaultChannels(){return DefaultChannels$1},get LogLevel(){return LogLevel$1},createLogProvider:createLogProvider$1,formatArgument:formatArgument$1,formatDate:formatDate$1,util:index$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(typescriptLogging_esm),layoutapi={},lib$1={},lib={},Metadata={};Object.defineProperty(Metadata,"__esModule",{value:!0});Metadata.Metadata=void 0;Metadata.Metadata=function(s){const d=new Map,c={set(g,_){if(g=normalizeKey(g),Array.isArray(_))if(_.length===0)d.delete(g);else{for(const b of _)validate(g,b);d.set(g,g.endsWith("-bin")?_:[_.join(", ")])}else validate(g,_),d.set(g,[_]);return c},append(g,_){g=normalizeKey(g),validate(g,_);let b=d.get(g);return b==null&&(b=[],d.set(g,b)),b.push(_),g.endsWith("-bin")||d.set(g,[b.join(", ")]),c},delete(g){g=normalizeKey(g),d.delete(g)},get(g){var _;return g=normalizeKey(g),(_=d.get(g))===null||_===void 0?void 0:_[0]},getAll(g){var _;return g=normalizeKey(g),(_=d.get(g))!==null&&_!==void 0?_:[]},has(g){return g=normalizeKey(g),d.has(g)},[Symbol.iterator](){return d[Symbol.iterator]()}};if(s!=null){const g=isIterable$1(s)?s:Object.entries(s);for(const[_,b]of g)c.set(_,b)}return c};function normalizeKey(a){return a.toLowerCase()}function validate(a,s){if(!/^[0-9a-z_.-]+$/.test(a))throw new Error(`Metadata key '${a}' contains illegal characters`);if(a.endsWith("-bin")){if(!(s instanceof Uint8Array))throw new Error(`Metadata key '${a}' ends with '-bin', thus it must have binary value`)}else{if(typeof s!="string")throw new Error(`Metadata key '${a}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(s))throw new Error(`Metadata value '${s}' of key '${a}' contains illegal characters`)}}function isIterable$1(a){return Symbol.iterator in a}var Status={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Status=void 0,function(s){s[s.OK=0]="OK",s[s.CANCELLED=1]="CANCELLED",s[s.UNKNOWN=2]="UNKNOWN",s[s.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",s[s.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",s[s.NOT_FOUND=5]="NOT_FOUND",s[s.ALREADY_EXISTS=6]="ALREADY_EXISTS",s[s.PERMISSION_DENIED=7]="PERMISSION_DENIED",s[s.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",s[s.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",s[s.ABORTED=10]="ABORTED",s[s.OUT_OF_RANGE=11]="OUT_OF_RANGE",s[s.UNIMPLEMENTED=12]="UNIMPLEMENTED",s[s.INTERNAL=13]="INTERNAL",s[s.UNAVAILABLE=14]="UNAVAILABLE",s[s.DATA_LOSS=15]="DATA_LOSS",s[s.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(a.Status||(a.Status={}))})(Status);var MethodDescriptor={};Object.defineProperty(MethodDescriptor,"__esModule",{value:!0});var CallOptions={};Object.defineProperty(CallOptions,"__esModule",{value:!0});var ClientMiddleware={};Object.defineProperty(ClientMiddleware,"__esModule",{value:!0});var composeClientMiddleware$1={};Object.defineProperty(composeClientMiddleware$1,"__esModule",{value:!0});composeClientMiddleware$1.composeClientMiddleware=void 0;function composeClientMiddleware(a,s){return(d,c)=>s({...d,next:(g,_)=>a({...d,request:g},_)},c)}composeClientMiddleware$1.composeClientMiddleware=composeClientMiddleware;var ClientError$1={},cjs={},helpers={};helpers.__esModule=void 0;helpers.__esModule=!0;var objectSetPrototypeOfIsDefined=typeof Object.setPrototypeOf=="function",objectGetPrototypeOfIsDefined=typeof Object.getPrototypeOf=="function",objectDefinePropertyIsDefined=typeof Object.defineProperty=="function",objectCreateIsDefined=typeof Object.create=="function",objectHasOwnPropertyIsDefined=typeof Object.prototype.hasOwnProperty=="function",setPrototypeOf=function(s,d){objectSetPrototypeOfIsDefined?Object.setPrototypeOf(s,d):s.__proto__=d};helpers.setPrototypeOf=setPrototypeOf;var getPrototypeOf=function(s){return objectGetPrototypeOfIsDefined?Object.getPrototypeOf(s):s.__proto__||s.prototype};helpers.getPrototypeOf=getPrototypeOf;var ie8ObjectDefinePropertyBug=!1,defineProperty=function a(s,d,c){if(objectDefinePropertyIsDefined&&!ie8ObjectDefinePropertyBug)try{Object.defineProperty(s,d,c)}catch{ie8ObjectDefinePropertyBug=!0,a(s,d,c)}else s[d]=c.value};helpers.defineProperty=defineProperty;var hasOwnProperty$1=function(s,d){return objectHasOwnPropertyIsDefined?s.hasOwnProperty(s,d):s[d]===void 0};helpers.hasOwnProperty=hasOwnProperty$1;var objectCreate=function(s,d){if(objectCreateIsDefined)return Object.create(s,d);var c=function(){};c.prototype=s;var g=new c;if(typeof d=="undefined")return g;if(typeof d=="null")throw new Error("PropertyDescriptors must not be null.");if(typeof d=="object")for(var _ in d)hasOwnProperty$1(d,_)&&(g[_]=d[_].value);return g};helpers.objectCreate=objectCreate;(function(a){a.__esModule=void 0,a.__esModule=!0;var s=helpers,d=s.setPrototypeOf,c=s.getPrototypeOf,g=s.defineProperty,_=s.objectCreate,b=new Error().toString()==="[object Error]",$="";function tt(nt){var ot=this.constructor,dt=ot.name||function(){var pt=ot.toString().match(/^function\s*([^\s(]+)/);return pt===null?$||"Error":pt[1]}(),ut=dt==="Error",lt=ut?$:dt,Tt=Error.apply(this,arguments);if(d(Tt,c(this)),!(Tt instanceof ot)||!(Tt instanceof tt)){var Tt=this;Error.apply(this,arguments),g(Tt,"message",{configurable:!0,enumerable:!1,value:nt,writable:!0})}if(g(Tt,"name",{configurable:!0,enumerable:!1,value:lt,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(Tt,ut?tt:ot),Tt.stack===void 0){var yt=new Error(nt);yt.name=Tt.name,Tt.stack=yt.stack}return b&&g(Tt,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(typeof this.message=="undefined"?"":": "+this.message)},writable:!0}),Tt}$=tt.name||"ExtendableError",tt.prototype=_(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),a.ExtendableError=tt,a.default=a.ExtendableError})(cjs);Object.defineProperty(ClientError$1,"__esModule",{value:!0});ClientError$1.ClientError=void 0;const ts_error_1$1=cjs,Status_1$1=Status;class ClientError extends ts_error_1$1.ExtendableError{constructor(s,d,c){super(`${s} ${Status_1$1.Status[d]}: ${c}`),this.path=s,this.code=d,this.details=c,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](s){return this!==ClientError?this.prototype.isPrototypeOf(s):typeof s=="object"&&s!==null&&(s.constructor===ClientError||s["@@nice-grpc:ClientError"]===!0||s.name==="ClientError"&&s["@@nice-grpc"]===!0)}}ClientError$1.ClientError=ClientError;var CallContext={};Object.defineProperty(CallContext,"__esModule",{value:!0});var ServerMiddleware={};Object.defineProperty(ServerMiddleware,"__esModule",{value:!0});var composeServerMiddleware$1={};Object.defineProperty(composeServerMiddleware$1,"__esModule",{value:!0});composeServerMiddleware$1.composeServerMiddleware=void 0;function composeServerMiddleware(a,s){return(d,c)=>a({...d,next:(g,_)=>s({...d,request:g},_)},c)}composeServerMiddleware$1.composeServerMiddleware=composeServerMiddleware;var ServerError$1={};Object.defineProperty(ServerError$1,"__esModule",{value:!0});ServerError$1.ServerError=void 0;const ts_error_1=cjs,Status_1=Status;class ServerError extends ts_error_1.ExtendableError{constructor(s,d){super(`${Status_1.Status[s]}: ${d}`),this.code=s,this.details=d,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](s){return this!==ServerError?this.prototype.isPrototypeOf(s):typeof s=="object"&&s!==null&&(s.constructor===ServerError||s["@@nice-grpc:ServerError"]===!0||s.name==="ServerError"&&s["@@nice-grpc"]===!0)}}ServerError$1.ServerError=ServerError;(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,g,_,b){b===void 0&&(b=_);var $=Object.getOwnPropertyDescriptor(g,_);(!$||("get"in $?!g.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(c,b,$)}:function(c,g,_,b){b===void 0&&(b=_),c[b]=g[_]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(c,g){for(var _ in c)_!=="default"&&!Object.prototype.hasOwnProperty.call(g,_)&&s(g,c,_)};Object.defineProperty(a,"__esModule",{value:!0}),d(Metadata,a),d(Status,a),d(MethodDescriptor,a),d(CallOptions,a),d(ClientMiddleware,a),d(composeClientMiddleware$1,a),d(ClientError$1,a),d(CallContext,a),d(ServerMiddleware,a),d(composeServerMiddleware$1,a),d(ServerError$1,a)})(lib);var serviceDefinitions={},grpcWeb={};Object.defineProperty(grpcWeb,"__esModule",{value:!0});grpcWeb.isGrpcWebServiceDefinition=grpcWeb.fromGrpcWebServiceDefinition=void 0;function fromGrpcWebServiceDefinition(a){const s={};for(const[d,c]of Object.entries(a)){if(d==="serviceName")continue;const g=c;s[uncapitalize(d)]={path:`/${a.serviceName}/${d}`,requestStream:g.requestStream,responseStream:g.responseStream,requestDeserialize:g.requestType.deserializeBinary,requestSerialize:_=>_.serializeBinary(),responseDeserialize:g.responseType.deserializeBinary,responseSerialize:_=>_.serializeBinary(),options:{}}}return s}grpcWeb.fromGrpcWebServiceDefinition=fromGrpcWebServiceDefinition;function isGrpcWebServiceDefinition(a){return"prototype"in a}grpcWeb.isGrpcWebServiceDefinition=isGrpcWebServiceDefinition;function uncapitalize(a){return a.length===0?a:a[0].toLowerCase()+a.slice(1)}var tsProto={};Object.defineProperty(tsProto,"__esModule",{value:!0});tsProto.isTsProtoServiceDefinition=tsProto.fromTsProtoServiceDefinition=void 0;function fromTsProtoServiceDefinition(a){const s={};for(const[d,c]of Object.entries(a.methods)){const g=c.requestType.encode,_=c.requestType.fromPartial,b=c.responseType.encode,$=c.responseType.fromPartial;s[d]={path:`/${a.fullName}/${c.name}`,requestStream:c.requestStream,responseStream:c.responseStream,requestDeserialize:c.requestType.decode,requestSerialize:_!=null?tt=>g(_(tt)).finish():tt=>g(tt).finish(),responseDeserialize:c.responseType.decode,responseSerialize:$!=null?tt=>b($(tt)).finish():tt=>b(tt).finish(),options:c.options}}return s}tsProto.fromTsProtoServiceDefinition=fromTsProtoServiceDefinition;function isTsProtoServiceDefinition(a){return"name"in a&&"fullName"in a&&"methods"in a}tsProto.isTsProtoServiceDefinition=isTsProtoServiceDefinition;Object.defineProperty(serviceDefinitions,"__esModule",{value:!0});serviceDefinitions.toGrpcWebMethodDefinition=serviceDefinitions.normalizeServiceDefinition=void 0;const grpc_web_1$5=grpcWeb,ts_proto_1=tsProto;function normalizeServiceDefinition(a){return(0,grpc_web_1$5.isGrpcWebServiceDefinition)(a)?(0,grpc_web_1$5.fromGrpcWebServiceDefinition)(a):(0,ts_proto_1.isTsProtoServiceDefinition)(a)?(0,ts_proto_1.fromTsProtoServiceDefinition)(a):a}serviceDefinitions.normalizeServiceDefinition=normalizeServiceDefinition;function toGrpcWebMethodDefinition(a){const[,s,d]=a.path.split("/");return{service:{serviceName:s},methodName:d,requestStream:a.requestStream,responseStream:a.responseStream,requestType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(c){return a.requestDeserialize(c)}},responseType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(c){return a.responseDeserialize(c)}}}}serviceDefinitions.toGrpcWebMethodDefinition=toGrpcWebMethodDefinition;var channel={};Object.defineProperty(channel,"__esModule",{value:!0});channel.createChannel=void 0;function createChannel(a,s){return{address:a,transport:s}}channel.createChannel=createChannel;var ClientFactory={},createBidiStreamingMethod$1={},grpcWebClient_umd={exports:{}};(function(a,s){(function(d,c){a.exports=c()})(commonjsGlobal,function(){return d={418:function(g,_){(function(b,$){for(var tt in $)b[tt]=$[tt]})(_,function(b){var $={};function tt(nt){if($[nt])return $[nt].exports;var ot=$[nt]={i:nt,l:!1,exports:{}};return b[nt].call(ot.exports,ot,ot.exports,tt),ot.l=!0,ot.exports}return tt.m=b,tt.c=$,tt.i=function(nt){return nt},tt.d=function(nt,ot,dt){tt.o(nt,ot)||Object.defineProperty(nt,ot,{configurable:!1,enumerable:!0,get:dt})},tt.n=function(nt){var ot=nt&&nt.__esModule?function(){return nt.default}:function(){return nt};return tt.d(ot,"a",ot),ot},tt.o=function(nt,ot){return Object.prototype.hasOwnProperty.call(nt,ot)},tt.p="",tt(tt.s=1)}([function(b,$,tt){Object.defineProperty($,"__esModule",{value:!0});var nt=tt(3),ot=function(){function dt(ut,lt){ut===void 0&&(ut={}),lt===void 0&&(lt={splitValues:!1});var Tt,yt=this;this.headersMap={},ut&&(typeof Headers!="undefined"&&ut instanceof Headers?nt.getHeaderKeys(ut).forEach(function(pt){nt.getHeaderValues(ut,pt).forEach(function(vt){lt.splitValues?yt.append(pt,nt.splitHeaderValue(vt)):yt.append(pt,vt)})}):typeof(Tt=ut)=="object"&&typeof Tt.headersMap=="object"&&typeof Tt.forEach=="function"?ut.forEach(function(pt,vt){yt.append(pt,vt)}):typeof Map!="undefined"&&ut instanceof Map?ut.forEach(function(pt,vt){yt.append(vt,pt)}):typeof ut=="string"?this.appendFromString(ut):typeof ut=="object"&&Object.getOwnPropertyNames(ut).forEach(function(pt){var vt=ut[pt];Array.isArray(vt)?vt.forEach(function(it){yt.append(pt,it)}):yt.append(pt,vt)}))}return dt.prototype.appendFromString=function(ut){for(var lt=ut.split(`\r
`),Tt=0;Tt<lt.length;Tt++){var yt=lt[Tt],pt=yt.indexOf(":");if(pt>0){var vt=yt.substring(0,pt).trim(),it=yt.substring(pt+1).trim();this.append(vt,it)}}},dt.prototype.delete=function(ut,lt){var Tt=nt.normalizeName(ut);if(lt===void 0)delete this.headersMap[Tt];else{var yt=this.headersMap[Tt];if(yt){var pt=yt.indexOf(lt);pt>=0&&yt.splice(pt,1),yt.length===0&&delete this.headersMap[Tt]}}},dt.prototype.append=function(ut,lt){var Tt=this,yt=nt.normalizeName(ut);Array.isArray(this.headersMap[yt])||(this.headersMap[yt]=[]),Array.isArray(lt)?lt.forEach(function(pt){Tt.headersMap[yt].push(nt.normalizeValue(pt))}):this.headersMap[yt].push(nt.normalizeValue(lt))},dt.prototype.set=function(ut,lt){var Tt=nt.normalizeName(ut);if(Array.isArray(lt)){var yt=[];lt.forEach(function(pt){yt.push(nt.normalizeValue(pt))}),this.headersMap[Tt]=yt}else this.headersMap[Tt]=[nt.normalizeValue(lt)]},dt.prototype.has=function(ut,lt){var Tt=this.headersMap[nt.normalizeName(ut)];if(!Array.isArray(Tt))return!1;if(lt!==void 0){var yt=nt.normalizeValue(lt);return Tt.indexOf(yt)>=0}return!0},dt.prototype.get=function(ut){var lt=this.headersMap[nt.normalizeName(ut)];return lt!==void 0?lt.concat():[]},dt.prototype.forEach=function(ut){var lt=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Tt){ut(Tt,lt.headersMap[Tt])},this)},dt.prototype.toHeaders=function(){if(typeof Headers!="undefined"){var ut=new Headers;return this.forEach(function(lt,Tt){Tt.forEach(function(yt){ut.append(lt,yt)})}),ut}throw new Error("Headers class is not defined")},dt}();$.BrowserHeaders=ot},function(b,$,tt){Object.defineProperty($,"__esModule",{value:!0});var nt=tt(0);$.BrowserHeaders=nt.BrowserHeaders},function(b,$,tt){Object.defineProperty($,"__esModule",{value:!0}),$.iterateHeaders=function(nt,ot){for(var dt=nt[Symbol.iterator](),ut=dt.next();!ut.done;)ot(ut.value[0]),ut=dt.next()},$.iterateHeadersKeys=function(nt,ot){for(var dt=nt.keys(),ut=dt.next();!ut.done;)ot(ut.value),ut=dt.next()}},function(b,$,tt){Object.defineProperty($,"__esModule",{value:!0});var nt=tt(2);$.normalizeName=function(ot){if(typeof ot!="string"&&(ot=String(ot)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ot))throw new TypeError("Invalid character in header field name");return ot.toLowerCase()},$.normalizeValue=function(ot){return typeof ot!="string"&&(ot=String(ot)),ot},$.getHeaderValues=function(ot,dt){var ut=ot;if(ut instanceof Headers&&ut.getAll)return ut.getAll(dt);var lt=ut.get(dt);return lt&&typeof lt=="string"?[lt]:lt},$.getHeaderKeys=function(ot){var dt=ot,ut={},lt=[];return dt.keys?nt.iterateHeadersKeys(dt,function(Tt){ut[Tt]||(ut[Tt]=!0,lt.push(Tt))}):dt.forEach?dt.forEach(function(Tt,yt){ut[yt]||(ut[yt]=!0,lt.push(yt))}):nt.iterateHeaders(dt,function(Tt){var yt=Tt[0];ut[yt]||(ut[yt]=!0,lt.push(yt))}),lt},$.splitHeaderValue=function(ot){var dt=[];return ot.split(", ").forEach(function(ut){ut.split(",").forEach(function(lt){dt.push(lt)})}),dt}}]))},617:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.ChunkParser=_.ChunkType=_.encodeASCII=_.decodeASCII=void 0;var $,tt=b(65);function nt(pt){return(vt=pt)===9||vt===10||vt===13||pt>=32&&pt<=126;var vt}function ot(pt){for(var vt=0;vt!==pt.length;++vt)if(!nt(pt[vt]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(pt))}function dt(pt){return(128&pt.getUint8(0))==128}function ut(pt){return pt.getUint32(1,!1)}function lt(pt,vt,it){return pt.byteLength-vt>=it}function Tt(pt,vt,it){if(pt.slice)return pt.slice(vt,it);var ct=pt.length;it!==void 0&&(ct=it);for(var mt=new Uint8Array(ct-vt),Nt=0,Ot=vt;Ot<ct;Ot++)mt[Nt++]=pt[Ot];return mt}_.decodeASCII=ot,_.encodeASCII=function(pt){for(var vt=new Uint8Array(pt.length),it=0;it!==pt.length;++it){var ct=pt.charCodeAt(it);if(!nt(ct))throw new Error("Metadata contains invalid ASCII");vt[it]=ct}return vt},function(pt){pt[pt.MESSAGE=1]="MESSAGE",pt[pt.TRAILERS=2]="TRAILERS"}($=_.ChunkType||(_.ChunkType={}));var yt=function(){function pt(){this.buffer=null,this.position=0}return pt.prototype.parse=function(vt,it){if(vt.length===0&&it)return[];var ct,mt=[];if(this.buffer==null)this.buffer=vt,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=vt,this.position=0;else{var Nt=this.buffer.byteLength-this.position,Ot=new Uint8Array(Nt+vt.byteLength),At=Tt(this.buffer,this.position);Ot.set(At,0);var Pt=new Uint8Array(vt);Ot.set(Pt,Nt),this.buffer=Ot,this.position=0}for(;;){if(!lt(this.buffer,this.position,5))return mt;var St=Tt(this.buffer,this.position,this.position+5),Ct=new DataView(St.buffer,St.byteOffset,St.byteLength),$t=ut(Ct);if(!lt(this.buffer,this.position,5+$t))return mt;var gt=Tt(this.buffer,this.position+5,this.position+5+$t);if(this.position+=5+$t,dt(Ct))return mt.push({chunkType:$.TRAILERS,trailers:(ct=gt,new tt.Metadata(ot(ct)))}),mt;mt.push({chunkType:$.MESSAGE,data:gt})}},pt}();_.ChunkParser=yt},8:function(g,_){var b;Object.defineProperty(_,"__esModule",{value:!0}),_.httpStatusToCode=_.Code=void 0,function($){$[$.OK=0]="OK",$[$.Canceled=1]="Canceled",$[$.Unknown=2]="Unknown",$[$.InvalidArgument=3]="InvalidArgument",$[$.DeadlineExceeded=4]="DeadlineExceeded",$[$.NotFound=5]="NotFound",$[$.AlreadyExists=6]="AlreadyExists",$[$.PermissionDenied=7]="PermissionDenied",$[$.ResourceExhausted=8]="ResourceExhausted",$[$.FailedPrecondition=9]="FailedPrecondition",$[$.Aborted=10]="Aborted",$[$.OutOfRange=11]="OutOfRange",$[$.Unimplemented=12]="Unimplemented",$[$.Internal=13]="Internal",$[$.Unavailable=14]="Unavailable",$[$.DataLoss=15]="DataLoss",$[$.Unauthenticated=16]="Unauthenticated"}(b=_.Code||(_.Code={})),_.httpStatusToCode=function($){switch($){case 0:return b.Internal;case 200:return b.OK;case 400:return b.InvalidArgument;case 401:return b.Unauthenticated;case 403:return b.PermissionDenied;case 404:return b.NotFound;case 409:return b.Aborted;case 412:return b.FailedPrecondition;case 429:return b.ResourceExhausted;case 499:return b.Canceled;case 500:return b.Unknown;case 501:return b.Unimplemented;case 503:return b.Unavailable;case 504:return b.DeadlineExceeded;default:return b.Unknown}}},934:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.client=void 0;var $=b(65),tt=b(617),nt=b(8),ot=b(346),dt=b(57),ut=b(882);_.client=function(yt,pt){return new lt(yt,pt)};var lt=function(){function yt(pt,vt){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new tt.ChunkParser,this.methodDefinition=pt,this.props=vt,this.createTransport()}return yt.prototype.createTransport=function(){var pt=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,vt={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:pt,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(vt):this.transport=dt.makeDefaultTransport(vt)},yt.prototype.onTransportHeaders=function(pt,vt){if(this.props.debug&&ot.debug("onHeaders",pt,vt),this.closed)this.props.debug&&ot.debug("grpc.onHeaders received after request was closed - ignoring");else if(vt!==0){this.responseHeaders=pt,this.props.debug&&ot.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var it=Tt(pt);this.props.debug&&ot.debug("onHeaders.gRPCStatus",it);var ct=it&&it>=0?it:nt.httpStatusToCode(vt);this.props.debug&&ot.debug("onHeaders.code",ct);var mt=pt.get("grpc-message")||[];if(this.props.debug&&ot.debug("onHeaders.gRPCMessage",mt),this.rawOnHeaders(pt),ct!==nt.Code.OK){var Nt=this.decodeGRPCStatus(mt[0]);this.rawOnError(ct,Nt,pt)}}},yt.prototype.onTransportChunk=function(pt){var vt=this;if(this.closed)this.props.debug&&ot.debug("grpc.onChunk received after request was closed - ignoring");else{var it=[];try{it=this.parser.parse(pt)}catch(ct){return this.props.debug&&ot.debug("onChunk.parsing error",ct,ct.message),void this.rawOnError(nt.Code.Internal,"parsing error: "+ct.message)}it.forEach(function(ct){if(ct.chunkType===tt.ChunkType.MESSAGE){var mt=vt.methodDefinition.responseType.deserializeBinary(ct.data);vt.rawOnMessage(mt)}else ct.chunkType===tt.ChunkType.TRAILERS&&(vt.responseHeaders?(vt.responseTrailers=new $.Metadata(ct.trailers),vt.props.debug&&ot.debug("onChunk.trailers",vt.responseTrailers)):(vt.responseHeaders=new $.Metadata(ct.trailers),vt.rawOnHeaders(vt.responseHeaders)))})}},yt.prototype.onTransportEnd=function(){if(this.props.debug&&ot.debug("grpc.onEnd"),this.closed)this.props.debug&&ot.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var pt=Tt(this.responseTrailers);if(pt!==null){var vt=this.responseTrailers.get("grpc-message"),it=this.decodeGRPCStatus(vt[0]);this.rawOnEnd(pt,it,this.responseTrailers)}else this.rawOnError(nt.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(nt.Code.Unknown,"Response closed without headers");var ct=Tt(this.responseHeaders),mt=this.responseHeaders.get("grpc-message");if(this.props.debug&&ot.debug("grpc.headers only response ",ct,mt),ct===null)return void this.rawOnEnd(nt.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Nt=this.decodeGRPCStatus(mt[0]);this.rawOnEnd(ct,Nt,this.responseHeaders)}},yt.prototype.decodeGRPCStatus=function(pt){if(!pt)return"";try{return decodeURIComponent(pt)}catch{return pt}},yt.prototype.rawOnEnd=function(pt,vt,it){var ct=this;this.props.debug&&ot.debug("rawOnEnd",pt,vt,it),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(mt){if(!ct.closed)try{mt(pt,vt,it)}catch(Nt){setTimeout(function(){throw Nt},0)}}))},yt.prototype.rawOnHeaders=function(pt){this.props.debug&&ot.debug("rawOnHeaders",pt),this.completed||this.onHeadersCallbacks.forEach(function(vt){try{vt(pt)}catch(it){setTimeout(function(){throw it},0)}})},yt.prototype.rawOnError=function(pt,vt,it){var ct=this;it===void 0&&(it=new $.Metadata),this.props.debug&&ot.debug("rawOnError",pt,vt),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(mt){if(!ct.closed)try{mt(pt,vt,it)}catch(Nt){setTimeout(function(){throw Nt},0)}}))},yt.prototype.rawOnMessage=function(pt){var vt=this;this.props.debug&&ot.debug("rawOnMessage",pt.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(it){if(!vt.closed)try{it(pt)}catch(ct){setTimeout(function(){throw ct},0)}})},yt.prototype.onHeaders=function(pt){this.onHeadersCallbacks.push(pt)},yt.prototype.onMessage=function(pt){this.onMessageCallbacks.push(pt)},yt.prototype.onEnd=function(pt){this.onEndCallbacks.push(pt)},yt.prototype.start=function(pt){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var vt=new $.Metadata(pt||{});vt.set("content-type","application/grpc-web+proto"),vt.set("x-grpc-web","1"),this.transport.start(vt)},yt.prototype.send=function(pt){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var vt=ut.frameRequest(pt);this.transport.sendMessage(vt)},yt.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},yt.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&ot.debug("request.abort aborting request"),this.transport.cancel()},yt}();function Tt(yt){var pt=yt.get("grpc-status")||[];if(pt.length>0)try{var vt=pt[0];return parseInt(vt,10)}catch{return null}return null}},346:function(g,_){Object.defineProperty(_,"__esModule",{value:!0}),_.debug=void 0,_.debug=function(){for(var b=[],$=0;$<arguments.length;$++)b[$]=arguments[$];console.debug?console.debug.apply(null,b):console.log.apply(null,b)}},607:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.grpc=void 0;var $,tt=b(418),nt=b(57),ot=b(229),dt=b(540),ut=b(210),lt=b(859),Tt=b(8),yt=b(938),pt=b(35),vt=b(934);($=_.grpc||(_.grpc={})).setDefaultTransport=nt.setDefaultTransportFactory,$.CrossBrowserHttpTransport=lt.CrossBrowserHttpTransport,$.FetchReadableStreamTransport=ot.FetchReadableStreamTransport,$.XhrTransport=ut.XhrTransport,$.WebsocketTransport=dt.WebsocketTransport,$.Code=Tt.Code,$.Metadata=tt.BrowserHeaders,$.client=function(it,ct){return vt.client(it,ct)},$.invoke=yt.invoke,$.unary=pt.unary},938:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.invoke=void 0;var $=b(934);_.invoke=function(tt,nt){if(tt.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var ot=$.client(tt,{host:nt.host,transport:nt.transport,debug:nt.debug});return nt.onHeaders&&ot.onHeaders(nt.onHeaders),nt.onMessage&&ot.onMessage(nt.onMessage),nt.onEnd&&ot.onEnd(nt.onEnd),ot.start(nt.metadata),ot.send(nt.request),ot.finishSend(),{close:function(){ot.close()}}}},65:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.Metadata=void 0;var $=b(418);Object.defineProperty(_,"Metadata",{enumerable:!0,get:function(){return $.BrowserHeaders}})},57:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.makeDefaultTransport=_.setDefaultTransportFactory=void 0;var $=b(859),tt=function(nt){return $.CrossBrowserHttpTransport({withCredentials:!1})(nt)};_.setDefaultTransportFactory=function(nt){tt=nt},_.makeDefaultTransport=function(nt){return tt(nt)}},229:function(g,_,b){var $=this&&this.__assign||function(){return($=Object.assign||function(dt){for(var ut,lt=1,Tt=arguments.length;lt<Tt;lt++)for(var yt in ut=arguments[lt])Object.prototype.hasOwnProperty.call(ut,yt)&&(dt[yt]=ut[yt]);return dt}).apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.detectFetchSupport=_.FetchReadableStreamTransport=void 0;var tt=b(65),nt=b(346);_.FetchReadableStreamTransport=function(dt){return function(ut){return function(lt,Tt){return lt.debug&&nt.debug("fetchRequest",lt),new ot(lt,Tt)}(ut,dt)}};var ot=function(){function dt(ut,lt){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=ut,this.init=lt}return dt.prototype.pump=function(ut,lt){var Tt=this;if(this.reader=ut,this.cancelled)return this.options.debug&&nt.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(yt){Tt.options.debug&&nt.debug("Fetch.pump.reader.cancel exception",yt)});this.reader.read().then(function(yt){if(yt.done)return Tt.options.onEnd(),lt;Tt.options.onChunk(yt.value),Tt.pump(Tt.reader,lt)}).catch(function(yt){Tt.cancelled?Tt.options.debug&&nt.debug("Fetch.catch - request cancelled"):(Tt.cancelled=!0,Tt.options.debug&&nt.debug("Fetch.catch",yt.message),Tt.options.onEnd(yt))})},dt.prototype.send=function(ut){var lt=this;fetch(this.options.url,$($({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:ut,signal:this.controller&&this.controller.signal})).then(function(Tt){if(lt.options.debug&&nt.debug("Fetch.response",Tt),lt.options.onHeaders(new tt.Metadata(Tt.headers),Tt.status),!Tt.body)return Tt;lt.pump(Tt.body.getReader(),Tt)}).catch(function(Tt){lt.cancelled?lt.options.debug&&nt.debug("Fetch.catch - request cancelled"):(lt.cancelled=!0,lt.options.debug&&nt.debug("Fetch.catch",Tt.message),lt.options.onEnd(Tt))})},dt.prototype.sendMessage=function(ut){this.send(ut)},dt.prototype.finishSend=function(){},dt.prototype.start=function(ut){this.metadata=ut},dt.prototype.cancel=function(){var ut=this;this.cancelled?this.options.debug&&nt.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&nt.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&nt.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&nt.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(lt){ut.options.debug&&nt.debug("Fetch.cancel.reader.cancel exception",lt)})):this.options.debug&&nt.debug("Fetch.cancel before reader"))},dt}();_.detectFetchSupport=function(){return typeof Response!="undefined"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.CrossBrowserHttpTransport=void 0;var $=b(229),tt=b(210);_.CrossBrowserHttpTransport=function(nt){if($.detectFetchSupport()){var ot={credentials:nt.withCredentials?"include":"same-origin"};return $.FetchReadableStreamTransport(ot)}return tt.XhrTransport({withCredentials:nt.withCredentials})}},210:function(g,_,b){var $,tt=this&&this.__extends||($=function(pt,vt){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,ct){it.__proto__=ct}||function(it,ct){for(var mt in ct)Object.prototype.hasOwnProperty.call(ct,mt)&&(it[mt]=ct[mt])})(pt,vt)},function(pt,vt){function it(){this.constructor=pt}$(pt,vt),pt.prototype=vt===null?Object.create(vt):(it.prototype=vt.prototype,new it)});Object.defineProperty(_,"__esModule",{value:!0}),_.stringToArrayBuffer=_.MozChunkedArrayBufferXHR=_.XHR=_.XhrTransport=void 0;var nt=b(65),ot=b(346),dt=b(849);_.XhrTransport=function(pt){return function(vt){if(dt.detectMozXHRSupport())return new lt(vt,pt);if(dt.detectXHROverrideMimeTypeSupport())return new ut(vt,pt);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var ut=function(){function pt(vt,it){this.options=vt,this.init=it}return pt.prototype.onProgressEvent=function(){this.options.debug&&ot.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var vt=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var it=yt(vt);this.options.onChunk(it)},pt.prototype.onLoadEvent=function(){this.options.debug&&ot.debug("XHR.onLoadEvent"),this.options.onEnd()},pt.prototype.onStateChange=function(){this.options.debug&&ot.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new nt.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},pt.prototype.sendMessage=function(vt){this.xhr.send(vt)},pt.prototype.finishSend=function(){},pt.prototype.start=function(vt){var it=this;this.metadata=vt;var ct=new XMLHttpRequest;this.xhr=ct,ct.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(mt,Nt){ct.setRequestHeader(mt,Nt.join(", "))}),ct.withCredentials=Boolean(this.init.withCredentials),ct.addEventListener("readystatechange",this.onStateChange.bind(this)),ct.addEventListener("progress",this.onProgressEvent.bind(this)),ct.addEventListener("loadend",this.onLoadEvent.bind(this)),ct.addEventListener("error",function(mt){it.options.debug&&ot.debug("XHR.error",mt),it.options.onEnd(mt.error)})},pt.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},pt.prototype.cancel=function(){this.options.debug&&ot.debug("XHR.abort"),this.xhr.abort()},pt}();_.XHR=ut;var lt=function(pt){function vt(){return pt!==null&&pt.apply(this,arguments)||this}return tt(vt,pt),vt.prototype.configureXhr=function(){this.options.debug&&ot.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},vt.prototype.onProgressEvent=function(){var it=this.xhr.response;this.options.debug&&ot.debug("MozXHR.onProgressEvent: ",new Uint8Array(it)),this.options.onChunk(new Uint8Array(it))},vt}(ut);function Tt(pt,vt){var it=pt.charCodeAt(vt);if(it>=55296&&it<=56319){var ct=pt.charCodeAt(vt+1);ct>=56320&&ct<=57343&&(it=65536+(it-55296<<10)+(ct-56320))}return it}function yt(pt){for(var vt=new Uint8Array(pt.length),it=0,ct=0;ct<pt.length;ct++){var mt=String.prototype.codePointAt?pt.codePointAt(ct):Tt(pt,ct);vt[it++]=255&mt}return vt}_.MozChunkedArrayBufferXHR=lt,_.stringToArrayBuffer=yt},849:function(g,_){var b;function $(){if(b!==void 0)return b;if(XMLHttpRequest){b=new XMLHttpRequest;try{b.open("GET","https://localhost")}catch{}}return b}function tt(nt){var ot=$();if(!ot)return!1;try{return ot.responseType=nt,ot.responseType===nt}catch{}return!1}Object.defineProperty(_,"__esModule",{value:!0}),_.detectXHROverrideMimeTypeSupport=_.detectMozXHRSupport=_.xhrSupportsResponseType=void 0,_.xhrSupportsResponseType=tt,_.detectMozXHRSupport=function(){return typeof XMLHttpRequest!="undefined"&&tt("moz-chunked-arraybuffer")},_.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest!="undefined"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.WebsocketTransport=void 0;var $,tt=b(346),nt=b(617);(function(dt){dt[dt.FINISH_SEND=1]="FINISH_SEND"})($||($={}));var ot=new Uint8Array([1]);_.WebsocketTransport=function(){return function(dt){return function(ut){ut.debug&&tt.debug("websocketRequest",ut);var lt,Tt=function(vt){if(vt.substr(0,8)==="https://")return"wss://"+vt.substr(8);if(vt.substr(0,7)==="http://")return"ws://"+vt.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(ut.url),yt=[];function pt(vt){if(vt===$.FINISH_SEND)lt.send(ot);else{var it=vt,ct=new Int8Array(it.byteLength+1);ct.set(new Uint8Array([0])),ct.set(it,1),lt.send(ct)}}return{sendMessage:function(vt){lt&&lt.readyState!==lt.CONNECTING?pt(vt):yt.push(vt)},finishSend:function(){lt&&lt.readyState!==lt.CONNECTING?pt($.FINISH_SEND):yt.push($.FINISH_SEND)},start:function(vt){(lt=new WebSocket(Tt,["grpc-websockets"])).binaryType="arraybuffer",lt.onopen=function(){var it;ut.debug&&tt.debug("websocketRequest.onopen"),lt.send((it="",vt.forEach(function(ct,mt){it+=ct+": "+mt.join(", ")+`\r
`}),nt.encodeASCII(it))),yt.forEach(function(ct){pt(ct)})},lt.onclose=function(it){ut.debug&&tt.debug("websocketRequest.onclose",it),ut.onEnd()},lt.onerror=function(it){ut.debug&&tt.debug("websocketRequest.onerror",it)},lt.onmessage=function(it){ut.onChunk(new Uint8Array(it.data))}},cancel:function(){ut.debug&&tt.debug("websocket.abort"),lt.close()}}}(dt)}}},35:function(g,_,b){Object.defineProperty(_,"__esModule",{value:!0}),_.unary=void 0;var $=b(65),tt=b(934);_.unary=function(nt,ot){if(nt.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(nt.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var dt=null,ut=null,lt=tt.client(nt,{host:ot.host,transport:ot.transport,debug:ot.debug});return lt.onHeaders(function(Tt){dt=Tt}),lt.onMessage(function(Tt){ut=Tt}),lt.onEnd(function(Tt,yt,pt){ot.onEnd({status:Tt,statusMessage:yt,headers:dt||new $.Metadata,message:ut,trailers:pt})}),lt.start(ot.metadata),lt.send(ot.request),lt.finishSend(),{close:function(){lt.close()}}}},882:function(g,_){Object.defineProperty(_,"__esModule",{value:!0}),_.frameRequest=void 0,_.frameRequest=function(b){var $=b.serializeBinary(),tt=new ArrayBuffer($.byteLength+5);return new DataView(tt,1,4).setUint32(0,$.length,!1),new Uint8Array(tt,5).set($),new Uint8Array(tt)}}},c={},function g(_){if(c[_])return c[_].exports;var b=c[_]={exports:{}};return d[_].call(b.exports,b,b.exports,g),b.exports}(607);var d,c})})(grpcWebClient_umd);class AbortError extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}function isAbortError(a){return typeof a=="object"&&a!==null&&a.name==="AbortError"}function throwIfAborted(a){if(a.aborted)throw new AbortError}function rethrowAbortError(a){if(isAbortError(a))throw a}function catchAbortError(a){if(!isAbortError(a))throw a}function execute(a,s){return new Promise((d,c)=>{if(a.aborted){c(new AbortError);return}let g,_=!1;function b(){_||(_=!0,g!=null&&g())}const $=s(tt=>{d(tt),b()},tt=>{c(tt),b()});if(!_){const tt=()=>{const nt=$();nt==null?c(new AbortError):nt.then(()=>{c(new AbortError)},ot=>{c(ot)}),b()};a.addEventListener("abort",tt),g=()=>{a.removeEventListener("abort",tt)}}})}function abortable(a,s){if(a.aborted){const d=()=>{};s.then(d,d)}return execute(a,(d,c)=>(s.then(d,c),()=>{}))}function delay$1(a,s){return execute(a,d=>{const c=typeof s=="number"?s:s.getTime()-Date.now(),g=setTimeout(d,c);return()=>{clearTimeout(g)}})}function forever(a){return execute(a,()=>()=>{})}function waitForEvent(a,s,d,c){return execute(a,g=>{let _,b=!1;return _=listen(s,d,(...tt)=>{g(tt.length>1?tt:tt[0]),b=!0,_!=null&&_()},c),b&&_(),()=>{b=!0,_!=null&&_()}})}function listen(a,s,d,c){if(isEventTarget(a))return a.addEventListener(s,d,c),()=>a.removeEventListener(s,d,c);if(isJQueryStyleEventEmitter(a))return a.on(s,d),()=>a.off(s,d);if(isNodeStyleEventEmitter(a))return a.addListener(s,d),()=>a.removeListener(s,d);throw new Error("Invalid event target")}function isNodeStyleEventEmitter(a){return isFunction$2(a.addListener)&&isFunction$2(a.removeListener)}function isJQueryStyleEventEmitter(a){return isFunction$2(a.on)&&isFunction$2(a.off)}function isEventTarget(a){return isFunction$2(a.addEventListener)&&isFunction$2(a.removeEventListener)}const isFunction$2=a=>typeof a=="function";var browser$3={exports:{}};const _global=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;if(!_global)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!_global.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');browser$3.exports=_global.AbortController;browser$3.exports.default=_global.AbortController;var AbortController$1=browser$3.exports;function all(a,s){return new Promise((d,c)=>{if(a.aborted){c(new AbortError);return}const g=new AbortController$1,_=s(g.signal);if(_.length===0){d([]);return}const b=()=>{g.abort()};a.addEventListener("abort",b);let $;const tt=new Array(_.length);let nt=0;function ot(){nt+=1,nt===_.length&&(a.removeEventListener("abort",b),$!=null?c($.reason):d(tt))}for(const[dt,ut]of _.entries())ut.then(lt=>{tt[dt]=lt,ot()},lt=>{g.abort(),($==null||!isAbortError(lt)&&isAbortError($.reason))&&($={reason:lt}),ot()})})}function race$2(a,s){return new Promise((d,c)=>{if(a.aborted){c(new AbortError);return}const g=new AbortController$1,_=s(g.signal),b=()=>{g.abort()};a.addEventListener("abort",b);let $=0;function tt(ot){g.abort(),$+=1,$===_.length&&(a.removeEventListener("abort",b),ot.status==="fulfilled"?d(ot.value):c(ot.reason))}let nt;for(const ot of _)ot.then(dt=>{nt==null&&(nt={status:"fulfilled",value:dt}),tt(nt)},dt=>{(nt==null||!isAbortError(dt)&&(nt.status==="fulfilled"||isAbortError(nt.reason)))&&(nt={status:"rejected",reason:dt}),tt(nt)})})}async function retry$1(a,s,d={}){const{baseMs:c=1e3,maxDelayMs:g=15e3,onError:_,maxAttempts:b=1/0}=d;let $=0;const tt=()=>{$=-1};for(;;)try{return await s(a,$,tt)}catch(nt){if(rethrowAbortError(nt),$>=b)throw nt;let ot;if($===-1)ot=0;else{const dt=Math.min(g,Math.pow(2,$)*c);ot=Math.round(dt*(1+Math.random())/2)}_&&_(nt,$,ot),ot!==0&&await delay$1(a,ot),$+=1}}function spawn(a,s){if(a.aborted)return Promise.reject(new AbortError);const d=[],c=new AbortController$1,g=c.signal,_=()=>{c.abort()};a.addEventListener("abort",_);const b=()=>{a.removeEventListener("abort",_)},$=new Set,tt=()=>{for(const dt of $)dt.abort()};g.addEventListener("abort",tt);const nt=()=>{g.removeEventListener("abort",tt)};let ot=new Promise((dt,ut)=>{let lt,Tt;yt(pt=>s(pt,{defer(vt){d.push(vt)},fork:yt})).join().then(pt=>{c.abort(),lt={value:pt}},pt=>{c.abort(),(!isAbortError(pt)||Tt==null)&&(Tt={error:pt})});function yt(pt){if(g.aborted)return{abort(){},async join(){throw new AbortError}};const vt=new AbortController$1,it=vt.signal,ct=pt(it),mt={abort(){vt.abort()},join:()=>ct};return $.add(mt),ct.catch(catchAbortError).catch(Nt=>{Tt={error:Nt},c.abort()}).finally(()=>{$.delete(mt),$.size===0&&(Tt!=null?ut(Tt.error):dt(lt.value))}),mt}});return ot=ot.finally(()=>{b(),nt();let dt=Promise.resolve();for(let ut=d.length-1;ut>=0;ut--)dt=dt.finally(d[ut]);return dt}),ot}function run$1(a){const s=new AbortController$1,d=a(s.signal).catch(catchAbortError);return()=>(s.abort(),d)}var es=Object.freeze(Object.defineProperty({__proto__:null,abortable,AbortError,isAbortError,throwIfAborted,rethrowAbortError,catchAbortError,delay:delay$1,execute,forever,waitForEvent,all,race:race$2,retry:retry$1,spawn,run:run$1},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(es),AsyncSink$1={};Object.defineProperty(AsyncSink$1,"__esModule",{value:!0});AsyncSink$1.AsyncSink=void 0;const ARRAY_VALUE="value",ARRAY_ERROR="error";class AsyncSink{constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(s){this._push({type:ARRAY_VALUE,value:s})}error(s){this._push({type:ARRAY_ERROR,error:s})}_push(s){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){const{resolve:d,reject:c}=this._resolvers.shift();s.type===ARRAY_ERROR?c(s.error):d({done:!1,value:s.value})}else this._values.push(s)}next(){if(this._values.length>0){const{type:s,value:d,error:c}=this._values.shift();return s===ARRAY_ERROR?Promise.reject(c):Promise.resolve({done:!1,value:d})}return this._ended?Promise.resolve({done:!0}):new Promise((s,d)=>{this._resolvers.push({resolve:s,reject:d})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}}AsyncSink$1.AsyncSink=AsyncSink;var isAsyncIterable$1={};Object.defineProperty(isAsyncIterable$1,"__esModule",{value:!0});isAsyncIterable$1.isAsyncIterable=void 0;function isAsyncIterable(a){return a!=null&&Symbol.asyncIterator in a}isAsyncIterable$1.isAsyncIterable=isAsyncIterable;var convertMetadata={},base64$2={exports:{}};(function(a,s){(function(d,c){a.exports=c()})(typeof self!="undefined"?self:typeof window!="undefined"?window:commonjsGlobal,function(){var d="3.7.2",c=d,g=typeof atob=="function",_=typeof btoa=="function",b=typeof Buffer=="function",$=typeof TextDecoder=="function"?new TextDecoder:void 0,tt=typeof TextEncoder=="function"?new TextEncoder:void 0,nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ot=Array.prototype.slice.call(nt),dt=function(_t){var Lt={};return _t.forEach(function(Wt,Ft){return Lt[Wt]=Ft}),Lt}(ot),ut=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,lt=String.fromCharCode.bind(String),Tt=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(_t,Lt){return Lt===void 0&&(Lt=function(Wt){return Wt}),new Uint8Array(Array.prototype.slice.call(_t,0).map(Lt))},yt=function(_t){return _t.replace(/=/g,"").replace(/[+\/]/g,function(Lt){return Lt=="+"?"-":"_"})},pt=function(_t){return _t.replace(/[^A-Za-z0-9\+\/]/g,"")},vt=function(_t){for(var Lt,Wt,Ft,jt,tn="",ln=_t.length%3,rn=0;rn<_t.length;){if((Wt=_t.charCodeAt(rn++))>255||(Ft=_t.charCodeAt(rn++))>255||(jt=_t.charCodeAt(rn++))>255)throw new TypeError("invalid character found");Lt=Wt<<16|Ft<<8|jt,tn+=ot[Lt>>18&63]+ot[Lt>>12&63]+ot[Lt>>6&63]+ot[Lt&63]}return ln?tn.slice(0,ln-3)+"===".substring(ln):tn},it=_?function(_t){return btoa(_t)}:b?function(_t){return Buffer.from(_t,"binary").toString("base64")}:vt,ct=b?function(_t){return Buffer.from(_t).toString("base64")}:function(_t){for(var Lt=4096,Wt=[],Ft=0,jt=_t.length;Ft<jt;Ft+=Lt)Wt.push(lt.apply(null,_t.subarray(Ft,Ft+Lt)));return it(Wt.join(""))},mt=function(_t,Lt){return Lt===void 0&&(Lt=!1),Lt?yt(ct(_t)):ct(_t)},Nt=function(_t){if(_t.length<2){var Lt=_t.charCodeAt(0);return Lt<128?_t:Lt<2048?lt(192|Lt>>>6)+lt(128|Lt&63):lt(224|Lt>>>12&15)+lt(128|Lt>>>6&63)+lt(128|Lt&63)}else{var Lt=65536+(_t.charCodeAt(0)-55296)*1024+(_t.charCodeAt(1)-56320);return lt(240|Lt>>>18&7)+lt(128|Lt>>>12&63)+lt(128|Lt>>>6&63)+lt(128|Lt&63)}},Ot=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,At=function(_t){return _t.replace(Ot,Nt)},Pt=b?function(_t){return Buffer.from(_t,"utf8").toString("base64")}:tt?function(_t){return ct(tt.encode(_t))}:function(_t){return it(At(_t))},St=function(_t,Lt){return Lt===void 0&&(Lt=!1),Lt?yt(Pt(_t)):Pt(_t)},Ct=function(_t){return St(_t,!0)},$t=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,gt=function(_t){switch(_t.length){case 4:var Lt=(7&_t.charCodeAt(0))<<18|(63&_t.charCodeAt(1))<<12|(63&_t.charCodeAt(2))<<6|63&_t.charCodeAt(3),Wt=Lt-65536;return lt((Wt>>>10)+55296)+lt((Wt&1023)+56320);case 3:return lt((15&_t.charCodeAt(0))<<12|(63&_t.charCodeAt(1))<<6|63&_t.charCodeAt(2));default:return lt((31&_t.charCodeAt(0))<<6|63&_t.charCodeAt(1))}},It=function(_t){return _t.replace($t,gt)},Rt=function(_t){if(_t=_t.replace(/\s+/g,""),!ut.test(_t))throw new TypeError("malformed base64.");_t+="==".slice(2-(_t.length&3));for(var Lt,Wt="",Ft,jt,tn=0;tn<_t.length;)Lt=dt[_t.charAt(tn++)]<<18|dt[_t.charAt(tn++)]<<12|(Ft=dt[_t.charAt(tn++)])<<6|(jt=dt[_t.charAt(tn++)]),Wt+=Ft===64?lt(Lt>>16&255):jt===64?lt(Lt>>16&255,Lt>>8&255):lt(Lt>>16&255,Lt>>8&255,Lt&255);return Wt},zt=g?function(_t){return atob(pt(_t))}:b?function(_t){return Buffer.from(_t,"base64").toString("binary")}:Rt,Ut=b?function(_t){return Tt(Buffer.from(_t,"base64"))}:function(_t){return Tt(zt(_t),function(Lt){return Lt.charCodeAt(0)})},Dt=function(_t){return Ut(Kt(_t))},qt=b?function(_t){return Buffer.from(_t,"base64").toString("utf8")}:$?function(_t){return $.decode(Ut(_t))}:function(_t){return It(zt(_t))},Kt=function(_t){return pt(_t.replace(/[-_]/g,function(Lt){return Lt=="-"?"+":"/"}))},Qt=function(_t){return qt(Kt(_t))},Ht=function(_t){if(typeof _t!="string")return!1;var Lt=_t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Lt)||!/[^\s0-9a-zA-Z\-_]/.test(Lt)},j=function(_t){return{value:_t,enumerable:!1,writable:!0,configurable:!0}},rt=function(){var _t=function(Lt,Wt){return Object.defineProperty(String.prototype,Lt,j(Wt))};_t("fromBase64",function(){return Qt(this)}),_t("toBase64",function(Lt){return St(this,Lt)}),_t("toBase64URI",function(){return St(this,!0)}),_t("toBase64URL",function(){return St(this,!0)}),_t("toUint8Array",function(){return Dt(this)})},ht=function(){var _t=function(Lt,Wt){return Object.defineProperty(Uint8Array.prototype,Lt,j(Wt))};_t("toBase64",function(Lt){return mt(this,Lt)}),_t("toBase64URI",function(){return mt(this,!0)}),_t("toBase64URL",function(){return mt(this,!0)})},Vt=function(){rt(),ht()},at={version:d,VERSION:c,atob:zt,atobPolyfill:Rt,btoa:it,btoaPolyfill:vt,fromBase64:Qt,toBase64:St,encode:St,encodeURI:Ct,encodeURL:Ct,utob:At,btou:It,decode:Qt,isValid:Ht,fromUint8Array:mt,toUint8Array:Dt,extendString:rt,extendUint8Array:ht,extendBuiltins:Vt};return at.Base64={},Object.keys(at).forEach(function(_t){return at.Base64[_t]=at[_t]}),at})})(base64$2);Object.defineProperty(convertMetadata,"__esModule",{value:!0});convertMetadata.convertMetadataFromGrpcWeb=convertMetadata.convertMetadataToGrpcWeb=void 0;const grpc_web_1$4=grpcWebClient_umd.exports,nice_grpc_common_1$5=lib,js_base64_1=base64$2.exports;function convertMetadataToGrpcWeb(a){const s=new grpc_web_1$4.grpc.Metadata;for(const[d,c]of a)for(const g of c)s.append(d,typeof g=="string"?g:js_base64_1.Base64.fromUint8Array(g));return s}convertMetadata.convertMetadataToGrpcWeb=convertMetadataToGrpcWeb;function convertMetadataFromGrpcWeb(a){const s=(0,nice_grpc_common_1$5.Metadata)();for(const[d,c]of Object.entries(a.headersMap))s.set(d,d.endsWith("-bin")?c.map(g=>js_base64_1.Base64.toUint8Array(g)):c);return s}convertMetadata.convertMetadataFromGrpcWeb=convertMetadataFromGrpcWeb;var __importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(createBidiStreamingMethod$1,"__esModule",{value:!0});createBidiStreamingMethod$1.createBidiStreamingMethod=void 0;const nice_grpc_common_1$4=lib,grpc_web_1$3=grpcWebClient_umd.exports,abort_controller_x_1$4=require$$1$1,node_abort_controller_1$3=__importDefault$l(browser$3.exports),AsyncSink_1$1=AsyncSink$1,service_definitions_1$4=serviceDefinitions,isAsyncIterable_1$3=isAsyncIterable$1,convertMetadata_1$3=convertMetadata;function createBidiStreamingMethod(a,s,d,c){const g=(0,service_definitions_1$4.toGrpcWebMethodDefinition)(a),_={path:a.path,requestStream:a.requestStream,responseStream:a.responseStream,options:a.options};async function*b(tt,nt){if(!(0,isAsyncIterable_1$3.isAsyncIterable)(tt))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");const{metadata:ot=(0,nice_grpc_common_1$4.Metadata)(),signal:dt=new node_abort_controller_1$3.default().signal,onHeader:ut,onTrailer:lt}=nt,Tt=new node_abort_controller_1$3.default,yt=new AsyncSink_1$1.AsyncSink,pt=grpc_web_1$3.grpc.client(g,{host:s.address,transport:s.transport});pt.onHeaders(ct=>{ut==null||ut((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(ct))}),pt.onMessage(ct=>{yt.write(ct)}),pt.onEnd((ct,mt,Nt)=>{lt==null||lt((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Nt)),ct===grpc_web_1$3.grpc.Code.OK?yt.end():yt.error(new nice_grpc_common_1$4.ClientError(a.path,+ct,mt))}),pt.start((0,convertMetadata_1$3.convertMetadataToGrpcWeb)(ot));let vt;pipeRequest$1(Tt.signal,tt,pt,a).then(()=>{pt.finishSend()},ct=>{(0,abort_controller_x_1$4.isAbortError)(ct)||(vt=ct,pt.close(),yt.end())});const it=()=>{yt.error(new abort_controller_x_1$4.AbortError),Tt.abort(),pt.close()};dt.addEventListener("abort",it);try{yield*yt}finally{if(Tt.abort(),dt.removeEventListener("abort",it),(0,abort_controller_x_1$4.throwIfAborted)(dt),vt)throw vt}}const $=d==null?b:(tt,nt)=>d({method:_,requestStream:!0,request:tt,responseStream:!0,next:b},nt);return(tt,nt)=>{const dt=$(tt,{...c,...nt})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const ut=await dt.next();return ut.done&&ut.value!=null?await dt.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):ut},return(){return dt.return()},throw(ut){return dt.throw(ut)}}}}}}createBidiStreamingMethod$1.createBidiStreamingMethod=createBidiStreamingMethod;async function pipeRequest$1(a,s,d,c){for await(const g of s)(0,abort_controller_x_1$4.throwIfAborted)(a),d.send({serializeBinary:()=>c.requestSerialize(g)})}var createClientStreamingMethod$1={},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(createClientStreamingMethod$1,"__esModule",{value:!0});createClientStreamingMethod$1.createClientStreamingMethod=void 0;const nice_grpc_common_1$3=lib,grpc_web_1$2=grpcWebClient_umd.exports,abort_controller_x_1$3=require$$1$1,node_abort_controller_1$2=__importDefault$k(browser$3.exports),service_definitions_1$3=serviceDefinitions,isAsyncIterable_1$2=isAsyncIterable$1,convertMetadata_1$2=convertMetadata;function createClientStreamingMethod(a,s,d,c){const g=(0,service_definitions_1$3.toGrpcWebMethodDefinition)(a),_={path:a.path,requestStream:a.requestStream,responseStream:a.responseStream,options:a.options};async function*b(tt,nt){if(!(0,isAsyncIterable_1$2.isAsyncIterable)(tt))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");const{metadata:ot=(0,nice_grpc_common_1$3.Metadata)(),signal:dt=new node_abort_controller_1$2.default().signal,onHeader:ut,onTrailer:lt}=nt;return await(0,abort_controller_x_1$3.execute)(dt,(Tt,yt)=>{const pt=new node_abort_controller_1$2.default;let vt;const it=grpc_web_1$2.grpc.client(g,{host:s.address,transport:s.transport});return it.onHeaders(ct=>{ut==null||ut((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(ct))}),it.onMessage(ct=>{vt=ct}),it.onEnd((ct,mt,Nt)=>{lt==null||lt((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Nt)),pt.abort(),ct===grpc_web_1$2.grpc.Code.OK?Tt(vt):yt(new nice_grpc_common_1$3.ClientError(a.path,+ct,mt))}),it.start((0,convertMetadata_1$2.convertMetadataToGrpcWeb)(ot)),pipeRequest(pt.signal,tt,it,a).then(()=>{it.finishSend()},ct=>{(0,abort_controller_x_1$3.isAbortError)(ct)||(yt(ct),it.close())}),()=>{pt.abort(),it.close()}})}const $=d==null?b:(tt,nt)=>d({method:_,requestStream:!0,request:tt,responseStream:!1,next:b},nt);return async(tt,nt)=>{const dt=$(tt,{...c,...nt})[Symbol.asyncIterator]();let ut=await dt.next();for(;;){if(!ut.done){ut=await dt.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(ut.value==null){ut=await dt.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return ut.value}}}createClientStreamingMethod$1.createClientStreamingMethod=createClientStreamingMethod;async function pipeRequest(a,s,d,c){for await(const g of s)(0,abort_controller_x_1$3.throwIfAborted)(a),d.send({serializeBinary:()=>c.requestSerialize(g)})}var createServerStreamingMethod$1={},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(createServerStreamingMethod$1,"__esModule",{value:!0});createServerStreamingMethod$1.createServerStreamingMethod=void 0;const grpc_web_1$1=grpcWebClient_umd.exports,abort_controller_x_1$2=require$$1$1,AsyncSink_1=AsyncSink$1,nice_grpc_common_1$2=lib,node_abort_controller_1$1=__importDefault$j(browser$3.exports),service_definitions_1$2=serviceDefinitions,convertMetadata_1$1=convertMetadata,isAsyncIterable_1$1=isAsyncIterable$1;function createServerStreamingMethod(a,s,d,c){const g=(0,service_definitions_1$2.toGrpcWebMethodDefinition)(a),_={path:a.path,requestStream:a.requestStream,responseStream:a.responseStream,options:a.options};async function*b(tt,nt){if((0,isAsyncIterable_1$1.isAsyncIterable)(tt))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");const{metadata:ot=(0,nice_grpc_common_1$2.Metadata)(),signal:dt=new node_abort_controller_1$1.default().signal,onHeader:ut,onTrailer:lt}=nt,Tt=new AsyncSink_1.AsyncSink,yt=grpc_web_1$1.grpc.client(g,{host:s.address,transport:s.transport});yt.onHeaders(vt=>{ut==null||ut((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(vt))}),yt.onMessage(vt=>{Tt.write(vt)}),yt.onEnd((vt,it,ct)=>{lt==null||lt((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(ct)),vt===grpc_web_1$1.grpc.Code.OK?Tt.end():Tt.error(new nice_grpc_common_1$2.ClientError(a.path,+vt,it))}),yt.start((0,convertMetadata_1$1.convertMetadataToGrpcWeb)(ot)),yt.send({serializeBinary:()=>a.requestSerialize(tt)}),yt.finishSend();const pt=()=>{Tt.error(new abort_controller_x_1$2.AbortError),yt.close()};dt.addEventListener("abort",pt);try{yield*Tt}finally{dt.removeEventListener("abort",pt),(0,abort_controller_x_1$2.throwIfAborted)(dt)}}const $=d==null?b:(tt,nt)=>d({method:_,requestStream:!1,request:tt,responseStream:!0,next:b},nt);return(tt,nt)=>{const dt=$(tt,{...c,...nt})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const ut=await dt.next();return ut.done&&ut.value!=null?await dt.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):ut},return(){return dt.return()},throw(ut){return dt.throw(ut)}}}}}}createServerStreamingMethod$1.createServerStreamingMethod=createServerStreamingMethod;var createUnaryMethod$1={},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(createUnaryMethod$1,"__esModule",{value:!0});createUnaryMethod$1.createUnaryMethod=void 0;const nice_grpc_common_1$1=lib,grpc_web_1=grpcWebClient_umd.exports,abort_controller_x_1$1=require$$1$1,node_abort_controller_1=__importDefault$i(browser$3.exports),service_definitions_1$1=serviceDefinitions,isAsyncIterable_1=isAsyncIterable$1,convertMetadata_1=convertMetadata;function createUnaryMethod(a,s,d,c){const g=(0,service_definitions_1$1.toGrpcWebMethodDefinition)(a),_={path:a.path,requestStream:a.requestStream,responseStream:a.responseStream,options:a.options};async function*b(tt,nt){if((0,isAsyncIterable_1.isAsyncIterable)(tt))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");const{metadata:ot=(0,nice_grpc_common_1$1.Metadata)(),signal:dt=new node_abort_controller_1.default().signal,onHeader:ut,onTrailer:lt}=nt;return await(0,abort_controller_x_1$1.execute)(dt,(Tt,yt)=>{let pt;const vt=grpc_web_1.grpc.client(g,{host:s.address,transport:s.transport});return vt.onHeaders(it=>{ut==null||ut((0,convertMetadata_1.convertMetadataFromGrpcWeb)(it))}),vt.onMessage(it=>{pt=it}),vt.onEnd((it,ct,mt)=>{lt==null||lt((0,convertMetadata_1.convertMetadataFromGrpcWeb)(mt)),it===grpc_web_1.grpc.Code.OK?Tt(pt):yt(new nice_grpc_common_1$1.ClientError(a.path,+it,ct))}),vt.start((0,convertMetadata_1.convertMetadataToGrpcWeb)(ot)),vt.send({serializeBinary:()=>a.requestSerialize(tt)}),vt.finishSend(),()=>{vt.close()}})}const $=d==null?b:(tt,nt)=>d({method:_,requestStream:!1,request:tt,responseStream:!1,next:b},nt);return async(tt,nt)=>{const dt=$(tt,{...c,...nt})[Symbol.asyncIterator]();let ut=await dt.next();for(;;){if(!ut.done){ut=await dt.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(ut.value==null){ut=await dt.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return ut.value}}}createUnaryMethod$1.createUnaryMethod=createUnaryMethod;Object.defineProperty(ClientFactory,"__esModule",{value:!0});ClientFactory.createClient=ClientFactory.createClientFactory=void 0;const nice_grpc_common_1=lib,service_definitions_1=serviceDefinitions,createBidiStreamingMethod_1=createBidiStreamingMethod$1,createClientStreamingMethod_1=createClientStreamingMethod$1,createServerStreamingMethod_1=createServerStreamingMethod$1,createUnaryMethod_1=createUnaryMethod$1;function createClientFactory(){return createClientFactoryWithMiddleware()}ClientFactory.createClientFactory=createClientFactory;function createClient(a,s,d){return createClientFactory().create(a,s,d)}ClientFactory.createClient=createClient;function createClientFactoryWithMiddleware(a){return{use(s){return createClientFactoryWithMiddleware(a==null?s:(0,nice_grpc_common_1.composeClientMiddleware)(a,s))},create(s,d,c={}){const g={},_=Object.entries((0,service_definitions_1.normalizeServiceDefinition)(s));for(const[b,$]of _){const tt={...c["*"],...c[b]};$.requestStream?$.responseStream?g[b]=(0,createBidiStreamingMethod_1.createBidiStreamingMethod)($,d,a,tt):g[b]=(0,createClientStreamingMethod_1.createClientStreamingMethod)($,d,a,tt):$.responseStream?g[b]=(0,createServerStreamingMethod_1.createServerStreamingMethod)($,d,a,tt):g[b]=(0,createUnaryMethod_1.createUnaryMethod)($,d,a,tt)}return g}}}var Client={};Object.defineProperty(Client,"__esModule",{value:!0});(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,b,$){$===void 0&&($=b);var tt=Object.getOwnPropertyDescriptor(_,b);(!tt||("get"in tt?!_.__esModule:tt.writable||tt.configurable))&&(tt={enumerable:!0,get:function(){return _[b]}}),Object.defineProperty(g,$,tt)}:function(g,_,b,$){$===void 0&&($=b),g[$]=_[b]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var b in g)b!=="default"&&!Object.prototype.hasOwnProperty.call(_,b)&&s(_,g,b)};Object.defineProperty(a,"__esModule",{value:!0}),a.Status=a.Metadata=a.composeClientMiddleware=a.ClientError=void 0;var c=lib;Object.defineProperty(a,"ClientError",{enumerable:!0,get:function(){return c.ClientError}}),Object.defineProperty(a,"composeClientMiddleware",{enumerable:!0,get:function(){return c.composeClientMiddleware}}),Object.defineProperty(a,"Metadata",{enumerable:!0,get:function(){return c.Metadata}}),Object.defineProperty(a,"Status",{enumerable:!0,get:function(){return c.Status}}),d(serviceDefinitions,a),d(channel,a),d(ClientFactory,a),d(Client,a)})(lib$1);var dist$3={},api$3={},umd={exports:{}};(function(a,s){var d=function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var g=null;try{g=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _(Ut,Dt,qt){this.low=Ut|0,this.high=Dt|0,this.unsigned=!!qt}_.prototype.__isLong__,Object.defineProperty(_.prototype,"__isLong__",{value:!0});function b(Ut){return(Ut&&Ut.__isLong__)===!0}function $(Ut){var Dt=Math.clz32(Ut&-Ut);return Ut?31-Dt:Dt}_.isLong=b;var tt={},nt={};function ot(Ut,Dt){var qt,Kt,Qt;return Dt?(Ut>>>=0,(Qt=0<=Ut&&Ut<256)&&(Kt=nt[Ut],Kt)?Kt:(qt=ut(Ut,0,!0),Qt&&(nt[Ut]=qt),qt)):(Ut|=0,(Qt=-128<=Ut&&Ut<128)&&(Kt=tt[Ut],Kt)?Kt:(qt=ut(Ut,Ut<0?-1:0,!1),Qt&&(tt[Ut]=qt),qt))}_.fromInt=ot;function dt(Ut,Dt){if(isNaN(Ut))return Dt?At:Ot;if(Dt){if(Ut<0)return At;if(Ut>=ct)return gt}else{if(Ut<=-mt)return It;if(Ut+1>=mt)return $t}return Ut<0?dt(-Ut,Dt).neg():ut(Ut%it|0,Ut/it|0,Dt)}_.fromNumber=dt;function ut(Ut,Dt,qt){return new _(Ut,Dt,qt)}_.fromBits=ut;var lt=Math.pow;function Tt(Ut,Dt,qt){if(Ut.length===0)throw Error("empty string");if(typeof Dt=="number"?(qt=Dt,Dt=!1):Dt=!!Dt,Ut==="NaN"||Ut==="Infinity"||Ut==="+Infinity"||Ut==="-Infinity")return Dt?At:Ot;if(qt=qt||10,qt<2||36<qt)throw RangeError("radix");var Kt;if((Kt=Ut.indexOf("-"))>0)throw Error("interior hyphen");if(Kt===0)return Tt(Ut.substring(1),Dt,qt).neg();for(var Qt=dt(lt(qt,8)),Ht=Ot,j=0;j<Ut.length;j+=8){var rt=Math.min(8,Ut.length-j),ht=parseInt(Ut.substring(j,j+rt),qt);if(rt<8){var Vt=dt(lt(qt,rt));Ht=Ht.mul(Vt).add(dt(ht))}else Ht=Ht.mul(Qt),Ht=Ht.add(dt(ht))}return Ht.unsigned=Dt,Ht}_.fromString=Tt;function yt(Ut,Dt){return typeof Ut=="number"?dt(Ut,Dt):typeof Ut=="string"?Tt(Ut,Dt):ut(Ut.low,Ut.high,typeof Dt=="boolean"?Dt:Ut.unsigned)}_.fromValue=yt;var pt=1<<16,vt=1<<24,it=pt*pt,ct=it*it,mt=ct/2,Nt=ot(vt),Ot=ot(0);_.ZERO=Ot;var At=ot(0,!0);_.UZERO=At;var Pt=ot(1);_.ONE=Pt;var St=ot(1,!0);_.UONE=St;var Ct=ot(-1);_.NEG_ONE=Ct;var $t=ut(-1,2147483647,!1);_.MAX_VALUE=$t;var gt=ut(-1,-1,!0);_.MAX_UNSIGNED_VALUE=gt;var It=ut(0,-2147483648,!1);_.MIN_VALUE=It;var Rt=_.prototype;Rt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Rt.toNumber=function(){return this.unsigned?(this.high>>>0)*it+(this.low>>>0):this.high*it+(this.low>>>0)},Rt.toString=function(Dt){if(Dt=Dt||10,Dt<2||36<Dt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(It)){var qt=dt(Dt),Kt=this.div(qt),Qt=Kt.mul(qt).sub(this);return Kt.toString(Dt)+Qt.toInt().toString(Dt)}else return"-"+this.neg().toString(Dt);for(var Ht=dt(lt(Dt,6),this.unsigned),j=this,rt="";;){var ht=j.div(Ht),Vt=j.sub(ht.mul(Ht)).toInt()>>>0,at=Vt.toString(Dt);if(j=ht,j.isZero())return at+rt;for(;at.length<6;)at="0"+at;rt=""+at+rt}},Rt.getHighBits=function(){return this.high},Rt.getHighBitsUnsigned=function(){return this.high>>>0},Rt.getLowBits=function(){return this.low},Rt.getLowBitsUnsigned=function(){return this.low>>>0},Rt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(It)?64:this.neg().getNumBitsAbs();for(var Dt=this.high!=0?this.high:this.low,qt=31;qt>0&&(Dt&1<<qt)==0;qt--);return this.high!=0?qt+33:qt+1},Rt.isZero=function(){return this.high===0&&this.low===0},Rt.eqz=Rt.isZero,Rt.isNegative=function(){return!this.unsigned&&this.high<0},Rt.isPositive=function(){return this.unsigned||this.high>=0},Rt.isOdd=function(){return(this.low&1)===1},Rt.isEven=function(){return(this.low&1)===0},Rt.equals=function(Dt){return b(Dt)||(Dt=yt(Dt)),this.unsigned!==Dt.unsigned&&this.high>>>31===1&&Dt.high>>>31===1?!1:this.high===Dt.high&&this.low===Dt.low},Rt.eq=Rt.equals,Rt.notEquals=function(Dt){return!this.eq(Dt)},Rt.neq=Rt.notEquals,Rt.ne=Rt.notEquals,Rt.lessThan=function(Dt){return this.comp(Dt)<0},Rt.lt=Rt.lessThan,Rt.lessThanOrEqual=function(Dt){return this.comp(Dt)<=0},Rt.lte=Rt.lessThanOrEqual,Rt.le=Rt.lessThanOrEqual,Rt.greaterThan=function(Dt){return this.comp(Dt)>0},Rt.gt=Rt.greaterThan,Rt.greaterThanOrEqual=function(Dt){return this.comp(Dt)>=0},Rt.gte=Rt.greaterThanOrEqual,Rt.ge=Rt.greaterThanOrEqual,Rt.compare=function(Dt){if(b(Dt)||(Dt=yt(Dt)),this.eq(Dt))return 0;var qt=this.isNegative(),Kt=Dt.isNegative();return qt&&!Kt?-1:!qt&&Kt?1:this.unsigned?Dt.high>>>0>this.high>>>0||Dt.high===this.high&&Dt.low>>>0>this.low>>>0?-1:1:this.sub(Dt).isNegative()?-1:1},Rt.comp=Rt.compare,Rt.negate=function(){return!this.unsigned&&this.eq(It)?It:this.not().add(Pt)},Rt.neg=Rt.negate,Rt.add=function(Dt){b(Dt)||(Dt=yt(Dt));var qt=this.high>>>16,Kt=this.high&65535,Qt=this.low>>>16,Ht=this.low&65535,j=Dt.high>>>16,rt=Dt.high&65535,ht=Dt.low>>>16,Vt=Dt.low&65535,at=0,_t=0,Lt=0,Wt=0;return Wt+=Ht+Vt,Lt+=Wt>>>16,Wt&=65535,Lt+=Qt+ht,_t+=Lt>>>16,Lt&=65535,_t+=Kt+rt,at+=_t>>>16,_t&=65535,at+=qt+j,at&=65535,ut(Lt<<16|Wt,at<<16|_t,this.unsigned)},Rt.subtract=function(Dt){return b(Dt)||(Dt=yt(Dt)),this.add(Dt.neg())},Rt.sub=Rt.subtract,Rt.multiply=function(Dt){if(this.isZero())return this;if(b(Dt)||(Dt=yt(Dt)),g){var qt=g.mul(this.low,this.high,Dt.low,Dt.high);return ut(qt,g.get_high(),this.unsigned)}if(Dt.isZero())return this.unsigned?At:Ot;if(this.eq(It))return Dt.isOdd()?It:Ot;if(Dt.eq(It))return this.isOdd()?It:Ot;if(this.isNegative())return Dt.isNegative()?this.neg().mul(Dt.neg()):this.neg().mul(Dt).neg();if(Dt.isNegative())return this.mul(Dt.neg()).neg();if(this.lt(Nt)&&Dt.lt(Nt))return dt(this.toNumber()*Dt.toNumber(),this.unsigned);var Kt=this.high>>>16,Qt=this.high&65535,Ht=this.low>>>16,j=this.low&65535,rt=Dt.high>>>16,ht=Dt.high&65535,Vt=Dt.low>>>16,at=Dt.low&65535,_t=0,Lt=0,Wt=0,Ft=0;return Ft+=j*at,Wt+=Ft>>>16,Ft&=65535,Wt+=Ht*at,Lt+=Wt>>>16,Wt&=65535,Wt+=j*Vt,Lt+=Wt>>>16,Wt&=65535,Lt+=Qt*at,_t+=Lt>>>16,Lt&=65535,Lt+=Ht*Vt,_t+=Lt>>>16,Lt&=65535,Lt+=j*ht,_t+=Lt>>>16,Lt&=65535,_t+=Kt*at+Qt*Vt+Ht*ht+j*rt,_t&=65535,ut(Wt<<16|Ft,_t<<16|Lt,this.unsigned)},Rt.mul=Rt.multiply,Rt.divide=function(Dt){if(b(Dt)||(Dt=yt(Dt)),Dt.isZero())throw Error("division by zero");if(g){if(!this.unsigned&&this.high===-2147483648&&Dt.low===-1&&Dt.high===-1)return this;var qt=(this.unsigned?g.div_u:g.div_s)(this.low,this.high,Dt.low,Dt.high);return ut(qt,g.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?At:Ot;var Kt,Qt,Ht;if(this.unsigned){if(Dt.unsigned||(Dt=Dt.toUnsigned()),Dt.gt(this))return At;if(Dt.gt(this.shru(1)))return St;Ht=At}else{if(this.eq(It)){if(Dt.eq(Pt)||Dt.eq(Ct))return It;if(Dt.eq(It))return Pt;var j=this.shr(1);return Kt=j.div(Dt).shl(1),Kt.eq(Ot)?Dt.isNegative()?Pt:Ct:(Qt=this.sub(Dt.mul(Kt)),Ht=Kt.add(Qt.div(Dt)),Ht)}else if(Dt.eq(It))return this.unsigned?At:Ot;if(this.isNegative())return Dt.isNegative()?this.neg().div(Dt.neg()):this.neg().div(Dt).neg();if(Dt.isNegative())return this.div(Dt.neg()).neg();Ht=Ot}for(Qt=this;Qt.gte(Dt);){Kt=Math.max(1,Math.floor(Qt.toNumber()/Dt.toNumber()));for(var rt=Math.ceil(Math.log(Kt)/Math.LN2),ht=rt<=48?1:lt(2,rt-48),Vt=dt(Kt),at=Vt.mul(Dt);at.isNegative()||at.gt(Qt);)Kt-=ht,Vt=dt(Kt,this.unsigned),at=Vt.mul(Dt);Vt.isZero()&&(Vt=Pt),Ht=Ht.add(Vt),Qt=Qt.sub(at)}return Ht},Rt.div=Rt.divide,Rt.modulo=function(Dt){if(b(Dt)||(Dt=yt(Dt)),g){var qt=(this.unsigned?g.rem_u:g.rem_s)(this.low,this.high,Dt.low,Dt.high);return ut(qt,g.get_high(),this.unsigned)}return this.sub(this.div(Dt).mul(Dt))},Rt.mod=Rt.modulo,Rt.rem=Rt.modulo,Rt.not=function(){return ut(~this.low,~this.high,this.unsigned)},Rt.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Rt.clz=Rt.countLeadingZeros,Rt.countTrailingZeros=function(){return this.low?$(this.low):$(this.high)+32},Rt.ctz=Rt.countTrailingZeros,Rt.and=function(Dt){return b(Dt)||(Dt=yt(Dt)),ut(this.low&Dt.low,this.high&Dt.high,this.unsigned)},Rt.or=function(Dt){return b(Dt)||(Dt=yt(Dt)),ut(this.low|Dt.low,this.high|Dt.high,this.unsigned)},Rt.xor=function(Dt){return b(Dt)||(Dt=yt(Dt)),ut(this.low^Dt.low,this.high^Dt.high,this.unsigned)},Rt.shiftLeft=function(Dt){return b(Dt)&&(Dt=Dt.toInt()),(Dt&=63)===0?this:Dt<32?ut(this.low<<Dt,this.high<<Dt|this.low>>>32-Dt,this.unsigned):ut(0,this.low<<Dt-32,this.unsigned)},Rt.shl=Rt.shiftLeft,Rt.shiftRight=function(Dt){return b(Dt)&&(Dt=Dt.toInt()),(Dt&=63)===0?this:Dt<32?ut(this.low>>>Dt|this.high<<32-Dt,this.high>>Dt,this.unsigned):ut(this.high>>Dt-32,this.high>=0?0:-1,this.unsigned)},Rt.shr=Rt.shiftRight,Rt.shiftRightUnsigned=function(Dt){return b(Dt)&&(Dt=Dt.toInt()),(Dt&=63)===0?this:Dt<32?ut(this.low>>>Dt|this.high<<32-Dt,this.high>>>Dt,this.unsigned):Dt===32?ut(this.high,0,this.unsigned):ut(this.high>>>Dt-32,0,this.unsigned)},Rt.shru=Rt.shiftRightUnsigned,Rt.shr_u=Rt.shiftRightUnsigned,Rt.rotateLeft=function(Dt){var qt;return b(Dt)&&(Dt=Dt.toInt()),(Dt&=63)===0?this:Dt===32?ut(this.high,this.low,this.unsigned):Dt<32?(qt=32-Dt,ut(this.low<<Dt|this.high>>>qt,this.high<<Dt|this.low>>>qt,this.unsigned)):(Dt-=32,qt=32-Dt,ut(this.high<<Dt|this.low>>>qt,this.low<<Dt|this.high>>>qt,this.unsigned))},Rt.rotl=Rt.rotateLeft,Rt.rotateRight=function(Dt){var qt;return b(Dt)&&(Dt=Dt.toInt()),(Dt&=63)===0?this:Dt===32?ut(this.high,this.low,this.unsigned):Dt<32?(qt=32-Dt,ut(this.high<<qt|this.low>>>Dt,this.low<<qt|this.high>>>Dt,this.unsigned)):(Dt-=32,qt=32-Dt,ut(this.low<<qt|this.high>>>Dt,this.high<<qt|this.low>>>Dt,this.unsigned))},Rt.rotr=Rt.rotateRight,Rt.toSigned=function(){return this.unsigned?ut(this.low,this.high,!1):this},Rt.toUnsigned=function(){return this.unsigned?this:ut(this.low,this.high,!0)},Rt.toBytes=function(Dt){return Dt?this.toBytesLE():this.toBytesBE()},Rt.toBytesLE=function(){var Dt=this.high,qt=this.low;return[qt&255,qt>>>8&255,qt>>>16&255,qt>>>24,Dt&255,Dt>>>8&255,Dt>>>16&255,Dt>>>24]},Rt.toBytesBE=function(){var Dt=this.high,qt=this.low;return[Dt>>>24,Dt>>>16&255,Dt>>>8&255,Dt&255,qt>>>24,qt>>>16&255,qt>>>8&255,qt&255]},_.fromBytes=function(Dt,qt,Kt){return Kt?_.fromBytesLE(Dt,qt):_.fromBytesBE(Dt,qt)},_.fromBytesLE=function(Dt,qt){return new _(Dt[0]|Dt[1]<<8|Dt[2]<<16|Dt[3]<<24,Dt[4]|Dt[5]<<8|Dt[6]<<16|Dt[7]<<24,qt)},_.fromBytesBE=function(Dt,qt){return new _(Dt[4]<<24|Dt[5]<<16|Dt[6]<<8|Dt[7],Dt[0]<<24|Dt[1]<<16|Dt[2]<<8|Dt[3],qt)};var zt=_;return c.default=zt,"default"in c?c.default:c}({});a.exports=d})(umd);var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(a,s){for(var d=new Array(arguments.length-1),c=0,g=2,_=!0;g<arguments.length;)d[c++]=arguments[g++];return new Promise(function($,tt){d[c]=function(ot){if(_)if(_=!1,ot)tt(ot);else{for(var dt=new Array(arguments.length-1),ut=0;ut<dt.length;)dt[ut++]=arguments[ut];$.apply(null,dt)}};try{a.apply(s||null,d)}catch(nt){_&&(_=!1,tt(nt))}})}var base64$1={};(function(a){var s=a;s.length=function($){var tt=$.length;if(!tt)return 0;for(var nt=0;--tt%4>1&&$.charAt(tt)==="=";)++nt;return Math.ceil($.length*3)/4-nt};for(var d=new Array(64),c=new Array(123),g=0;g<64;)c[d[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;s.encode=function($,tt,nt){for(var ot=null,dt=[],ut=0,lt=0,Tt;tt<nt;){var yt=$[tt++];switch(lt){case 0:dt[ut++]=d[yt>>2],Tt=(yt&3)<<4,lt=1;break;case 1:dt[ut++]=d[Tt|yt>>4],Tt=(yt&15)<<2,lt=2;break;case 2:dt[ut++]=d[Tt|yt>>6],dt[ut++]=d[yt&63],lt=0;break}ut>8191&&((ot||(ot=[])).push(String.fromCharCode.apply(String,dt)),ut=0)}return lt&&(dt[ut++]=d[Tt],dt[ut++]=61,lt===1&&(dt[ut++]=61)),ot?(ut&&ot.push(String.fromCharCode.apply(String,dt.slice(0,ut))),ot.join("")):String.fromCharCode.apply(String,dt.slice(0,ut))};var _="invalid encoding";s.decode=function($,tt,nt){for(var ot=nt,dt=0,ut,lt=0;lt<$.length;){var Tt=$.charCodeAt(lt++);if(Tt===61&&dt>1)break;if((Tt=c[Tt])===void 0)throw Error(_);switch(dt){case 0:ut=Tt,dt=1;break;case 1:tt[nt++]=ut<<2|(Tt&48)>>4,ut=Tt,dt=2;break;case 2:tt[nt++]=(ut&15)<<4|(Tt&60)>>2,ut=Tt,dt=3;break;case 3:tt[nt++]=(ut&3)<<6|Tt,dt=0;break}}if(dt===1)throw Error(_);return nt-ot},s.test=function($){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test($)}})(base64$1);var eventemitter=EventEmitter$1;function EventEmitter$1(){this._listeners={}}EventEmitter$1.prototype.on=function(s,d,c){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:d,ctx:c||this}),this};EventEmitter$1.prototype.off=function(s,d){if(s===void 0)this._listeners={};else if(d===void 0)this._listeners[s]=[];else for(var c=this._listeners[s],g=0;g<c.length;)c[g].fn===d?c.splice(g,1):++g;return this};EventEmitter$1.prototype.emit=function(s){var d=this._listeners[s];if(d){for(var c=[],g=1;g<arguments.length;)c.push(arguments[g++]);for(g=0;g<d.length;)d[g].fn.apply(d[g++].ctx,c)}return this};var float=factory(factory);function factory(a){return typeof Float32Array!="undefined"?function(){var s=new Float32Array([-0]),d=new Uint8Array(s.buffer),c=d[3]===128;function g(tt,nt,ot){s[0]=tt,nt[ot]=d[0],nt[ot+1]=d[1],nt[ot+2]=d[2],nt[ot+3]=d[3]}function _(tt,nt,ot){s[0]=tt,nt[ot]=d[3],nt[ot+1]=d[2],nt[ot+2]=d[1],nt[ot+3]=d[0]}a.writeFloatLE=c?g:_,a.writeFloatBE=c?_:g;function b(tt,nt){return d[0]=tt[nt],d[1]=tt[nt+1],d[2]=tt[nt+2],d[3]=tt[nt+3],s[0]}function $(tt,nt){return d[3]=tt[nt],d[2]=tt[nt+1],d[1]=tt[nt+2],d[0]=tt[nt+3],s[0]}a.readFloatLE=c?b:$,a.readFloatBE=c?$:b}():function(){function s(c,g,_,b){var $=g<0?1:0;if($&&(g=-g),g===0)c(1/g>0?0:2147483648,_,b);else if(isNaN(g))c(2143289344,_,b);else if(g>34028234663852886e22)c(($<<31|2139095040)>>>0,_,b);else if(g<11754943508222875e-54)c(($<<31|Math.round(g/1401298464324817e-60))>>>0,_,b);else{var tt=Math.floor(Math.log(g)/Math.LN2),nt=Math.round(g*Math.pow(2,-tt)*8388608)&8388607;c(($<<31|tt+127<<23|nt)>>>0,_,b)}}a.writeFloatLE=s.bind(null,writeUintLE),a.writeFloatBE=s.bind(null,writeUintBE);function d(c,g,_){var b=c(g,_),$=(b>>31)*2+1,tt=b>>>23&255,nt=b&8388607;return tt===255?nt?NaN:$*(1/0):tt===0?$*1401298464324817e-60*nt:$*Math.pow(2,tt-150)*(nt+8388608)}a.readFloatLE=d.bind(null,readUintLE),a.readFloatBE=d.bind(null,readUintBE)}(),typeof Float64Array!="undefined"?function(){var s=new Float64Array([-0]),d=new Uint8Array(s.buffer),c=d[7]===128;function g(tt,nt,ot){s[0]=tt,nt[ot]=d[0],nt[ot+1]=d[1],nt[ot+2]=d[2],nt[ot+3]=d[3],nt[ot+4]=d[4],nt[ot+5]=d[5],nt[ot+6]=d[6],nt[ot+7]=d[7]}function _(tt,nt,ot){s[0]=tt,nt[ot]=d[7],nt[ot+1]=d[6],nt[ot+2]=d[5],nt[ot+3]=d[4],nt[ot+4]=d[3],nt[ot+5]=d[2],nt[ot+6]=d[1],nt[ot+7]=d[0]}a.writeDoubleLE=c?g:_,a.writeDoubleBE=c?_:g;function b(tt,nt){return d[0]=tt[nt],d[1]=tt[nt+1],d[2]=tt[nt+2],d[3]=tt[nt+3],d[4]=tt[nt+4],d[5]=tt[nt+5],d[6]=tt[nt+6],d[7]=tt[nt+7],s[0]}function $(tt,nt){return d[7]=tt[nt],d[6]=tt[nt+1],d[5]=tt[nt+2],d[4]=tt[nt+3],d[3]=tt[nt+4],d[2]=tt[nt+5],d[1]=tt[nt+6],d[0]=tt[nt+7],s[0]}a.readDoubleLE=c?b:$,a.readDoubleBE=c?$:b}():function(){function s(c,g,_,b,$,tt){var nt=b<0?1:0;if(nt&&(b=-b),b===0)c(0,$,tt+g),c(1/b>0?0:2147483648,$,tt+_);else if(isNaN(b))c(0,$,tt+g),c(2146959360,$,tt+_);else if(b>17976931348623157e292)c(0,$,tt+g),c((nt<<31|2146435072)>>>0,$,tt+_);else{var ot;if(b<22250738585072014e-324)ot=b/5e-324,c(ot>>>0,$,tt+g),c((nt<<31|ot/4294967296)>>>0,$,tt+_);else{var dt=Math.floor(Math.log(b)/Math.LN2);dt===1024&&(dt=1023),ot=b*Math.pow(2,-dt),c(ot*4503599627370496>>>0,$,tt+g),c((nt<<31|dt+1023<<20|ot*1048576&1048575)>>>0,$,tt+_)}}}a.writeDoubleLE=s.bind(null,writeUintLE,0,4),a.writeDoubleBE=s.bind(null,writeUintBE,4,0);function d(c,g,_,b,$){var tt=c(b,$+g),nt=c(b,$+_),ot=(nt>>31)*2+1,dt=nt>>>20&2047,ut=4294967296*(nt&1048575)+tt;return dt===2047?ut?NaN:ot*(1/0):dt===0?ot*5e-324*ut:ot*Math.pow(2,dt-1075)*(ut+4503599627370496)}a.readDoubleLE=d.bind(null,readUintLE,0,4),a.readDoubleBE=d.bind(null,readUintBE,4,0)}(),a}function writeUintLE(a,s,d){s[d]=a&255,s[d+1]=a>>>8&255,s[d+2]=a>>>16&255,s[d+3]=a>>>24}function writeUintBE(a,s,d){s[d]=a>>>24,s[d+1]=a>>>16&255,s[d+2]=a>>>8&255,s[d+3]=a&255}function readUintLE(a,s){return(a[s]|a[s+1]<<8|a[s+2]<<16|a[s+3]<<24)>>>0}function readUintBE(a,s){return(a[s]<<24|a[s+1]<<16|a[s+2]<<8|a[s+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}var utf8$2={};(function(a){var s=a;s.length=function(c){for(var g=0,_=0,b=0;b<c.length;++b)_=c.charCodeAt(b),_<128?g+=1:_<2048?g+=2:(_&64512)===55296&&(c.charCodeAt(b+1)&64512)===56320?(++b,g+=4):g+=3;return g},s.read=function(c,g,_){var b=_-g;if(b<1)return"";for(var $=null,tt=[],nt=0,ot;g<_;)ot=c[g++],ot<128?tt[nt++]=ot:ot>191&&ot<224?tt[nt++]=(ot&31)<<6|c[g++]&63:ot>239&&ot<365?(ot=((ot&7)<<18|(c[g++]&63)<<12|(c[g++]&63)<<6|c[g++]&63)-65536,tt[nt++]=55296+(ot>>10),tt[nt++]=56320+(ot&1023)):tt[nt++]=(ot&15)<<12|(c[g++]&63)<<6|c[g++]&63,nt>8191&&(($||($=[])).push(String.fromCharCode.apply(String,tt)),nt=0);return $?(nt&&$.push(String.fromCharCode.apply(String,tt.slice(0,nt))),$.join("")):String.fromCharCode.apply(String,tt.slice(0,nt))},s.write=function(c,g,_){for(var b=_,$,tt,nt=0;nt<c.length;++nt)$=c.charCodeAt(nt),$<128?g[_++]=$:$<2048?(g[_++]=$>>6|192,g[_++]=$&63|128):($&64512)===55296&&((tt=c.charCodeAt(nt+1))&64512)===56320?($=65536+(($&1023)<<10)+(tt&1023),++nt,g[_++]=$>>18|240,g[_++]=$>>12&63|128,g[_++]=$>>6&63|128,g[_++]=$&63|128):(g[_++]=$>>12|224,g[_++]=$>>6&63|128,g[_++]=$&63|128);return _-b}})(utf8$2);var pool_1=pool;function pool(a,s,d){var c=d||8192,g=c>>>1,_=null,b=c;return function(tt){if(tt<1||tt>g)return a(tt);b+tt>c&&(_=a(c),b=0);var nt=s.call(_,b,b+=tt);return b&7&&(b=(b|7)+1),nt}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(a,s){this.lo=a>>>0,this.hi=s>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0};zero.zzEncode=zero.zzDecode=function(){return this};zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function a(s){if(s===0)return zero;var d=s<0;d&&(s=-s);var c=s>>>0,g=(s-c)/4294967296>>>0;return d&&(g=~g>>>0,c=~c>>>0,++c>4294967295&&(c=0,++g>4294967295&&(g=0))),new LongBits$2(c,g)};LongBits$2.from=function a(s){if(typeof s=="number")return LongBits$2.fromNumber(s);if(util$5.isString(s))if(util$5.Long)s=util$5.Long.fromString(s);else return LongBits$2.fromNumber(parseInt(s,10));return s.low||s.high?new LongBits$2(s.low>>>0,s.high>>>0):zero};LongBits$2.prototype.toNumber=function a(s){if(!s&&this.hi>>>31){var d=~this.lo+1>>>0,c=~this.hi>>>0;return d||(c=c+1>>>0),-(d+c*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function a(s){return util$5.Long?new util$5.Long(this.lo|0,this.hi|0,Boolean(s)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(s)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function a(s){return s===zeroHash?zero:new LongBits$2((charCodeAt.call(s,0)|charCodeAt.call(s,1)<<8|charCodeAt.call(s,2)<<16|charCodeAt.call(s,3)<<24)>>>0,(charCodeAt.call(s,4)|charCodeAt.call(s,5)<<8|charCodeAt.call(s,6)<<16|charCodeAt.call(s,7)<<24)>>>0)};LongBits$2.prototype.toHash=function a(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function a(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this};LongBits$2.prototype.zzDecode=function a(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this};LongBits$2.prototype.length=function a(){var s=this.lo,d=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?d===0?s<16384?s<128?1:2:s<2097152?3:4:d<16384?d<128?5:6:d<2097152?7:8:c<128?9:10};(function(a){var s=a;s.asPromise=aspromise,s.base64=base64$1,s.EventEmitter=eventemitter,s.float=float,s.inquire=inquire_1,s.utf8=utf8$2,s.pool=pool_1,s.LongBits=longbits,s.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),s.global=s.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isInteger=Number.isInteger||function(_){return typeof _=="number"&&isFinite(_)&&Math.floor(_)===_},s.isString=function(_){return typeof _=="string"||_ instanceof String},s.isObject=function(_){return _&&typeof _=="object"},s.isset=s.isSet=function(_,b){var $=_[b];return $!=null&&_.hasOwnProperty(b)?typeof $!="object"||(Array.isArray($)?$.length:Object.keys($).length)>0:!1},s.Buffer=function(){try{var g=s.inquire("buffer").Buffer;return g.prototype.utf8Write?g:null}catch{return null}}(),s._Buffer_from=null,s._Buffer_allocUnsafe=null,s.newBuffer=function(_){return typeof _=="number"?s.Buffer?s._Buffer_allocUnsafe(_):new s.Array(_):s.Buffer?s._Buffer_from(_):typeof Uint8Array=="undefined"?_:new Uint8Array(_)},s.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(_){return _?s.LongBits.from(_).toHash():s.LongBits.zeroHash},s.longFromHash=function(_,b){var $=s.LongBits.fromHash(_);return s.Long?s.Long.fromBits($.lo,$.hi,b):$.toNumber(Boolean(b))};function d(g,_,b){for(var $=Object.keys(_),tt=0;tt<$.length;++tt)(g[$[tt]]===void 0||!b)&&(g[$[tt]]=_[$[tt]]);return g}s.merge=d,s.lcFirst=function(_){return _.charAt(0).toLowerCase()+_.substring(1)};function c(g){function _(b,$){if(!(this instanceof _))return new _(b,$);Object.defineProperty(this,"message",{get:function(){return b}}),Error.captureStackTrace?Error.captureStackTrace(this,_):Object.defineProperty(this,"stack",{value:new Error().stack||""}),$&&d(this,$)}return(_.prototype=Object.create(Error.prototype)).constructor=_,Object.defineProperty(_.prototype,"name",{get:function(){return g}}),_.prototype.toString=function(){return this.name+": "+this.message},_}s.newError=c,s.ProtocolError=c("ProtocolError"),s.oneOfGetter=function(_){for(var b={},$=0;$<_.length;++$)b[_[$]]=1;return function(){for(var tt=Object.keys(this),nt=tt.length-1;nt>-1;--nt)if(b[tt[nt]]===1&&this[tt[nt]]!==void 0&&this[tt[nt]]!==null)return tt[nt]}},s.oneOfSetter=function(_){return function(b){for(var $=0;$<_.length;++$)_[$]!==b&&delete this[_[$]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s._configure=function(){var g=s.Buffer;if(!g){s._Buffer_from=s._Buffer_allocUnsafe=null;return}s._Buffer_from=g.from!==Uint8Array.from&&g.from||function(b,$){return new g(b,$)},s._Buffer_allocUnsafe=g.allocUnsafe||function(b){return new g(b)}}})(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(a,s,d){this.fn=a,this.len=s,this.next=void 0,this.val=d}function noop$2(){}function State(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function Writer$1(){this.len=0,this.head=new Op(noop$2,0,0),this.tail=this.head,this.states=null}var create$3=function a(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$3();Writer$1.alloc=function a(s){return new util$4.Array(s)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function a(s,d,c){return this.tail=this.tail.next=new Op(s,d,c),this.len+=d,this};function writeByte(a,s,d){s[d]=a&255}function writeVarint32(a,s,d){for(;a>127;)s[d++]=a&127|128,a>>>=7;s[d]=a}function VarintOp(a,s){this.len=a,this.next=void 0,this.val=s}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function a(s){return this.len+=(this.tail=this.tail.next=new VarintOp((s=s>>>0)<128?1:s<16384?2:s<2097152?3:s<268435456?4:5,s)).len,this};Writer$1.prototype.int32=function a(s){return s<0?this._push(writeVarint64,10,LongBits$1.fromNumber(s)):this.uint32(s)};Writer$1.prototype.sint32=function a(s){return this.uint32((s<<1^s>>31)>>>0)};function writeVarint64(a,s,d){for(;a.hi;)s[d++]=a.lo&127|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)s[d++]=a.lo&127|128,a.lo=a.lo>>>7;s[d++]=a.lo}Writer$1.prototype.uint64=function a(s){var d=LongBits$1.from(s);return this._push(writeVarint64,d.length(),d)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function a(s){var d=LongBits$1.from(s).zzEncode();return this._push(writeVarint64,d.length(),d)};Writer$1.prototype.bool=function a(s){return this._push(writeByte,1,s?1:0)};function writeFixed32(a,s,d){s[d]=a&255,s[d+1]=a>>>8&255,s[d+2]=a>>>16&255,s[d+3]=a>>>24}Writer$1.prototype.fixed32=function a(s){return this._push(writeFixed32,4,s>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function a(s){var d=LongBits$1.from(s);return this._push(writeFixed32,4,d.lo)._push(writeFixed32,4,d.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function a(s){return this._push(util$4.float.writeFloatLE,4,s)};Writer$1.prototype.double=function a(s){return this._push(util$4.float.writeDoubleLE,8,s)};var writeBytes=util$4.Array.prototype.set?function a(s,d,c){d.set(s,c)}:function a(s,d,c){for(var g=0;g<s.length;++g)d[c+g]=s[g]};Writer$1.prototype.bytes=function a(s){var d=s.length>>>0;if(!d)return this._push(writeByte,1,0);if(util$4.isString(s)){var c=Writer$1.alloc(d=base64.length(s));base64.decode(s,c,0),s=c}return this.uint32(d)._push(writeBytes,d,s)};Writer$1.prototype.string=function a(s){var d=utf8$1.length(s);return d?this.uint32(d)._push(utf8$1.write,d,s):this._push(writeByte,1,0)};Writer$1.prototype.fork=function a(){return this.states=new State(this),this.head=this.tail=new Op(noop$2,0,0),this.len=0,this};Writer$1.prototype.reset=function a(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$2,0,0),this.len=0),this};Writer$1.prototype.ldelim=function a(){var s=this.head,d=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=s.next,this.tail=d,this.len+=c),this};Writer$1.prototype.finish=function a(){for(var s=this.head.next,d=this.constructor.alloc(this.len),c=0;s;)s.fn(s.val,d,c),c+=s.len,s=s.next;return d};Writer$1._configure=function(a){BufferWriter$1=a,Writer$1.create=create$3(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(s,d,c){d.set(s,c)}:function(s,d,c){if(s.copy)s.copy(d,c,0,s.length);else for(var g=0;g<s.length;)d[c++]=s[g++]}};BufferWriter.prototype.bytes=function a(s){util$3.isString(s)&&(s=util$3._Buffer_from(s,"base64"));var d=s.length>>>0;return this.uint32(d),d&&this._push(BufferWriter.writeBytesBuffer,d,s),this};function writeStringBuffer(a,s,d){a.length<40?util$3.utf8.write(a,s,d):s.utf8Write?s.utf8Write(a,d):s.write(a,d)}BufferWriter.prototype.string=function a(s){var d=util$3.Buffer.byteLength(s);return this.uint32(d),d&&this._push(writeStringBuffer,d,s),this};BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(a,s){return RangeError("index out of range: "+a.pos+" + "+(s||1)+" > "+a.len)}function Reader$1(a){this.buf=a,this.pos=0,this.len=a.length}var create_array=typeof Uint8Array!="undefined"?function a(s){if(s instanceof Uint8Array||Array.isArray(s))return new Reader$1(s);throw Error("illegal buffer")}:function a(s){if(Array.isArray(s))return new Reader$1(s);throw Error("illegal buffer")},create$2=function a(){return util$2.Buffer?function(d){return(Reader$1.create=function(g){return util$2.Buffer.isBuffer(g)?new BufferReader$1(g):create_array(g)})(d)}:create_array};Reader$1.create=create$2();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function a(){var s=4294967295;return function(){if(s=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(s=(s|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(s=(s|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(s=(s|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(s=(s|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return s;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return s}}();Reader$1.prototype.int32=function a(){return this.uint32()|0};Reader$1.prototype.sint32=function a(){var s=this.uint32();return s>>>1^-(s&1)|0};function readLongVarint(){var a=new LongBits(0,0),s=0;if(this.len-this.pos>4){for(;s<4;++s)if(a.lo=(a.lo|(this.buf[this.pos]&127)<<s*7)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(this.buf[this.pos]&127)<<28)>>>0,a.hi=(a.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return a;s=0}else{for(;s<3;++s){if(this.pos>=this.len)throw indexOutOfRange(this);if(a.lo=(a.lo|(this.buf[this.pos]&127)<<s*7)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(this.buf[this.pos++]&127)<<s*7)>>>0,a}if(this.len-this.pos>4){for(;s<5;++s)if(a.hi=(a.hi|(this.buf[this.pos]&127)<<s*7+3)>>>0,this.buf[this.pos++]<128)return a}else for(;s<5;++s){if(this.pos>=this.len)throw indexOutOfRange(this);if(a.hi=(a.hi|(this.buf[this.pos]&127)<<s*7+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function a(){return this.uint32()!==0};function readFixed32_end(a,s){return(a[s-4]|a[s-3]<<8|a[s-2]<<16|a[s-1]<<24)>>>0}Reader$1.prototype.fixed32=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var s=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,s};Reader$1.prototype.double=function a(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var s=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,s};Reader$1.prototype.bytes=function a(){var s=this.uint32(),d=this.pos,c=this.pos+s;if(c>this.len)throw indexOutOfRange(this,s);return this.pos+=s,Array.isArray(this.buf)?this.buf.slice(d,c):d===c?new this.buf.constructor(0):this._slice.call(this.buf,d,c)};Reader$1.prototype.string=function a(){var s=this.bytes();return utf8.read(s,0,s.length)};Reader$1.prototype.skip=function a(s){if(typeof s=="number"){if(this.pos+s>this.len)throw indexOutOfRange(this,s);this.pos+=s}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(a=this.uint32()&7)!==4;)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this};Reader$1._configure=function(a){BufferReader$1=a,Reader$1.create=create$2(),BufferReader$1._configure();var s=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[s](!1)},uint64:function(){return readLongVarint.call(this)[s](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[s](!1)},fixed64:function(){return readFixed64.call(this)[s](!0)},sfixed64:function(){return readFixed64.call(this)[s](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(a){Reader.call(this,a)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function a(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))};BufferReader._configure();var rpc={},service=Service,util=minimal$1;(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(a,s,d){if(typeof a!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=Boolean(s),this.responseDelimited=Boolean(d)}Service.prototype.rpcCall=function a(s,d,c,g,_){if(!g)throw TypeError("request must be specified");var b=this;if(!_)return util.asPromise(a,b,s,d,c,g);if(!b.rpcImpl){setTimeout(function(){_(Error("already ended"))},0);return}try{return b.rpcImpl(s,d[b.requestDelimited?"encodeDelimited":"encode"](g).finish(),function(tt,nt){if(tt)return b.emit("error",tt,s),_(tt);if(nt===null){b.end(!0);return}if(!(nt instanceof c))try{nt=c[b.responseDelimited?"decodeDelimited":"decode"](nt)}catch(ot){return b.emit("error",ot,s),_(ot)}return b.emit("data",nt,s),_(null,nt)})}catch($){b.emit("error",$,s),setTimeout(function(){_($)},0);return}};Service.prototype.end=function a(s){return this.rpcImpl&&(s||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(a){var s=a;s.Service=service})(rpc);var roots={};(function(a){var s=a;s.build="minimal",s.Writer=writer,s.BufferWriter=writer_buffer,s.Reader=reader,s.BufferReader=reader_buffer,s.util=minimal$1,s.rpc=rpc,s.roots=roots,s.configure=d;function d(){s.util._configure(),s.Writer._configure(s.BufferWriter),s.Reader._configure(s.BufferReader)}d()})(indexMinimal);var minimal=indexMinimal,struct$2={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(it,ct,mt,Nt){Nt===void 0&&(Nt=mt),Object.defineProperty(it,Nt,{enumerable:!0,get:function(){return ct[mt]}})}:function(it,ct,mt,Nt){Nt===void 0&&(Nt=mt),it[Nt]=ct[mt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(it,ct){Object.defineProperty(it,"default",{enumerable:!0,value:ct})}:function(it,ct){it.default=ct}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(it){if(it&&it.__esModule)return it;var ct={};if(it!=null)for(var mt in it)mt!=="default"&&Object.hasOwnProperty.call(it,mt)&&s(ct,it,mt);return d(ct,it),ct},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(a,"__esModule",{value:!0}),a.ListValue=a.Value=a.Struct_FieldsEntry=a.Struct=a.nullValueToNumber=a.nullValueToJSON=a.nullValueFromJSON=a.NullValue=a.protobufPackage=void 0;const _=g(umd.exports),b=c(minimal);a.protobufPackage="google.protobuf";var $;(function(it){it.NULL_VALUE="NULL_VALUE"})($=a.NullValue||(a.NullValue={}));function tt(it){switch(it){case 0:case"NULL_VALUE":return $.NULL_VALUE;default:throw new yt.Error("Unrecognized enum value "+it+" for enum NullValue")}}a.nullValueFromJSON=tt;function nt(it){switch(it){case $.NULL_VALUE:return"NULL_VALUE";default:return"UNKNOWN"}}a.nullValueToJSON=nt;function ot(it){switch(it){case $.NULL_VALUE:return 0;default:return 0}}a.nullValueToNumber=ot;function dt(){return{fields:{}}}a.Struct={encode(it,ct=b.Writer.create()){return Object.entries(it.fields).forEach(([mt,Nt])=>{Nt!==void 0&&a.Struct_FieldsEntry.encode({key:mt,value:Nt},ct.uint32(10).fork()).ldelim()}),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=dt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:const Pt=a.Struct_FieldsEntry.decode(mt,mt.uint32());Pt.value!==void 0&&(Ot.fields[Pt.key]=Pt.value);break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{fields:pt(it.fields)?Object.entries(it.fields).reduce((ct,[mt,Nt])=>(ct[mt]=Nt,ct),{}):{}}},toJSON(it){const ct={};return ct.fields={},it.fields&&Object.entries(it.fields).forEach(([mt,Nt])=>{ct.fields[mt]=Nt}),ct},fromPartial(it){var ct;const mt=dt();return mt.fields=Object.entries((ct=it.fields)!==null&&ct!==void 0?ct:{}).reduce((Nt,[Ot,At])=>(At!==void 0&&(Nt[Ot]=At),Nt),{}),mt},wrap(it){const ct=dt();return it!==void 0&&Object.keys(it).forEach(mt=>{ct.fields[mt]=it[mt]}),ct},unwrap(it){const ct={};return Object.keys(it.fields).forEach(mt=>{ct[mt]=it.fields[mt]}),ct}};function ut(){return{key:"",value:void 0}}a.Struct_FieldsEntry={encode(it,ct=b.Writer.create()){return it.key!==""&&ct.uint32(10).string(it.key),it.value!==void 0&&a.Value.encode(a.Value.wrap(it.value),ct.uint32(18).fork()).ldelim(),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=ut();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.key=mt.string();break;case 2:Ot.value=a.Value.unwrap(a.Value.decode(mt,mt.uint32()));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{key:vt(it.key)?String(it.key):"",value:vt(it==null?void 0:it.value)?it.value:void 0}},toJSON(it){const ct={};return it.key!==void 0&&(ct.key=it.key),it.value!==void 0&&(ct.value=it.value),ct},fromPartial(it){var ct,mt;const Nt=ut();return Nt.key=(ct=it.key)!==null&&ct!==void 0?ct:"",Nt.value=(mt=it.value)!==null&&mt!==void 0?mt:void 0,Nt}};function lt(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}a.Value={encode(it,ct=b.Writer.create()){return it.nullValue!==void 0&&ct.uint32(8).int32(ot(it.nullValue)),it.numberValue!==void 0&&ct.uint32(17).double(it.numberValue),it.stringValue!==void 0&&ct.uint32(26).string(it.stringValue),it.boolValue!==void 0&&ct.uint32(32).bool(it.boolValue),it.structValue!==void 0&&a.Struct.encode(a.Struct.wrap(it.structValue),ct.uint32(42).fork()).ldelim(),it.listValue!==void 0&&a.ListValue.encode(a.ListValue.wrap(it.listValue),ct.uint32(50).fork()).ldelim(),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=lt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.nullValue=tt(mt.int32());break;case 2:Ot.numberValue=mt.double();break;case 3:Ot.stringValue=mt.string();break;case 4:Ot.boolValue=mt.bool();break;case 5:Ot.structValue=a.Struct.unwrap(a.Struct.decode(mt,mt.uint32()));break;case 6:Ot.listValue=a.ListValue.unwrap(a.ListValue.decode(mt,mt.uint32()));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{nullValue:vt(it.nullValue)?tt(it.nullValue):void 0,numberValue:vt(it.numberValue)?Number(it.numberValue):void 0,stringValue:vt(it.stringValue)?String(it.stringValue):void 0,boolValue:vt(it.boolValue)?Boolean(it.boolValue):void 0,structValue:pt(it.structValue)?it.structValue:void 0,listValue:Array.isArray(it.listValue)?[...it.listValue]:void 0}},toJSON(it){const ct={};return it.nullValue!==void 0&&(ct.nullValue=it.nullValue!==void 0?nt(it.nullValue):void 0),it.numberValue!==void 0&&(ct.numberValue=it.numberValue),it.stringValue!==void 0&&(ct.stringValue=it.stringValue),it.boolValue!==void 0&&(ct.boolValue=it.boolValue),it.structValue!==void 0&&(ct.structValue=it.structValue),it.listValue!==void 0&&(ct.listValue=it.listValue),ct},fromPartial(it){var ct,mt,Nt,Ot,At,Pt;const St=lt();return St.nullValue=(ct=it.nullValue)!==null&&ct!==void 0?ct:void 0,St.numberValue=(mt=it.numberValue)!==null&&mt!==void 0?mt:void 0,St.stringValue=(Nt=it.stringValue)!==null&&Nt!==void 0?Nt:void 0,St.boolValue=(Ot=it.boolValue)!==null&&Ot!==void 0?Ot:void 0,St.structValue=(At=it.structValue)!==null&&At!==void 0?At:void 0,St.listValue=(Pt=it.listValue)!==null&&Pt!==void 0?Pt:void 0,St},wrap(it){const ct=lt();if(it===null)ct.nullValue=$.NULL_VALUE;else if(typeof it=="boolean")ct.boolValue=it;else if(typeof it=="number")ct.numberValue=it;else if(typeof it=="string")ct.stringValue=it;else if(Array.isArray(it))ct.listValue=it;else if(typeof it=="object")ct.structValue=it;else if(typeof it!="undefined")throw new Error("Unsupported any value type: "+typeof it);return ct},unwrap(it){if((it==null?void 0:it.stringValue)!==void 0)return it.stringValue;if((it==null?void 0:it.numberValue)!==void 0)return it.numberValue;if((it==null?void 0:it.boolValue)!==void 0)return it.boolValue;if((it==null?void 0:it.structValue)!==void 0)return it.structValue;if((it==null?void 0:it.listValue)!==void 0)return it.listValue;if((it==null?void 0:it.nullValue)!==void 0)return null}};function Tt(){return{values:[]}}a.ListValue={encode(it,ct=b.Writer.create()){for(const mt of it.values)a.Value.encode(a.Value.wrap(mt),ct.uint32(10).fork()).ldelim();return ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=Tt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.values.push(a.Value.unwrap(a.Value.decode(mt,mt.uint32())));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{values:Array.isArray(it==null?void 0:it.values)?[...it.values]:[]}},toJSON(it){const ct={};return it.values?ct.values=it.values.map(mt=>mt):ct.values=[],ct},fromPartial(it){var ct;const mt=Tt();return mt.values=((ct=it.values)===null||ct===void 0?void 0:ct.map(Nt=>Nt))||[],mt},wrap(it){const ct=Tt();return ct.values=it!=null?it:[],ct},unwrap(it){return it.values}};var yt=(()=>{if(typeof yt!="undefined")return yt;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();b.util.Long!==_.default&&(b.util.Long=_.default,b.configure());function pt(it){return typeof it=="object"&&it!==null}function vt(it){return it!=null}})(struct$2);(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(et,ft,bt,Bt){Bt===void 0&&(Bt=bt),Object.defineProperty(et,Bt,{enumerable:!0,get:function(){return ft[bt]}})}:function(et,ft,bt,Bt){Bt===void 0&&(Bt=bt),et[Bt]=ft[bt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(et,ft){Object.defineProperty(et,"default",{enumerable:!0,value:ft})}:function(et,ft){et.default=ft}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(et){if(et&&et.__esModule)return et;var ft={};if(et!=null)for(var bt in et)bt!=="default"&&Object.hasOwnProperty.call(et,bt)&&s(ft,et,bt);return d(ft,et),ft},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(a,"__esModule",{value:!0}),a.LayoutServiceDefinition=a.LayoutServiceClientImpl=a.LayerServiceDefinition=a.LayerServiceClientImpl=a.Event=a.LayerEvent=a.LayoutEvent=a.BatchLayerRequest_BatchItem=a.BatchLayerRequest=a.BatchDeleteLayerRequest=a.DeleteLayerPayload=a.UpdateLayerRequest=a.GetLayerRequest=a.CreateLayerRequest=a.ListLayersResponse=a.ListLayersRequest=a.PartialLayerWithID=a.PartialLayer=a.LayerAnimation=a.DeleteLayoutResponse=a.DeleteLayoutRequest=a.DeleteLayoutPayload=a.UpdateLayoutRequest=a.GetLayoutRequest=a.CreateLayoutRequest=a.ListLayoutsResponse=a.ListLayoutsRequest=a.PartialLayout=a.BatchLayerResponse_BatchLayerItem=a.BatchLayerResponse=a.DeleteLayerResponse=a.DeleteLayerRequest=a.Layer=a.Layout=a.Transition_TransitionStinger=a.Transition_TransitionStingerCut=a.Transition_TransitionSwipe=a.Transition_TransitionCrossfade=a.Transition_TransitionFadeToColor=a.Transition_TransitionCut=a.Transition_TransitionMediaType=a.Transition=a.transition_TransitionSwipeTypeToNumber=a.transition_TransitionSwipeTypeToJSON=a.transition_TransitionSwipeTypeFromJSON=a.Transition_TransitionSwipeType=a.transition_TransitionDirectionToNumber=a.transition_TransitionDirectionToJSON=a.transition_TransitionDirectionFromJSON=a.Transition_TransitionDirection=a.eventTypeToNumber=a.eventTypeToJSON=a.eventTypeFromJSON=a.EventType=a.eventSubTypeToNumber=a.eventSubTypeToJSON=a.eventSubTypeFromJSON=a.EventSubType=a.requestAnimationModeToNumber=a.requestAnimationModeToJSON=a.requestAnimationModeFromJSON=a.RequestAnimationMode=a.layoutTypeToNumber=a.layoutTypeToJSON=a.layoutTypeFromJSON=a.LayoutType=a.protobufPackage=void 0;const _=g(umd.exports),b=c(minimal),$=struct$2;a.protobufPackage="apis.layout.v2";var tt;(function(et){et.LAYOUT_TYPE_UNSPECIFIED="LAYOUT_TYPE_UNSPECIFIED",et.LAYOUT_TYPE_SCENELESS="LAYOUT_TYPE_SCENELESS",et.LAYOUT_TYPE_SCENE="LAYOUT_TYPE_SCENE"})(tt=a.LayoutType||(a.LayoutType={}));function nt(et){switch(et){case 0:case"LAYOUT_TYPE_UNSPECIFIED":return tt.LAYOUT_TYPE_UNSPECIFIED;case 1:case"LAYOUT_TYPE_SCENELESS":return tt.LAYOUT_TYPE_SCENELESS;case 2:case"LAYOUT_TYPE_SCENE":return tt.LAYOUT_TYPE_SCENE;default:throw new Un.Error("Unrecognized enum value "+et+" for enum LayoutType")}}a.layoutTypeFromJSON=nt;function ot(et){switch(et){case tt.LAYOUT_TYPE_UNSPECIFIED:return"LAYOUT_TYPE_UNSPECIFIED";case tt.LAYOUT_TYPE_SCENELESS:return"LAYOUT_TYPE_SCENELESS";case tt.LAYOUT_TYPE_SCENE:return"LAYOUT_TYPE_SCENE";default:return"UNKNOWN"}}a.layoutTypeToJSON=ot;function dt(et){switch(et){case tt.LAYOUT_TYPE_UNSPECIFIED:return 0;case tt.LAYOUT_TYPE_SCENELESS:return 1;case tt.LAYOUT_TYPE_SCENE:return 2;default:return 0}}a.layoutTypeToNumber=dt;var ut;(function(et){et.REQUEST_ANIMATION_MODE_UNSPECIFIED="REQUEST_ANIMATION_MODE_UNSPECIFIED",et.REQUEST_ANIMATION_MODE_PARALLEL="REQUEST_ANIMATION_MODE_PARALLEL",et.REQUEST_ANIMATION_MODE_SERIES="REQUEST_ANIMATION_MODE_SERIES"})(ut=a.RequestAnimationMode||(a.RequestAnimationMode={}));function lt(et){switch(et){case 0:case"REQUEST_ANIMATION_MODE_UNSPECIFIED":return ut.REQUEST_ANIMATION_MODE_UNSPECIFIED;case 1:case"REQUEST_ANIMATION_MODE_PARALLEL":return ut.REQUEST_ANIMATION_MODE_PARALLEL;case 2:case"REQUEST_ANIMATION_MODE_SERIES":return ut.REQUEST_ANIMATION_MODE_SERIES;default:throw new Un.Error("Unrecognized enum value "+et+" for enum RequestAnimationMode")}}a.requestAnimationModeFromJSON=lt;function Tt(et){switch(et){case ut.REQUEST_ANIMATION_MODE_UNSPECIFIED:return"REQUEST_ANIMATION_MODE_UNSPECIFIED";case ut.REQUEST_ANIMATION_MODE_PARALLEL:return"REQUEST_ANIMATION_MODE_PARALLEL";case ut.REQUEST_ANIMATION_MODE_SERIES:return"REQUEST_ANIMATION_MODE_SERIES";default:return"UNKNOWN"}}a.requestAnimationModeToJSON=Tt;function yt(et){switch(et){case ut.REQUEST_ANIMATION_MODE_UNSPECIFIED:return 0;case ut.REQUEST_ANIMATION_MODE_PARALLEL:return 1;case ut.REQUEST_ANIMATION_MODE_SERIES:return 2;default:return 0}}a.requestAnimationModeToNumber=yt;var pt;(function(et){et.EVENT_SUB_TYPE_UNSPECIFIED="EVENT_SUB_TYPE_UNSPECIFIED",et.EVENT_SUB_TYPE_CREATE="EVENT_SUB_TYPE_CREATE",et.EVENT_SUB_TYPE_UPDATE="EVENT_SUB_TYPE_UPDATE",et.EVENT_SUB_TYPE_DELETE="EVENT_SUB_TYPE_DELETE",et.EVENT_SUB_TYPE_BATCH="EVENT_SUB_TYPE_BATCH"})(pt=a.EventSubType||(a.EventSubType={}));function vt(et){switch(et){case 0:case"EVENT_SUB_TYPE_UNSPECIFIED":return pt.EVENT_SUB_TYPE_UNSPECIFIED;case 1:case"EVENT_SUB_TYPE_CREATE":return pt.EVENT_SUB_TYPE_CREATE;case 2:case"EVENT_SUB_TYPE_UPDATE":return pt.EVENT_SUB_TYPE_UPDATE;case 3:case"EVENT_SUB_TYPE_DELETE":return pt.EVENT_SUB_TYPE_DELETE;case 4:case"EVENT_SUB_TYPE_BATCH":return pt.EVENT_SUB_TYPE_BATCH;default:throw new Un.Error("Unrecognized enum value "+et+" for enum EventSubType")}}a.eventSubTypeFromJSON=vt;function it(et){switch(et){case pt.EVENT_SUB_TYPE_UNSPECIFIED:return"EVENT_SUB_TYPE_UNSPECIFIED";case pt.EVENT_SUB_TYPE_CREATE:return"EVENT_SUB_TYPE_CREATE";case pt.EVENT_SUB_TYPE_UPDATE:return"EVENT_SUB_TYPE_UPDATE";case pt.EVENT_SUB_TYPE_DELETE:return"EVENT_SUB_TYPE_DELETE";case pt.EVENT_SUB_TYPE_BATCH:return"EVENT_SUB_TYPE_BATCH";default:return"UNKNOWN"}}a.eventSubTypeToJSON=it;function ct(et){switch(et){case pt.EVENT_SUB_TYPE_UNSPECIFIED:return 0;case pt.EVENT_SUB_TYPE_CREATE:return 1;case pt.EVENT_SUB_TYPE_UPDATE:return 2;case pt.EVENT_SUB_TYPE_DELETE:return 3;case pt.EVENT_SUB_TYPE_BATCH:return 4;default:return 0}}a.eventSubTypeToNumber=ct;var mt;(function(et){et.EVENT_TYPE_UNSPECIFIED="EVENT_TYPE_UNSPECIFIED",et.EVENT_TYPE_LAYOUT="EVENT_TYPE_LAYOUT",et.EVENT_TYPE_LAYER="EVENT_TYPE_LAYER"})(mt=a.EventType||(a.EventType={}));function Nt(et){switch(et){case 0:case"EVENT_TYPE_UNSPECIFIED":return mt.EVENT_TYPE_UNSPECIFIED;case 1:case"EVENT_TYPE_LAYOUT":return mt.EVENT_TYPE_LAYOUT;case 2:case"EVENT_TYPE_LAYER":return mt.EVENT_TYPE_LAYER;default:throw new Un.Error("Unrecognized enum value "+et+" for enum EventType")}}a.eventTypeFromJSON=Nt;function Ot(et){switch(et){case mt.EVENT_TYPE_UNSPECIFIED:return"EVENT_TYPE_UNSPECIFIED";case mt.EVENT_TYPE_LAYOUT:return"EVENT_TYPE_LAYOUT";case mt.EVENT_TYPE_LAYER:return"EVENT_TYPE_LAYER";default:return"UNKNOWN"}}a.eventTypeToJSON=Ot;function At(et){switch(et){case mt.EVENT_TYPE_UNSPECIFIED:return 0;case mt.EVENT_TYPE_LAYOUT:return 1;case mt.EVENT_TYPE_LAYER:return 2;default:return 0}}a.eventTypeToNumber=At;var Pt;(function(et){et.TRANSITION_DIRECTION_UNSPECIFIED="TRANSITION_DIRECTION_UNSPECIFIED",et.TRANSITION_DIRECTION_LEFT="TRANSITION_DIRECTION_LEFT",et.TRANSITION_DIRECTION_RIGHT="TRANSITION_DIRECTION_RIGHT",et.TRANSITION_DIRECTION_UP="TRANSITION_DIRECTION_UP",et.TRANSITION_DIRECTION_DOWN="TRANSITION_DIRECTION_DOWN"})(Pt=a.Transition_TransitionDirection||(a.Transition_TransitionDirection={}));function St(et){switch(et){case 0:case"TRANSITION_DIRECTION_UNSPECIFIED":return Pt.TRANSITION_DIRECTION_UNSPECIFIED;case 1:case"TRANSITION_DIRECTION_LEFT":return Pt.TRANSITION_DIRECTION_LEFT;case 2:case"TRANSITION_DIRECTION_RIGHT":return Pt.TRANSITION_DIRECTION_RIGHT;case 3:case"TRANSITION_DIRECTION_UP":return Pt.TRANSITION_DIRECTION_UP;case 4:case"TRANSITION_DIRECTION_DOWN":return Pt.TRANSITION_DIRECTION_DOWN;default:throw new Un.Error("Unrecognized enum value "+et+" for enum Transition_TransitionDirection")}}a.transition_TransitionDirectionFromJSON=St;function Ct(et){switch(et){case Pt.TRANSITION_DIRECTION_UNSPECIFIED:return"TRANSITION_DIRECTION_UNSPECIFIED";case Pt.TRANSITION_DIRECTION_LEFT:return"TRANSITION_DIRECTION_LEFT";case Pt.TRANSITION_DIRECTION_RIGHT:return"TRANSITION_DIRECTION_RIGHT";case Pt.TRANSITION_DIRECTION_UP:return"TRANSITION_DIRECTION_UP";case Pt.TRANSITION_DIRECTION_DOWN:return"TRANSITION_DIRECTION_DOWN";default:return"UNKNOWN"}}a.transition_TransitionDirectionToJSON=Ct;function $t(et){switch(et){case Pt.TRANSITION_DIRECTION_UNSPECIFIED:return 0;case Pt.TRANSITION_DIRECTION_LEFT:return 1;case Pt.TRANSITION_DIRECTION_RIGHT:return 2;case Pt.TRANSITION_DIRECTION_UP:return 3;case Pt.TRANSITION_DIRECTION_DOWN:return 4;default:return 0}}a.transition_TransitionDirectionToNumber=$t;var gt;(function(et){et.TRANSITION_SWIPE_TYPE_UNSPECIFIED="TRANSITION_SWIPE_TYPE_UNSPECIFIED",et.TRANSITION_SWIPE_TYPE_COMBINED="TRANSITION_SWIPE_TYPE_COMBINED",et.TRANSITION_SWIPE_TYPE_SOURCE="TRANSITION_SWIPE_TYPE_SOURCE",et.TRANSITION_SWIPE_TYPE_DESTINATION="TRANSITION_SWIPE_TYPE_DESTINATION"})(gt=a.Transition_TransitionSwipeType||(a.Transition_TransitionSwipeType={}));function It(et){switch(et){case 0:case"TRANSITION_SWIPE_TYPE_UNSPECIFIED":return gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED;case 1:case"TRANSITION_SWIPE_TYPE_COMBINED":return gt.TRANSITION_SWIPE_TYPE_COMBINED;case 2:case"TRANSITION_SWIPE_TYPE_SOURCE":return gt.TRANSITION_SWIPE_TYPE_SOURCE;case 3:case"TRANSITION_SWIPE_TYPE_DESTINATION":return gt.TRANSITION_SWIPE_TYPE_DESTINATION;default:throw new Un.Error("Unrecognized enum value "+et+" for enum Transition_TransitionSwipeType")}}a.transition_TransitionSwipeTypeFromJSON=It;function Rt(et){switch(et){case gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED:return"TRANSITION_SWIPE_TYPE_UNSPECIFIED";case gt.TRANSITION_SWIPE_TYPE_COMBINED:return"TRANSITION_SWIPE_TYPE_COMBINED";case gt.TRANSITION_SWIPE_TYPE_SOURCE:return"TRANSITION_SWIPE_TYPE_SOURCE";case gt.TRANSITION_SWIPE_TYPE_DESTINATION:return"TRANSITION_SWIPE_TYPE_DESTINATION";default:return"UNKNOWN"}}a.transition_TransitionSwipeTypeToJSON=Rt;function zt(et){switch(et){case gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED:return 0;case gt.TRANSITION_SWIPE_TYPE_COMBINED:return 1;case gt.TRANSITION_SWIPE_TYPE_SOURCE:return 2;case gt.TRANSITION_SWIPE_TYPE_DESTINATION:return 3;default:return 0}}a.transition_TransitionSwipeTypeToNumber=zt;function Ut(){return{fromLayoutIds:[],cut:void 0,crossfade:void 0,fadeToColor:void 0,swipe:void 0,stinger:void 0}}a.Transition={encode(et,ft=b.Writer.create()){for(const bt of et.fromLayoutIds)ft.uint32(10).string(bt);return et.cut!==void 0&&a.Transition_TransitionCut.encode(et.cut,ft.uint32(82).fork()).ldelim(),et.crossfade!==void 0&&a.Transition_TransitionCrossfade.encode(et.crossfade,ft.uint32(90).fork()).ldelim(),et.fadeToColor!==void 0&&a.Transition_TransitionFadeToColor.encode(et.fadeToColor,ft.uint32(98).fork()).ldelim(),et.swipe!==void 0&&a.Transition_TransitionSwipe.encode(et.swipe,ft.uint32(106).fork()).ldelim(),et.stinger!==void 0&&a.Transition_TransitionStinger.encode(et.stinger,ft.uint32(114).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Ut();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.fromLayoutIds.push(bt.string());break;case 10:Mt.cut=a.Transition_TransitionCut.decode(bt,bt.uint32());break;case 11:Mt.crossfade=a.Transition_TransitionCrossfade.decode(bt,bt.uint32());break;case 12:Mt.fadeToColor=a.Transition_TransitionFadeToColor.decode(bt,bt.uint32());break;case 13:Mt.swipe=a.Transition_TransitionSwipe.decode(bt,bt.uint32());break;case 14:Mt.stinger=a.Transition_TransitionStinger.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{fromLayoutIds:Array.isArray(et==null?void 0:et.fromLayoutIds)?et.fromLayoutIds.map(ft=>String(ft)):[],cut:Gt(et.cut)?a.Transition_TransitionCut.fromJSON(et.cut):void 0,crossfade:Gt(et.crossfade)?a.Transition_TransitionCrossfade.fromJSON(et.crossfade):void 0,fadeToColor:Gt(et.fadeToColor)?a.Transition_TransitionFadeToColor.fromJSON(et.fadeToColor):void 0,swipe:Gt(et.swipe)?a.Transition_TransitionSwipe.fromJSON(et.swipe):void 0,stinger:Gt(et.stinger)?a.Transition_TransitionStinger.fromJSON(et.stinger):void 0}},toJSON(et){const ft={};return et.fromLayoutIds?ft.fromLayoutIds=et.fromLayoutIds.map(bt=>bt):ft.fromLayoutIds=[],et.cut!==void 0&&(ft.cut=et.cut?a.Transition_TransitionCut.toJSON(et.cut):void 0),et.crossfade!==void 0&&(ft.crossfade=et.crossfade?a.Transition_TransitionCrossfade.toJSON(et.crossfade):void 0),et.fadeToColor!==void 0&&(ft.fadeToColor=et.fadeToColor?a.Transition_TransitionFadeToColor.toJSON(et.fadeToColor):void 0),et.swipe!==void 0&&(ft.swipe=et.swipe?a.Transition_TransitionSwipe.toJSON(et.swipe):void 0),et.stinger!==void 0&&(ft.stinger=et.stinger?a.Transition_TransitionStinger.toJSON(et.stinger):void 0),ft},fromPartial(et){var ft;const bt=Ut();return bt.fromLayoutIds=((ft=et.fromLayoutIds)===null||ft===void 0?void 0:ft.map(Bt=>Bt))||[],bt.cut=et.cut!==void 0&&et.cut!==null?a.Transition_TransitionCut.fromPartial(et.cut):void 0,bt.crossfade=et.crossfade!==void 0&&et.crossfade!==null?a.Transition_TransitionCrossfade.fromPartial(et.crossfade):void 0,bt.fadeToColor=et.fadeToColor!==void 0&&et.fadeToColor!==null?a.Transition_TransitionFadeToColor.fromPartial(et.fadeToColor):void 0,bt.swipe=et.swipe!==void 0&&et.swipe!==null?a.Transition_TransitionSwipe.fromPartial(et.swipe):void 0,bt.stinger=et.stinger!==void 0&&et.stinger!==null?a.Transition_TransitionStinger.fromPartial(et.stinger):void 0,bt}};function Dt(){return{url:"",volume:0}}a.Transition_TransitionMediaType={encode(et,ft=b.Writer.create()){return et.url!==""&&ft.uint32(10).string(et.url),et.volume!==0&&ft.uint32(17).double(et.volume),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Dt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.url=bt.string();break;case 2:Mt.volume=bt.double();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{url:Gt(et.url)?String(et.url):"",volume:Gt(et.volume)?Number(et.volume):0}},toJSON(et){const ft={};return et.url!==void 0&&(ft.url=et.url),et.volume!==void 0&&(ft.volume=et.volume),ft},fromPartial(et){var ft,bt;const Bt=Dt();return Bt.url=(ft=et.url)!==null&&ft!==void 0?ft:"",Bt.volume=(bt=et.volume)!==null&&bt!==void 0?bt:0,Bt}};function qt(){return{}}a.Transition_TransitionCut={encode(et,ft=b.Writer.create()){return ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=qt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{}},toJSON(et){return{}},fromPartial(et){return qt()}};function Kt(){return{durationMs:0,backgroundColor:""}}a.Transition_TransitionFadeToColor={encode(et,ft=b.Writer.create()){return et.durationMs!==0&&ft.uint32(8).int32(et.durationMs),et.backgroundColor!==""&&ft.uint32(18).string(et.backgroundColor),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Kt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.durationMs=bt.int32();break;case 2:Mt.backgroundColor=bt.string();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{durationMs:Gt(et.durationMs)?Number(et.durationMs):0,backgroundColor:Gt(et.backgroundColor)?String(et.backgroundColor):""}},toJSON(et){const ft={};return et.durationMs!==void 0&&(ft.durationMs=Math.round(et.durationMs)),et.backgroundColor!==void 0&&(ft.backgroundColor=et.backgroundColor),ft},fromPartial(et){var ft,bt;const Bt=Kt();return Bt.durationMs=(ft=et.durationMs)!==null&&ft!==void 0?ft:0,Bt.backgroundColor=(bt=et.backgroundColor)!==null&&bt!==void 0?bt:"",Bt}};function Qt(){return{durationMs:0}}a.Transition_TransitionCrossfade={encode(et,ft=b.Writer.create()){return et.durationMs!==0&&ft.uint32(8).int32(et.durationMs),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Qt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.durationMs=bt.int32();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{durationMs:Gt(et.durationMs)?Number(et.durationMs):0}},toJSON(et){const ft={};return et.durationMs!==void 0&&(ft.durationMs=Math.round(et.durationMs)),ft},fromPartial(et){var ft;const bt=Qt();return bt.durationMs=(ft=et.durationMs)!==null&&ft!==void 0?ft:0,bt}};function Ht(){return{durationMs:0,direction:Pt.TRANSITION_DIRECTION_UNSPECIFIED,combinedAnimation:gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED}}a.Transition_TransitionSwipe={encode(et,ft=b.Writer.create()){return et.durationMs!==0&&ft.uint32(8).int32(et.durationMs),et.direction!==Pt.TRANSITION_DIRECTION_UNSPECIFIED&&ft.uint32(16).int32($t(et.direction)),et.combinedAnimation!==gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED&&ft.uint32(24).int32(zt(et.combinedAnimation)),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Ht();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.durationMs=bt.int32();break;case 2:Mt.direction=St(bt.int32());break;case 3:Mt.combinedAnimation=It(bt.int32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{durationMs:Gt(et.durationMs)?Number(et.durationMs):0,direction:Gt(et.direction)?St(et.direction):Pt.TRANSITION_DIRECTION_UNSPECIFIED,combinedAnimation:Gt(et.combinedAnimation)?It(et.combinedAnimation):gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED}},toJSON(et){const ft={};return et.durationMs!==void 0&&(ft.durationMs=Math.round(et.durationMs)),et.direction!==void 0&&(ft.direction=Ct(et.direction)),et.combinedAnimation!==void 0&&(ft.combinedAnimation=Rt(et.combinedAnimation)),ft},fromPartial(et){var ft,bt,Bt;const Mt=Ht();return Mt.durationMs=(ft=et.durationMs)!==null&&ft!==void 0?ft:0,Mt.direction=(bt=et.direction)!==null&&bt!==void 0?bt:Pt.TRANSITION_DIRECTION_UNSPECIFIED,Mt.combinedAnimation=(Bt=et.combinedAnimation)!==null&&Bt!==void 0?Bt:gt.TRANSITION_SWIPE_TYPE_UNSPECIFIED,Mt}};function j(){return{cutPointMs:0,media:void 0}}a.Transition_TransitionStingerCut={encode(et,ft=b.Writer.create()){return et.cutPointMs!==0&&ft.uint32(8).int32(et.cutPointMs),et.media!==void 0&&a.Transition_TransitionMediaType.encode(et.media,ft.uint32(18).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=j();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.cutPointMs=bt.int32();break;case 2:Mt.media=a.Transition_TransitionMediaType.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{cutPointMs:Gt(et.cutPointMs)?Number(et.cutPointMs):0,media:Gt(et.media)?a.Transition_TransitionMediaType.fromJSON(et.media):void 0}},toJSON(et){const ft={};return et.cutPointMs!==void 0&&(ft.cutPointMs=Math.round(et.cutPointMs)),et.media!==void 0&&(ft.media=et.media?a.Transition_TransitionMediaType.toJSON(et.media):void 0),ft},fromPartial(et){var ft;const bt=j();return bt.cutPointMs=(ft=et.cutPointMs)!==null&&ft!==void 0?ft:0,bt.media=et.media!==void 0&&et.media!==null?a.Transition_TransitionMediaType.fromPartial(et.media):void 0,bt}};function rt(){return{cut:void 0}}a.Transition_TransitionStinger={encode(et,ft=b.Writer.create()){return et.cut!==void 0&&a.Transition_TransitionStingerCut.encode(et.cut,ft.uint32(10).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=rt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.cut=a.Transition_TransitionStingerCut.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{cut:Gt(et.cut)?a.Transition_TransitionStingerCut.fromJSON(et.cut):void 0}},toJSON(et){const ft={};return et.cut!==void 0&&(ft.cut=et.cut?a.Transition_TransitionStingerCut.toJSON(et.cut):void 0),ft},fromPartial(et){const ft=rt();return ft.cut=et.cut!==void 0&&et.cut!==null?a.Transition_TransitionStingerCut.fromPartial(et.cut):void 0,ft}};function ht(){return{id:"",width:0,height:0,metadata:void 0,projectId:void 0,collectionId:void 0,type:void 0,transitions:[],requestMetadata:void 0}}a.Layout={encode(et,ft=b.Writer.create()){et.id!==""&&ft.uint32(10).string(et.id),et.width!==0&&ft.uint32(16).int32(et.width),et.height!==0&&ft.uint32(24).int32(et.height),et.metadata!==void 0&&$.Value.encode($.Value.wrap(et.metadata),ft.uint32(50).fork()).ldelim(),et.projectId!==void 0&&ft.uint32(58).string(et.projectId),et.collectionId!==void 0&&ft.uint32(66).string(et.collectionId),et.type!==void 0&&ft.uint32(72).int32(dt(et.type));for(const bt of et.transitions)a.Transition.encode(bt,ft.uint32(82).fork()).ldelim();return et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(810).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=ht();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.id=bt.string();break;case 2:Mt.width=bt.int32();break;case 3:Mt.height=bt.int32();break;case 6:Mt.metadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 7:Mt.projectId=bt.string();break;case 8:Mt.collectionId=bt.string();break;case 9:Mt.type=nt(bt.int32());break;case 10:Mt.transitions.push(a.Transition.decode(bt,bt.uint32()));break;case 101:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{id:Gt(et.id)?String(et.id):"",width:Gt(et.width)?Number(et.width):0,height:Gt(et.height)?Number(et.height):0,metadata:Gt(et==null?void 0:et.metadata)?et.metadata:void 0,projectId:Gt(et.projectId)?String(et.projectId):void 0,collectionId:Gt(et.collectionId)?String(et.collectionId):void 0,type:Gt(et.type)?nt(et.type):void 0,transitions:Array.isArray(et==null?void 0:et.transitions)?et.transitions.map(ft=>a.Transition.fromJSON(ft)):[],requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.id!==void 0&&(ft.id=et.id),et.width!==void 0&&(ft.width=Math.round(et.width)),et.height!==void 0&&(ft.height=Math.round(et.height)),et.metadata!==void 0&&(ft.metadata=et.metadata),et.projectId!==void 0&&(ft.projectId=et.projectId),et.collectionId!==void 0&&(ft.collectionId=et.collectionId),et.type!==void 0&&(ft.type=et.type!==void 0?ot(et.type):void 0),et.transitions?ft.transitions=et.transitions.map(bt=>bt?a.Transition.toJSON(bt):void 0):ft.transitions=[],et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft,bt,Bt,Mt,Jt,hn,bn,En,mn;const vn=ht();return vn.id=(ft=et.id)!==null&&ft!==void 0?ft:"",vn.width=(bt=et.width)!==null&&bt!==void 0?bt:0,vn.height=(Bt=et.height)!==null&&Bt!==void 0?Bt:0,vn.metadata=(Mt=et.metadata)!==null&&Mt!==void 0?Mt:void 0,vn.projectId=(Jt=et.projectId)!==null&&Jt!==void 0?Jt:void 0,vn.collectionId=(hn=et.collectionId)!==null&&hn!==void 0?hn:void 0,vn.type=(bn=et.type)!==null&&bn!==void 0?bn:void 0,vn.transitions=((En=et.transitions)===null||En===void 0?void 0:En.map(Rn=>a.Transition.fromPartial(Rn)))||[],vn.requestMetadata=(mn=et.requestMetadata)!==null&&mn!==void 0?mn:void 0,vn}};function Vt(){return{type:"",data:void 0,x:void 0,y:void 0,width:void 0,height:void 0,rotation:0,opacity:0,scale:0,hidden:!1,children:void 0,metadata:void 0,id:"",layoutId:"",requestMetadata:void 0,requestAnimation:[]}}a.Layer={encode(et,ft=b.Writer.create()){et.type!==""&&ft.uint32(10).string(et.type),et.data!==void 0&&$.Struct.encode($.Struct.wrap(et.data),ft.uint32(18).fork()).ldelim(),et.x!==void 0&&$.Value.encode($.Value.wrap(et.x),ft.uint32(26).fork()).ldelim(),et.y!==void 0&&$.Value.encode($.Value.wrap(et.y),ft.uint32(34).fork()).ldelim(),et.width!==void 0&&$.Value.encode($.Value.wrap(et.width),ft.uint32(42).fork()).ldelim(),et.height!==void 0&&$.Value.encode($.Value.wrap(et.height),ft.uint32(50).fork()).ldelim(),et.rotation!==0&&ft.uint32(57).double(et.rotation),et.opacity!==0&&ft.uint32(65).double(et.opacity),et.scale!==0&&ft.uint32(73).double(et.scale),et.hidden===!0&&ft.uint32(80).bool(et.hidden),et.children!==void 0&&$.ListValue.encode($.ListValue.wrap(et.children),ft.uint32(98).fork()).ldelim(),et.metadata!==void 0&&$.Value.encode($.Value.wrap(et.metadata),ft.uint32(114).fork()).ldelim(),et.id!==""&&ft.uint32(802).string(et.id),et.layoutId!==""&&ft.uint32(818).string(et.layoutId),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(810).fork()).ldelim();for(const bt of et.requestAnimation)a.LayerAnimation.encode(bt,ft.uint32(826).fork()).ldelim();return ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Vt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.type=bt.string();break;case 2:Mt.data=$.Struct.unwrap($.Struct.decode(bt,bt.uint32()));break;case 3:Mt.x=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 4:Mt.y=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 5:Mt.width=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 6:Mt.height=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 7:Mt.rotation=bt.double();break;case 8:Mt.opacity=bt.double();break;case 9:Mt.scale=bt.double();break;case 10:Mt.hidden=bt.bool();break;case 12:Mt.children=$.ListValue.unwrap($.ListValue.decode(bt,bt.uint32()));break;case 14:Mt.metadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 100:Mt.id=bt.string();break;case 102:Mt.layoutId=bt.string();break;case 101:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 103:Mt.requestAnimation.push(a.LayerAnimation.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{type:Gt(et.type)?String(et.type):"",data:Jn(et.data)?et.data:void 0,x:Gt(et==null?void 0:et.x)?et.x:void 0,y:Gt(et==null?void 0:et.y)?et.y:void 0,width:Gt(et==null?void 0:et.width)?et.width:void 0,height:Gt(et==null?void 0:et.height)?et.height:void 0,rotation:Gt(et.rotation)?Number(et.rotation):0,opacity:Gt(et.opacity)?Number(et.opacity):0,scale:Gt(et.scale)?Number(et.scale):0,hidden:Gt(et.hidden)?Boolean(et.hidden):!1,children:Array.isArray(et.children)?[...et.children]:void 0,metadata:Gt(et==null?void 0:et.metadata)?et.metadata:void 0,id:Gt(et.id)?String(et.id):"",layoutId:Gt(et.layoutId)?String(et.layoutId):"",requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0,requestAnimation:Array.isArray(et==null?void 0:et.requestAnimation)?et.requestAnimation.map(ft=>a.LayerAnimation.fromJSON(ft)):[]}},toJSON(et){const ft={};return et.type!==void 0&&(ft.type=et.type),et.data!==void 0&&(ft.data=et.data),et.x!==void 0&&(ft.x=et.x),et.y!==void 0&&(ft.y=et.y),et.width!==void 0&&(ft.width=et.width),et.height!==void 0&&(ft.height=et.height),et.rotation!==void 0&&(ft.rotation=et.rotation),et.opacity!==void 0&&(ft.opacity=et.opacity),et.scale!==void 0&&(ft.scale=et.scale),et.hidden!==void 0&&(ft.hidden=et.hidden),et.children!==void 0&&(ft.children=et.children),et.metadata!==void 0&&(ft.metadata=et.metadata),et.id!==void 0&&(ft.id=et.id),et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),et.requestAnimation?ft.requestAnimation=et.requestAnimation.map(bt=>bt?a.LayerAnimation.toJSON(bt):void 0):ft.requestAnimation=[],ft},fromPartial(et){var ft,bt,Bt,Mt,Jt,hn,bn,En,mn,vn,Rn,Cn,Pn,Nn,wn,yn;const an=Vt();return an.type=(ft=et.type)!==null&&ft!==void 0?ft:"",an.data=(bt=et.data)!==null&&bt!==void 0?bt:void 0,an.x=(Bt=et.x)!==null&&Bt!==void 0?Bt:void 0,an.y=(Mt=et.y)!==null&&Mt!==void 0?Mt:void 0,an.width=(Jt=et.width)!==null&&Jt!==void 0?Jt:void 0,an.height=(hn=et.height)!==null&&hn!==void 0?hn:void 0,an.rotation=(bn=et.rotation)!==null&&bn!==void 0?bn:0,an.opacity=(En=et.opacity)!==null&&En!==void 0?En:0,an.scale=(mn=et.scale)!==null&&mn!==void 0?mn:0,an.hidden=(vn=et.hidden)!==null&&vn!==void 0?vn:!1,an.children=(Rn=et.children)!==null&&Rn!==void 0?Rn:void 0,an.metadata=(Cn=et.metadata)!==null&&Cn!==void 0?Cn:void 0,an.id=(Pn=et.id)!==null&&Pn!==void 0?Pn:"",an.layoutId=(Nn=et.layoutId)!==null&&Nn!==void 0?Nn:"",an.requestMetadata=(wn=et.requestMetadata)!==null&&wn!==void 0?wn:void 0,an.requestAnimation=((yn=et.requestAnimation)===null||yn===void 0?void 0:yn.map(Fn=>a.LayerAnimation.fromPartial(Fn)))||[],an}};function at(){return{layoutId:"",layerId:"",payload:void 0}}a.DeleteLayerRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),et.layerId!==""&&ft.uint32(18).string(et.layerId),et.payload!==void 0&&a.DeleteLayerPayload.encode(et.payload,ft.uint32(26).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=at();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 2:Mt.layerId=bt.string();break;case 3:Mt.payload=a.DeleteLayerPayload.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",layerId:Gt(et.layerId)?String(et.layerId):"",payload:Gt(et.payload)?a.DeleteLayerPayload.fromJSON(et.payload):void 0}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.layerId!==void 0&&(ft.layerId=et.layerId),et.payload!==void 0&&(ft.payload=et.payload?a.DeleteLayerPayload.toJSON(et.payload):void 0),ft},fromPartial(et){var ft,bt;const Bt=at();return Bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",Bt.layerId=(bt=et.layerId)!==null&&bt!==void 0?bt:"",Bt.payload=et.payload!==void 0&&et.payload!==null?a.DeleteLayerPayload.fromPartial(et.payload):void 0,Bt}};function _t(){return{id:"",layoutId:"",requestMetadata:void 0}}a.DeleteLayerResponse={encode(et,ft=b.Writer.create()){return et.id!==""&&ft.uint32(10).string(et.id),et.layoutId!==""&&ft.uint32(18).string(et.layoutId),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=_t();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.id=bt.string();break;case 2:Mt.layoutId=bt.string();break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{id:Gt(et.id)?String(et.id):"",layoutId:Gt(et.layoutId)?String(et.layoutId):"",requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.id!==void 0&&(ft.id=et.id),et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft,bt,Bt;const Mt=_t();return Mt.id=(ft=et.id)!==null&&ft!==void 0?ft:"",Mt.layoutId=(bt=et.layoutId)!==null&&bt!==void 0?bt:"",Mt.requestMetadata=(Bt=et.requestMetadata)!==null&&Bt!==void 0?Bt:void 0,Mt}};function Lt(){return{layers:[],layoutId:"",requestMetadata:void 0,requestAnimationMode:ut.REQUEST_ANIMATION_MODE_UNSPECIFIED}}a.BatchLayerResponse={encode(et,ft=b.Writer.create()){for(const bt of et.layers)a.BatchLayerResponse_BatchLayerItem.encode(bt,ft.uint32(18).fork()).ldelim();return et.layoutId!==""&&ft.uint32(26).string(et.layoutId),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),et.requestAnimationMode!==ut.REQUEST_ANIMATION_MODE_UNSPECIFIED&&ft.uint32(808).int32(yt(et.requestAnimationMode)),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Lt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 2:Mt.layers.push(a.BatchLayerResponse_BatchLayerItem.decode(bt,bt.uint32()));break;case 3:Mt.layoutId=bt.string();break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 101:Mt.requestAnimationMode=lt(bt.int32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layers:Array.isArray(et==null?void 0:et.layers)?et.layers.map(ft=>a.BatchLayerResponse_BatchLayerItem.fromJSON(ft)):[],layoutId:Gt(et.layoutId)?String(et.layoutId):"",requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0,requestAnimationMode:Gt(et.requestAnimationMode)?lt(et.requestAnimationMode):ut.REQUEST_ANIMATION_MODE_UNSPECIFIED}},toJSON(et){const ft={};return et.layers?ft.layers=et.layers.map(bt=>bt?a.BatchLayerResponse_BatchLayerItem.toJSON(bt):void 0):ft.layers=[],et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),et.requestAnimationMode!==void 0&&(ft.requestAnimationMode=Tt(et.requestAnimationMode)),ft},fromPartial(et){var ft,bt,Bt,Mt;const Jt=Lt();return Jt.layers=((ft=et.layers)===null||ft===void 0?void 0:ft.map(hn=>a.BatchLayerResponse_BatchLayerItem.fromPartial(hn)))||[],Jt.layoutId=(bt=et.layoutId)!==null&&bt!==void 0?bt:"",Jt.requestMetadata=(Bt=et.requestMetadata)!==null&&Bt!==void 0?Bt:void 0,Jt.requestAnimationMode=(Mt=et.requestAnimationMode)!==null&&Mt!==void 0?Mt:ut.REQUEST_ANIMATION_MODE_UNSPECIFIED,Jt}};function Wt(){return{create:void 0,update:void 0,delete:void 0}}a.BatchLayerResponse_BatchLayerItem={encode(et,ft=b.Writer.create()){return et.create!==void 0&&a.Layer.encode(et.create,ft.uint32(10).fork()).ldelim(),et.update!==void 0&&a.Layer.encode(et.update,ft.uint32(18).fork()).ldelim(),et.delete!==void 0&&a.DeleteLayerResponse.encode(et.delete,ft.uint32(26).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Wt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.create=a.Layer.decode(bt,bt.uint32());break;case 2:Mt.update=a.Layer.decode(bt,bt.uint32());break;case 3:Mt.delete=a.DeleteLayerResponse.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{create:Gt(et.create)?a.Layer.fromJSON(et.create):void 0,update:Gt(et.update)?a.Layer.fromJSON(et.update):void 0,delete:Gt(et.delete)?a.DeleteLayerResponse.fromJSON(et.delete):void 0}},toJSON(et){const ft={};return et.create!==void 0&&(ft.create=et.create?a.Layer.toJSON(et.create):void 0),et.update!==void 0&&(ft.update=et.update?a.Layer.toJSON(et.update):void 0),et.delete!==void 0&&(ft.delete=et.delete?a.DeleteLayerResponse.toJSON(et.delete):void 0),ft},fromPartial(et){const ft=Wt();return ft.create=et.create!==void 0&&et.create!==null?a.Layer.fromPartial(et.create):void 0,ft.update=et.update!==void 0&&et.update!==null?a.Layer.fromPartial(et.update):void 0,ft.delete=et.delete!==void 0&&et.delete!==null?a.DeleteLayerResponse.fromPartial(et.delete):void 0,ft}};function Ft(){return{width:void 0,height:void 0,metadata:void 0,projectId:void 0,collectionId:void 0,type:void 0,transitions:[],requestMetadata:void 0}}a.PartialLayout={encode(et,ft=b.Writer.create()){et.width!==void 0&&ft.uint32(16).int32(et.width),et.height!==void 0&&ft.uint32(24).int32(et.height),et.metadata!==void 0&&$.Value.encode($.Value.wrap(et.metadata),ft.uint32(50).fork()).ldelim(),et.projectId!==void 0&&ft.uint32(58).string(et.projectId),et.collectionId!==void 0&&ft.uint32(66).string(et.collectionId),et.type!==void 0&&ft.uint32(72).int32(dt(et.type));for(const bt of et.transitions)a.Transition.encode(bt,ft.uint32(82).fork()).ldelim();return et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(810).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Ft();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 2:Mt.width=bt.int32();break;case 3:Mt.height=bt.int32();break;case 6:Mt.metadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 7:Mt.projectId=bt.string();break;case 8:Mt.collectionId=bt.string();break;case 9:Mt.type=nt(bt.int32());break;case 10:Mt.transitions.push(a.Transition.decode(bt,bt.uint32()));break;case 101:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{width:Gt(et.width)?Number(et.width):void 0,height:Gt(et.height)?Number(et.height):void 0,metadata:Gt(et==null?void 0:et.metadata)?et.metadata:void 0,projectId:Gt(et.projectId)?String(et.projectId):void 0,collectionId:Gt(et.collectionId)?String(et.collectionId):void 0,type:Gt(et.type)?nt(et.type):void 0,transitions:Array.isArray(et==null?void 0:et.transitions)?et.transitions.map(ft=>a.Transition.fromJSON(ft)):[],requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.width!==void 0&&(ft.width=Math.round(et.width)),et.height!==void 0&&(ft.height=Math.round(et.height)),et.metadata!==void 0&&(ft.metadata=et.metadata),et.projectId!==void 0&&(ft.projectId=et.projectId),et.collectionId!==void 0&&(ft.collectionId=et.collectionId),et.type!==void 0&&(ft.type=et.type!==void 0?ot(et.type):void 0),et.transitions?ft.transitions=et.transitions.map(bt=>bt?a.Transition.toJSON(bt):void 0):ft.transitions=[],et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft,bt,Bt,Mt,Jt,hn,bn,En;const mn=Ft();return mn.width=(ft=et.width)!==null&&ft!==void 0?ft:void 0,mn.height=(bt=et.height)!==null&&bt!==void 0?bt:void 0,mn.metadata=(Bt=et.metadata)!==null&&Bt!==void 0?Bt:void 0,mn.projectId=(Mt=et.projectId)!==null&&Mt!==void 0?Mt:void 0,mn.collectionId=(Jt=et.collectionId)!==null&&Jt!==void 0?Jt:void 0,mn.type=(hn=et.type)!==null&&hn!==void 0?hn:void 0,mn.transitions=((bn=et.transitions)===null||bn===void 0?void 0:bn.map(vn=>a.Transition.fromPartial(vn)))||[],mn.requestMetadata=(En=et.requestMetadata)!==null&&En!==void 0?En:void 0,mn}};function jt(){return{projectId:void 0,collectionId:void 0,type:void 0}}a.ListLayoutsRequest={encode(et,ft=b.Writer.create()){return et.projectId!==void 0&&ft.uint32(10).string(et.projectId),et.collectionId!==void 0&&ft.uint32(18).string(et.collectionId),et.type!==void 0&&ft.uint32(24).int32(dt(et.type)),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=jt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.projectId=bt.string();break;case 2:Mt.collectionId=bt.string();break;case 3:Mt.type=nt(bt.int32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{projectId:Gt(et.projectId)?String(et.projectId):void 0,collectionId:Gt(et.collectionId)?String(et.collectionId):void 0,type:Gt(et.type)?nt(et.type):void 0}},toJSON(et){const ft={};return et.projectId!==void 0&&(ft.projectId=et.projectId),et.collectionId!==void 0&&(ft.collectionId=et.collectionId),et.type!==void 0&&(ft.type=et.type!==void 0?ot(et.type):void 0),ft},fromPartial(et){var ft,bt,Bt;const Mt=jt();return Mt.projectId=(ft=et.projectId)!==null&&ft!==void 0?ft:void 0,Mt.collectionId=(bt=et.collectionId)!==null&&bt!==void 0?bt:void 0,Mt.type=(Bt=et.type)!==null&&Bt!==void 0?Bt:void 0,Mt}};function tn(){return{layouts:[]}}a.ListLayoutsResponse={encode(et,ft=b.Writer.create()){for(const bt of et.layouts)a.Layout.encode(bt,ft.uint32(10).fork()).ldelim();return ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=tn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layouts.push(a.Layout.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layouts:Array.isArray(et==null?void 0:et.layouts)?et.layouts.map(ft=>a.Layout.fromJSON(ft)):[]}},toJSON(et){const ft={};return et.layouts?ft.layouts=et.layouts.map(bt=>bt?a.Layout.toJSON(bt):void 0):ft.layouts=[],ft},fromPartial(et){var ft;const bt=tn();return bt.layouts=((ft=et.layouts)===null||ft===void 0?void 0:ft.map(Bt=>a.Layout.fromPartial(Bt)))||[],bt}};function ln(){return{layout:void 0}}a.CreateLayoutRequest={encode(et,ft=b.Writer.create()){return et.layout!==void 0&&a.PartialLayout.encode(et.layout,ft.uint32(18).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=ln();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 2:Mt.layout=a.PartialLayout.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layout:Gt(et.layout)?a.PartialLayout.fromJSON(et.layout):void 0}},toJSON(et){const ft={};return et.layout!==void 0&&(ft.layout=et.layout?a.PartialLayout.toJSON(et.layout):void 0),ft},fromPartial(et){const ft=ln();return ft.layout=et.layout!==void 0&&et.layout!==null?a.PartialLayout.fromPartial(et.layout):void 0,ft}};function rn(){return{layoutId:""}}a.GetLayoutRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=rn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):""}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),ft},fromPartial(et){var ft;const bt=rn();return bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",bt}};function en(){return{layoutId:"",layout:void 0}}a.UpdateLayoutRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),et.layout!==void 0&&a.PartialLayout.encode(et.layout,ft.uint32(26).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=en();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 3:Mt.layout=a.PartialLayout.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",layout:Gt(et.layout)?a.PartialLayout.fromJSON(et.layout):void 0}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.layout!==void 0&&(ft.layout=et.layout?a.PartialLayout.toJSON(et.layout):void 0),ft},fromPartial(et){var ft;const bt=en();return bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",bt.layout=et.layout!==void 0&&et.layout!==null?a.PartialLayout.fromPartial(et.layout):void 0,bt}};function fn(){return{requestMetadata:void 0}}a.DeleteLayoutPayload={encode(et,ft=b.Writer.create()){return et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=fn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft;const bt=fn();return bt.requestMetadata=(ft=et.requestMetadata)!==null&&ft!==void 0?ft:void 0,bt}};function On(){return{layoutId:"",payload:void 0}}a.DeleteLayoutRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),et.payload!==void 0&&a.DeleteLayoutPayload.encode(et.payload,ft.uint32(18).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=On();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 2:Mt.payload=a.DeleteLayoutPayload.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",payload:Gt(et.payload)?a.DeleteLayoutPayload.fromJSON(et.payload):void 0}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.payload!==void 0&&(ft.payload=et.payload?a.DeleteLayoutPayload.toJSON(et.payload):void 0),ft},fromPartial(et){var ft;const bt=On();return bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",bt.payload=et.payload!==void 0&&et.payload!==null?a.DeleteLayoutPayload.fromPartial(et.payload):void 0,bt}};function Xt(){return{id:"",requestMetadata:void 0}}a.DeleteLayoutResponse={encode(et,ft=b.Writer.create()){return et.id!==""&&ft.uint32(18).string(et.id),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Xt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 2:Mt.id=bt.string();break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{id:Gt(et.id)?String(et.id):"",requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.id!==void 0&&(ft.id=et.id),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft,bt;const Bt=Xt();return Bt.id=(ft=et.id)!==null&&ft!==void 0?ft:"",Bt.requestMetadata=(bt=et.requestMetadata)!==null&&bt!==void 0?bt:void 0,Bt}};function kn(){return{properties:[],durationMs:0,delayMs:void 0,easingMode:void 0}}a.LayerAnimation={encode(et,ft=b.Writer.create()){for(const bt of et.properties)ft.uint32(10).string(bt);return et.durationMs!==0&&ft.uint32(16).int32(et.durationMs),et.delayMs!==void 0&&ft.uint32(32).int32(et.delayMs),et.easingMode!==void 0&&ft.uint32(42).string(et.easingMode),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=kn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.properties.push(bt.string());break;case 2:Mt.durationMs=bt.int32();break;case 4:Mt.delayMs=bt.int32();break;case 5:Mt.easingMode=bt.string();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{properties:Array.isArray(et==null?void 0:et.properties)?et.properties.map(ft=>String(ft)):[],durationMs:Gt(et.durationMs)?Number(et.durationMs):0,delayMs:Gt(et.delayMs)?Number(et.delayMs):void 0,easingMode:Gt(et.easingMode)?String(et.easingMode):void 0}},toJSON(et){const ft={};return et.properties?ft.properties=et.properties.map(bt=>bt):ft.properties=[],et.durationMs!==void 0&&(ft.durationMs=Math.round(et.durationMs)),et.delayMs!==void 0&&(ft.delayMs=Math.round(et.delayMs)),et.easingMode!==void 0&&(ft.easingMode=et.easingMode),ft},fromPartial(et){var ft,bt,Bt,Mt;const Jt=kn();return Jt.properties=((ft=et.properties)===null||ft===void 0?void 0:ft.map(hn=>hn))||[],Jt.durationMs=(bt=et.durationMs)!==null&&bt!==void 0?bt:0,Jt.delayMs=(Bt=et.delayMs)!==null&&Bt!==void 0?Bt:void 0,Jt.easingMode=(Mt=et.easingMode)!==null&&Mt!==void 0?Mt:void 0,Jt}};function An(){return{type:void 0,data:void 0,x:void 0,y:void 0,width:void 0,height:void 0,rotation:void 0,opacity:void 0,scale:void 0,hidden:void 0,children:void 0,parentId:void 0,metadata:void 0,requestMetadata:void 0,requestAnimation:[]}}a.PartialLayer={encode(et,ft=b.Writer.create()){et.type!==void 0&&ft.uint32(10).string(et.type),et.data!==void 0&&$.Struct.encode($.Struct.wrap(et.data),ft.uint32(18).fork()).ldelim(),et.x!==void 0&&$.Value.encode($.Value.wrap(et.x),ft.uint32(26).fork()).ldelim(),et.y!==void 0&&$.Value.encode($.Value.wrap(et.y),ft.uint32(34).fork()).ldelim(),et.width!==void 0&&$.Value.encode($.Value.wrap(et.width),ft.uint32(42).fork()).ldelim(),et.height!==void 0&&$.Value.encode($.Value.wrap(et.height),ft.uint32(50).fork()).ldelim(),et.rotation!==void 0&&ft.uint32(57).double(et.rotation),et.opacity!==void 0&&ft.uint32(65).double(et.opacity),et.scale!==void 0&&ft.uint32(73).double(et.scale),et.hidden!==void 0&&ft.uint32(80).bool(et.hidden),et.children!==void 0&&$.ListValue.encode($.ListValue.wrap(et.children),ft.uint32(98).fork()).ldelim(),et.parentId!==void 0&&ft.uint32(106).string(et.parentId),et.metadata!==void 0&&$.Value.encode($.Value.wrap(et.metadata),ft.uint32(114).fork()).ldelim(),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim();for(const bt of et.requestAnimation)a.LayerAnimation.encode(bt,ft.uint32(826).fork()).ldelim();return ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=An();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.type=bt.string();break;case 2:Mt.data=$.Struct.unwrap($.Struct.decode(bt,bt.uint32()));break;case 3:Mt.x=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 4:Mt.y=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 5:Mt.width=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 6:Mt.height=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 7:Mt.rotation=bt.double();break;case 8:Mt.opacity=bt.double();break;case 9:Mt.scale=bt.double();break;case 10:Mt.hidden=bt.bool();break;case 12:Mt.children=$.ListValue.unwrap($.ListValue.decode(bt,bt.uint32()));break;case 13:Mt.parentId=bt.string();break;case 14:Mt.metadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 103:Mt.requestAnimation.push(a.LayerAnimation.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{type:Gt(et.type)?String(et.type):void 0,data:Jn(et.data)?et.data:void 0,x:Gt(et==null?void 0:et.x)?et.x:void 0,y:Gt(et==null?void 0:et.y)?et.y:void 0,width:Gt(et==null?void 0:et.width)?et.width:void 0,height:Gt(et==null?void 0:et.height)?et.height:void 0,rotation:Gt(et.rotation)?Number(et.rotation):void 0,opacity:Gt(et.opacity)?Number(et.opacity):void 0,scale:Gt(et.scale)?Number(et.scale):void 0,hidden:Gt(et.hidden)?Boolean(et.hidden):void 0,children:Array.isArray(et.children)?[...et.children]:void 0,parentId:Gt(et.parentId)?String(et.parentId):void 0,metadata:Gt(et==null?void 0:et.metadata)?et.metadata:void 0,requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0,requestAnimation:Array.isArray(et==null?void 0:et.requestAnimation)?et.requestAnimation.map(ft=>a.LayerAnimation.fromJSON(ft)):[]}},toJSON(et){const ft={};return et.type!==void 0&&(ft.type=et.type),et.data!==void 0&&(ft.data=et.data),et.x!==void 0&&(ft.x=et.x),et.y!==void 0&&(ft.y=et.y),et.width!==void 0&&(ft.width=et.width),et.height!==void 0&&(ft.height=et.height),et.rotation!==void 0&&(ft.rotation=et.rotation),et.opacity!==void 0&&(ft.opacity=et.opacity),et.scale!==void 0&&(ft.scale=et.scale),et.hidden!==void 0&&(ft.hidden=et.hidden),et.children!==void 0&&(ft.children=et.children),et.parentId!==void 0&&(ft.parentId=et.parentId),et.metadata!==void 0&&(ft.metadata=et.metadata),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),et.requestAnimation?ft.requestAnimation=et.requestAnimation.map(bt=>bt?a.LayerAnimation.toJSON(bt):void 0):ft.requestAnimation=[],ft},fromPartial(et){var ft,bt,Bt,Mt,Jt,hn,bn,En,mn,vn,Rn,Cn,Pn,Nn,wn;const yn=An();return yn.type=(ft=et.type)!==null&&ft!==void 0?ft:void 0,yn.data=(bt=et.data)!==null&&bt!==void 0?bt:void 0,yn.x=(Bt=et.x)!==null&&Bt!==void 0?Bt:void 0,yn.y=(Mt=et.y)!==null&&Mt!==void 0?Mt:void 0,yn.width=(Jt=et.width)!==null&&Jt!==void 0?Jt:void 0,yn.height=(hn=et.height)!==null&&hn!==void 0?hn:void 0,yn.rotation=(bn=et.rotation)!==null&&bn!==void 0?bn:void 0,yn.opacity=(En=et.opacity)!==null&&En!==void 0?En:void 0,yn.scale=(mn=et.scale)!==null&&mn!==void 0?mn:void 0,yn.hidden=(vn=et.hidden)!==null&&vn!==void 0?vn:void 0,yn.children=(Rn=et.children)!==null&&Rn!==void 0?Rn:void 0,yn.parentId=(Cn=et.parentId)!==null&&Cn!==void 0?Cn:void 0,yn.metadata=(Pn=et.metadata)!==null&&Pn!==void 0?Pn:void 0,yn.requestMetadata=(Nn=et.requestMetadata)!==null&&Nn!==void 0?Nn:void 0,yn.requestAnimation=((wn=et.requestAnimation)===null||wn===void 0?void 0:wn.map(an=>a.LayerAnimation.fromPartial(an)))||[],yn}};function Mn(){return{id:"",type:void 0,data:void 0,x:void 0,y:void 0,width:void 0,height:void 0,rotation:void 0,opacity:void 0,scale:void 0,hidden:void 0,children:void 0,parentId:void 0,metadata:void 0,requestMetadata:void 0,requestAnimation:[]}}a.PartialLayerWithID={encode(et,ft=b.Writer.create()){et.id!==""&&ft.uint32(8002).string(et.id),et.type!==void 0&&ft.uint32(10).string(et.type),et.data!==void 0&&$.Struct.encode($.Struct.wrap(et.data),ft.uint32(18).fork()).ldelim(),et.x!==void 0&&$.Value.encode($.Value.wrap(et.x),ft.uint32(26).fork()).ldelim(),et.y!==void 0&&$.Value.encode($.Value.wrap(et.y),ft.uint32(34).fork()).ldelim(),et.width!==void 0&&$.Value.encode($.Value.wrap(et.width),ft.uint32(42).fork()).ldelim(),et.height!==void 0&&$.Value.encode($.Value.wrap(et.height),ft.uint32(50).fork()).ldelim(),et.rotation!==void 0&&ft.uint32(57).double(et.rotation),et.opacity!==void 0&&ft.uint32(65).double(et.opacity),et.scale!==void 0&&ft.uint32(73).double(et.scale),et.hidden!==void 0&&ft.uint32(80).bool(et.hidden),et.children!==void 0&&$.ListValue.encode($.ListValue.wrap(et.children),ft.uint32(98).fork()).ldelim(),et.parentId!==void 0&&ft.uint32(106).string(et.parentId),et.metadata!==void 0&&$.Value.encode($.Value.wrap(et.metadata),ft.uint32(114).fork()).ldelim(),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim();for(const bt of et.requestAnimation)a.LayerAnimation.encode(bt,ft.uint32(826).fork()).ldelim();return ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Mn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1e3:Mt.id=bt.string();break;case 1:Mt.type=bt.string();break;case 2:Mt.data=$.Struct.unwrap($.Struct.decode(bt,bt.uint32()));break;case 3:Mt.x=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 4:Mt.y=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 5:Mt.width=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 6:Mt.height=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 7:Mt.rotation=bt.double();break;case 8:Mt.opacity=bt.double();break;case 9:Mt.scale=bt.double();break;case 10:Mt.hidden=bt.bool();break;case 12:Mt.children=$.ListValue.unwrap($.ListValue.decode(bt,bt.uint32()));break;case 13:Mt.parentId=bt.string();break;case 14:Mt.metadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 103:Mt.requestAnimation.push(a.LayerAnimation.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{id:Gt(et.id)?String(et.id):"",type:Gt(et.type)?String(et.type):void 0,data:Jn(et.data)?et.data:void 0,x:Gt(et==null?void 0:et.x)?et.x:void 0,y:Gt(et==null?void 0:et.y)?et.y:void 0,width:Gt(et==null?void 0:et.width)?et.width:void 0,height:Gt(et==null?void 0:et.height)?et.height:void 0,rotation:Gt(et.rotation)?Number(et.rotation):void 0,opacity:Gt(et.opacity)?Number(et.opacity):void 0,scale:Gt(et.scale)?Number(et.scale):void 0,hidden:Gt(et.hidden)?Boolean(et.hidden):void 0,children:Array.isArray(et.children)?[...et.children]:void 0,parentId:Gt(et.parentId)?String(et.parentId):void 0,metadata:Gt(et==null?void 0:et.metadata)?et.metadata:void 0,requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0,requestAnimation:Array.isArray(et==null?void 0:et.requestAnimation)?et.requestAnimation.map(ft=>a.LayerAnimation.fromJSON(ft)):[]}},toJSON(et){const ft={};return et.id!==void 0&&(ft.id=et.id),et.type!==void 0&&(ft.type=et.type),et.data!==void 0&&(ft.data=et.data),et.x!==void 0&&(ft.x=et.x),et.y!==void 0&&(ft.y=et.y),et.width!==void 0&&(ft.width=et.width),et.height!==void 0&&(ft.height=et.height),et.rotation!==void 0&&(ft.rotation=et.rotation),et.opacity!==void 0&&(ft.opacity=et.opacity),et.scale!==void 0&&(ft.scale=et.scale),et.hidden!==void 0&&(ft.hidden=et.hidden),et.children!==void 0&&(ft.children=et.children),et.parentId!==void 0&&(ft.parentId=et.parentId),et.metadata!==void 0&&(ft.metadata=et.metadata),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),et.requestAnimation?ft.requestAnimation=et.requestAnimation.map(bt=>bt?a.LayerAnimation.toJSON(bt):void 0):ft.requestAnimation=[],ft},fromPartial(et){var ft,bt,Bt,Mt,Jt,hn,bn,En,mn,vn,Rn,Cn,Pn,Nn,wn,yn;const an=Mn();return an.id=(ft=et.id)!==null&&ft!==void 0?ft:"",an.type=(bt=et.type)!==null&&bt!==void 0?bt:void 0,an.data=(Bt=et.data)!==null&&Bt!==void 0?Bt:void 0,an.x=(Mt=et.x)!==null&&Mt!==void 0?Mt:void 0,an.y=(Jt=et.y)!==null&&Jt!==void 0?Jt:void 0,an.width=(hn=et.width)!==null&&hn!==void 0?hn:void 0,an.height=(bn=et.height)!==null&&bn!==void 0?bn:void 0,an.rotation=(En=et.rotation)!==null&&En!==void 0?En:void 0,an.opacity=(mn=et.opacity)!==null&&mn!==void 0?mn:void 0,an.scale=(vn=et.scale)!==null&&vn!==void 0?vn:void 0,an.hidden=(Rn=et.hidden)!==null&&Rn!==void 0?Rn:void 0,an.children=(Cn=et.children)!==null&&Cn!==void 0?Cn:void 0,an.parentId=(Pn=et.parentId)!==null&&Pn!==void 0?Pn:void 0,an.metadata=(Nn=et.metadata)!==null&&Nn!==void 0?Nn:void 0,an.requestMetadata=(wn=et.requestMetadata)!==null&&wn!==void 0?wn:void 0,an.requestAnimation=((yn=et.requestAnimation)===null||yn===void 0?void 0:yn.map(Fn=>a.LayerAnimation.fromPartial(Fn)))||[],an}};function Yt(){return{layoutId:""}}a.ListLayersRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Yt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):""}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),ft},fromPartial(et){var ft;const bt=Yt();return bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",bt}};function sn(){return{layers:[]}}a.ListLayersResponse={encode(et,ft=b.Writer.create()){for(const bt of et.layers)a.Layer.encode(bt,ft.uint32(10).fork()).ldelim();return ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=sn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layers.push(a.Layer.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layers:Array.isArray(et==null?void 0:et.layers)?et.layers.map(ft=>a.Layer.fromJSON(ft)):[]}},toJSON(et){const ft={};return et.layers?ft.layers=et.layers.map(bt=>bt?a.Layer.toJSON(bt):void 0):ft.layers=[],ft},fromPartial(et){var ft;const bt=sn();return bt.layers=((ft=et.layers)===null||ft===void 0?void 0:ft.map(Bt=>a.Layer.fromPartial(Bt)))||[],bt}};function nn(){return{layoutId:"",layer:void 0}}a.CreateLayerRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),et.layer!==void 0&&a.PartialLayer.encode(et.layer,ft.uint32(18).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=nn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 2:Mt.layer=a.PartialLayer.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",layer:Gt(et.layer)?a.PartialLayer.fromJSON(et.layer):void 0}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.layer!==void 0&&(ft.layer=et.layer?a.PartialLayer.toJSON(et.layer):void 0),ft},fromPartial(et){var ft;const bt=nn();return bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",bt.layer=et.layer!==void 0&&et.layer!==null?a.PartialLayer.fromPartial(et.layer):void 0,bt}};function pn(){return{layoutId:"",layerId:""}}a.GetLayerRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),et.layerId!==""&&ft.uint32(18).string(et.layerId),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=pn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 2:Mt.layerId=bt.string();break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",layerId:Gt(et.layerId)?String(et.layerId):""}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.layerId!==void 0&&(ft.layerId=et.layerId),ft},fromPartial(et){var ft,bt;const Bt=pn();return Bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",Bt.layerId=(bt=et.layerId)!==null&&bt!==void 0?bt:"",Bt}};function Zt(){return{layoutId:"",layerId:"",layer:void 0}}a.UpdateLayerRequest={encode(et,ft=b.Writer.create()){return et.layoutId!==""&&ft.uint32(10).string(et.layoutId),et.layerId!==""&&ft.uint32(18).string(et.layerId),et.layer!==void 0&&a.PartialLayer.encode(et.layer,ft.uint32(26).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Zt();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 2:Mt.layerId=bt.string();break;case 3:Mt.layer=a.PartialLayer.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",layerId:Gt(et.layerId)?String(et.layerId):"",layer:Gt(et.layer)?a.PartialLayer.fromJSON(et.layer):void 0}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.layerId!==void 0&&(ft.layerId=et.layerId),et.layer!==void 0&&(ft.layer=et.layer?a.PartialLayer.toJSON(et.layer):void 0),ft},fromPartial(et){var ft,bt;const Bt=Zt();return Bt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",Bt.layerId=(bt=et.layerId)!==null&&bt!==void 0?bt:"",Bt.layer=et.layer!==void 0&&et.layer!==null?a.PartialLayer.fromPartial(et.layer):void 0,Bt}};function Dn(){return{requestMetadata:void 0}}a.DeleteLayerPayload={encode(et,ft=b.Writer.create()){return et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Dn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft;const bt=Dn();return bt.requestMetadata=(ft=et.requestMetadata)!==null&&ft!==void 0?ft:void 0,bt}};function dn(){return{id:"",requestMetadata:void 0}}a.BatchDeleteLayerRequest={encode(et,ft=b.Writer.create()){return et.id!==""&&ft.uint32(10).string(et.id),et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=dn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.id=bt.string();break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{id:Gt(et.id)?String(et.id):"",requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0}},toJSON(et){const ft={};return et.id!==void 0&&(ft.id=et.id),et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),ft},fromPartial(et){var ft,bt;const Bt=dn();return Bt.id=(ft=et.id)!==null&&ft!==void 0?ft:"",Bt.requestMetadata=(bt=et.requestMetadata)!==null&&bt!==void 0?bt:void 0,Bt}};function Ln(){return{layoutId:"",layers:[],requestMetadata:void 0,requestAnimationMode:void 0}}a.BatchLayerRequest={encode(et,ft=b.Writer.create()){et.layoutId!==""&&ft.uint32(10).string(et.layoutId);for(const bt of et.layers)a.BatchLayerRequest_BatchItem.encode(bt,ft.uint32(18).fork()).ldelim();return et.requestMetadata!==void 0&&$.Value.encode($.Value.wrap(et.requestMetadata),ft.uint32(802).fork()).ldelim(),et.requestAnimationMode!==void 0&&ft.uint32(808).int32(yt(et.requestAnimationMode)),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Ln();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layoutId=bt.string();break;case 2:Mt.layers.push(a.BatchLayerRequest_BatchItem.decode(bt,bt.uint32()));break;case 100:Mt.requestMetadata=$.Value.unwrap($.Value.decode(bt,bt.uint32()));break;case 101:Mt.requestAnimationMode=lt(bt.int32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layoutId:Gt(et.layoutId)?String(et.layoutId):"",layers:Array.isArray(et==null?void 0:et.layers)?et.layers.map(ft=>a.BatchLayerRequest_BatchItem.fromJSON(ft)):[],requestMetadata:Gt(et==null?void 0:et.requestMetadata)?et.requestMetadata:void 0,requestAnimationMode:Gt(et.requestAnimationMode)?lt(et.requestAnimationMode):void 0}},toJSON(et){const ft={};return et.layoutId!==void 0&&(ft.layoutId=et.layoutId),et.layers?ft.layers=et.layers.map(bt=>bt?a.BatchLayerRequest_BatchItem.toJSON(bt):void 0):ft.layers=[],et.requestMetadata!==void 0&&(ft.requestMetadata=et.requestMetadata),et.requestAnimationMode!==void 0&&(ft.requestAnimationMode=et.requestAnimationMode!==void 0?Tt(et.requestAnimationMode):void 0),ft},fromPartial(et){var ft,bt,Bt,Mt;const Jt=Ln();return Jt.layoutId=(ft=et.layoutId)!==null&&ft!==void 0?ft:"",Jt.layers=((bt=et.layers)===null||bt===void 0?void 0:bt.map(hn=>a.BatchLayerRequest_BatchItem.fromPartial(hn)))||[],Jt.requestMetadata=(Bt=et.requestMetadata)!==null&&Bt!==void 0?Bt:void 0,Jt.requestAnimationMode=(Mt=et.requestAnimationMode)!==null&&Mt!==void 0?Mt:void 0,Jt}};function Sn(){return{create:void 0,update:void 0,delete:void 0}}a.BatchLayerRequest_BatchItem={encode(et,ft=b.Writer.create()){return et.create!==void 0&&a.PartialLayer.encode(et.create,ft.uint32(10).fork()).ldelim(),et.update!==void 0&&a.PartialLayerWithID.encode(et.update,ft.uint32(18).fork()).ldelim(),et.delete!==void 0&&a.BatchDeleteLayerRequest.encode(et.delete,ft.uint32(26).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Sn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.create=a.PartialLayer.decode(bt,bt.uint32());break;case 2:Mt.update=a.PartialLayerWithID.decode(bt,bt.uint32());break;case 3:Mt.delete=a.BatchDeleteLayerRequest.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{create:Gt(et.create)?a.PartialLayer.fromJSON(et.create):void 0,update:Gt(et.update)?a.PartialLayerWithID.fromJSON(et.update):void 0,delete:Gt(et.delete)?a.BatchDeleteLayerRequest.fromJSON(et.delete):void 0}},toJSON(et){const ft={};return et.create!==void 0&&(ft.create=et.create?a.PartialLayer.toJSON(et.create):void 0),et.update!==void 0&&(ft.update=et.update?a.PartialLayerWithID.toJSON(et.update):void 0),et.delete!==void 0&&(ft.delete=et.delete?a.BatchDeleteLayerRequest.toJSON(et.delete):void 0),ft},fromPartial(et){const ft=Sn();return ft.create=et.create!==void 0&&et.create!==null?a.PartialLayer.fromPartial(et.create):void 0,ft.update=et.update!==void 0&&et.update!==null?a.PartialLayerWithID.fromPartial(et.update):void 0,ft.delete=et.delete!==void 0&&et.delete!==null?a.BatchDeleteLayerRequest.fromPartial(et.delete):void 0,ft}};function $n(){return{create:void 0,update:void 0,delete:void 0}}a.LayoutEvent={encode(et,ft=b.Writer.create()){return et.create!==void 0&&a.Layout.encode(et.create,ft.uint32(10).fork()).ldelim(),et.update!==void 0&&a.Layout.encode(et.update,ft.uint32(18).fork()).ldelim(),et.delete!==void 0&&a.DeleteLayoutResponse.encode(et.delete,ft.uint32(26).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=$n();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.create=a.Layout.decode(bt,bt.uint32());break;case 2:Mt.update=a.Layout.decode(bt,bt.uint32());break;case 3:Mt.delete=a.DeleteLayoutResponse.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{create:Gt(et.create)?a.Layout.fromJSON(et.create):void 0,update:Gt(et.update)?a.Layout.fromJSON(et.update):void 0,delete:Gt(et.delete)?a.DeleteLayoutResponse.fromJSON(et.delete):void 0}},toJSON(et){const ft={};return et.create!==void 0&&(ft.create=et.create?a.Layout.toJSON(et.create):void 0),et.update!==void 0&&(ft.update=et.update?a.Layout.toJSON(et.update):void 0),et.delete!==void 0&&(ft.delete=et.delete?a.DeleteLayoutResponse.toJSON(et.delete):void 0),ft},fromPartial(et){const ft=$n();return ft.create=et.create!==void 0&&et.create!==null?a.Layout.fromPartial(et.create):void 0,ft.update=et.update!==void 0&&et.update!==null?a.Layout.fromPartial(et.update):void 0,ft.delete=et.delete!==void 0&&et.delete!==null?a.DeleteLayoutResponse.fromPartial(et.delete):void 0,ft}};function Vn(){return{create:void 0,update:void 0,delete:void 0,batch:void 0}}a.LayerEvent={encode(et,ft=b.Writer.create()){return et.create!==void 0&&a.Layer.encode(et.create,ft.uint32(10).fork()).ldelim(),et.update!==void 0&&a.Layer.encode(et.update,ft.uint32(18).fork()).ldelim(),et.delete!==void 0&&a.DeleteLayerResponse.encode(et.delete,ft.uint32(26).fork()).ldelim(),et.batch!==void 0&&a.BatchLayerResponse.encode(et.batch,ft.uint32(34).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Vn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.create=a.Layer.decode(bt,bt.uint32());break;case 2:Mt.update=a.Layer.decode(bt,bt.uint32());break;case 3:Mt.delete=a.DeleteLayerResponse.decode(bt,bt.uint32());break;case 4:Mt.batch=a.BatchLayerResponse.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{create:Gt(et.create)?a.Layer.fromJSON(et.create):void 0,update:Gt(et.update)?a.Layer.fromJSON(et.update):void 0,delete:Gt(et.delete)?a.DeleteLayerResponse.fromJSON(et.delete):void 0,batch:Gt(et.batch)?a.BatchLayerResponse.fromJSON(et.batch):void 0}},toJSON(et){const ft={};return et.create!==void 0&&(ft.create=et.create?a.Layer.toJSON(et.create):void 0),et.update!==void 0&&(ft.update=et.update?a.Layer.toJSON(et.update):void 0),et.delete!==void 0&&(ft.delete=et.delete?a.DeleteLayerResponse.toJSON(et.delete):void 0),et.batch!==void 0&&(ft.batch=et.batch?a.BatchLayerResponse.toJSON(et.batch):void 0),ft},fromPartial(et){const ft=Vn();return ft.create=et.create!==void 0&&et.create!==null?a.Layer.fromPartial(et.create):void 0,ft.update=et.update!==void 0&&et.update!==null?a.Layer.fromPartial(et.update):void 0,ft.delete=et.delete!==void 0&&et.delete!==null?a.DeleteLayerResponse.fromPartial(et.delete):void 0,ft.batch=et.batch!==void 0&&et.batch!==null?a.BatchLayerResponse.fromPartial(et.batch):void 0,ft}};function Bn(){return{layout:void 0,layer:void 0}}a.Event={encode(et,ft=b.Writer.create()){return et.layout!==void 0&&a.LayoutEvent.encode(et.layout,ft.uint32(10).fork()).ldelim(),et.layer!==void 0&&a.LayerEvent.encode(et.layer,ft.uint32(18).fork()).ldelim(),ft},decode(et,ft){const bt=et instanceof b.Reader?et:new b.Reader(et);let Bt=ft===void 0?bt.len:bt.pos+ft;const Mt=Bn();for(;bt.pos<Bt;){const Jt=bt.uint32();switch(Jt>>>3){case 1:Mt.layout=a.LayoutEvent.decode(bt,bt.uint32());break;case 2:Mt.layer=a.LayerEvent.decode(bt,bt.uint32());break;default:bt.skipType(Jt&7);break}}return Mt},fromJSON(et){return{layout:Gt(et.layout)?a.LayoutEvent.fromJSON(et.layout):void 0,layer:Gt(et.layer)?a.LayerEvent.fromJSON(et.layer):void 0}},toJSON(et){const ft={};return et.layout!==void 0&&(ft.layout=et.layout?a.LayoutEvent.toJSON(et.layout):void 0),et.layer!==void 0&&(ft.layer=et.layer?a.LayerEvent.toJSON(et.layer):void 0),ft},fromPartial(et){const ft=Bn();return ft.layout=et.layout!==void 0&&et.layout!==null?a.LayoutEvent.fromPartial(et.layout):void 0,ft.layer=et.layer!==void 0&&et.layer!==null?a.LayerEvent.fromPartial(et.layer):void 0,ft}};class gn{constructor(ft){this.rpc=ft,this.ListLayers=this.ListLayers.bind(this),this.CreateLayer=this.CreateLayer.bind(this),this.GetLayer=this.GetLayer.bind(this),this.UpdateLayer=this.UpdateLayer.bind(this),this.DeleteLayer=this.DeleteLayer.bind(this),this.Batch=this.Batch.bind(this)}ListLayers(ft){const bt=a.ListLayersRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayerService","ListLayers",bt).then(Mt=>a.ListLayersResponse.decode(new b.Reader(Mt)))}CreateLayer(ft){const bt=a.CreateLayerRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayerService","CreateLayer",bt).then(Mt=>a.Layer.decode(new b.Reader(Mt)))}GetLayer(ft){const bt=a.GetLayerRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayerService","GetLayer",bt).then(Mt=>a.Layer.decode(new b.Reader(Mt)))}UpdateLayer(ft){const bt=a.UpdateLayerRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayerService","UpdateLayer",bt).then(Mt=>a.Layer.decode(new b.Reader(Mt)))}DeleteLayer(ft){const bt=a.DeleteLayerRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayerService","DeleteLayer",bt).then(Mt=>a.DeleteLayerResponse.decode(new b.Reader(Mt)))}Batch(ft){const bt=a.BatchLayerRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayerService","Batch",bt).then(Mt=>a.BatchLayerResponse.decode(new b.Reader(Mt)))}}a.LayerServiceClientImpl=gn,a.LayerServiceDefinition={name:"LayerService",fullName:"apis.layout.v2.LayerService",methods:{listLayers:{name:"ListLayers",requestType:a.ListLayersRequest,requestStream:!1,responseType:a.ListLayersResponse,responseStream:!1,options:{}},createLayer:{name:"CreateLayer",requestType:a.CreateLayerRequest,requestStream:!1,responseType:a.Layer,responseStream:!1,options:{}},getLayer:{name:"GetLayer",requestType:a.GetLayerRequest,requestStream:!1,responseType:a.Layer,responseStream:!1,options:{}},updateLayer:{name:"UpdateLayer",requestType:a.UpdateLayerRequest,requestStream:!1,responseType:a.Layer,responseStream:!1,options:{}},deleteLayer:{name:"DeleteLayer",requestType:a.DeleteLayerRequest,requestStream:!1,responseType:a.DeleteLayerResponse,responseStream:!1,options:{}},batch:{name:"Batch",requestType:a.BatchLayerRequest,requestStream:!1,responseType:a.BatchLayerResponse,responseStream:!1,options:{}}}};class Gn{constructor(ft){this.rpc=ft,this.ListLayouts=this.ListLayouts.bind(this),this.CreateLayout=this.CreateLayout.bind(this),this.GetLayout=this.GetLayout.bind(this),this.UpdateLayout=this.UpdateLayout.bind(this),this.DeleteLayout=this.DeleteLayout.bind(this)}ListLayouts(ft){const bt=a.ListLayoutsRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayoutService","ListLayouts",bt).then(Mt=>a.ListLayoutsResponse.decode(new b.Reader(Mt)))}CreateLayout(ft){const bt=a.CreateLayoutRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayoutService","CreateLayout",bt).then(Mt=>a.Layout.decode(new b.Reader(Mt)))}GetLayout(ft){const bt=a.GetLayoutRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayoutService","GetLayout",bt).then(Mt=>a.Layout.decode(new b.Reader(Mt)))}UpdateLayout(ft){const bt=a.UpdateLayoutRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayoutService","UpdateLayout",bt).then(Mt=>a.Layout.decode(new b.Reader(Mt)))}DeleteLayout(ft){const bt=a.DeleteLayoutRequest.encode(ft).finish();return this.rpc.request("apis.layout.v2.LayoutService","DeleteLayout",bt).then(Mt=>a.DeleteLayoutResponse.decode(new b.Reader(Mt)))}}a.LayoutServiceClientImpl=Gn,a.LayoutServiceDefinition={name:"LayoutService",fullName:"apis.layout.v2.LayoutService",methods:{listLayouts:{name:"ListLayouts",requestType:a.ListLayoutsRequest,requestStream:!1,responseType:a.ListLayoutsResponse,responseStream:!1,options:{}},createLayout:{name:"CreateLayout",requestType:a.CreateLayoutRequest,requestStream:!1,responseType:a.Layout,responseStream:!1,options:{}},getLayout:{name:"GetLayout",requestType:a.GetLayoutRequest,requestStream:!1,responseType:a.Layout,responseStream:!1,options:{}},updateLayout:{name:"UpdateLayout",requestType:a.UpdateLayoutRequest,requestStream:!1,responseType:a.Layout,responseStream:!1,options:{}},deleteLayout:{name:"DeleteLayout",requestType:a.DeleteLayoutRequest,requestStream:!1,responseType:a.DeleteLayoutResponse,responseStream:!1,options:{}}}};var Un=(()=>{if(typeof Un!="undefined")return Un;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();b.util.Long!==_.default&&(b.util.Long=_.default,b.configure());function Jn(et){return typeof et=="object"&&et!==null}function Gt(et){return et!=null}})(api$3);(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,b,$){$===void 0&&($=b),Object.defineProperty(g,$,{enumerable:!0,get:function(){return _[b]}})}:function(g,_,b,$){$===void 0&&($=b),g[$]=_[b]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var b in g)b!=="default"&&!_.hasOwnProperty(b)&&s(_,g,b)};Object.defineProperty(a,"__esModule",{value:!0}),a.layoutApiEventMap=void 0;const c=api$3;d(api$3,a),a.layoutApiEventMap={[c.EventType.EVENT_TYPE_LAYOUT]:"layout",[c.EventType.EVENT_TYPE_LAYER]:"layer",[c.EventType.EVENT_TYPE_UNSPECIFIED]:"unspecified"}})(dist$3);var api$2={},browser$2=!1,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1),logger$1={};class EnhancedMap extends Map{computeIfAbsent(s,d){if(this.has(s))return this.get(s);const c=d(s);return this.set(s,c),c}computeIfPresent(s,d){const c=this.get(s);if(c===void 0)return;const g=d(s,c);return g!==void 0?this.set(s,g):this.delete(s),g}compute(s,d){const c=this.get(s),g=d(s,c);return g?this.set(s,g):this.delete(s),g}}var InternalLogLevel;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error"})(InternalLogLevel||(InternalLogLevel={}));function getInternalLogger(a){return provider.getLogger(a)}const INTERNAL_LOGGING_SETTINGS={setInternalLogLevel:a=>provider.changeLogLevel(a),setOutput:a=>provider.changeOutput(a),reset:()=>provider.reset()};class InternalLoggerImpl{constructor(s,d,c){this._name=s,this._level=d,this._fnOutput=c}trace(s){this.log(InternalLogLevel.Trace,s)}debug(s){this.log(InternalLogLevel.Debug,s)}error(s,d){this.log(InternalLogLevel.Error,s,d)}info(s){this.log(InternalLogLevel.Info,s)}warn(s,d){this.log(InternalLogLevel.Warn,s,d)}setLevel(s){this._level=s}setOutput(s){this._fnOutput=s}log(s,d,c){this._level>s||this._fnOutput(`${InternalLogLevel[this._level].toString()} <INTERNAL LOGGER> ${this._name} ${d()}${c?`
`+c.stack:""}`)}}class InternalProviderImpl{constructor(){this._loggers=new EnhancedMap,this._logLevel=InternalLogLevel.Error,this._fnOutput=InternalProviderImpl.logConsole}getLogger(s){return this._loggers.computeIfAbsent(s,d=>new InternalLoggerImpl(d,this._logLevel,this._fnOutput))}changeLogLevel(s){this._logLevel=s,this._loggers.forEach(d=>d.setLevel(s))}changeOutput(s){this._fnOutput=s,this._loggers.forEach(d=>d.setOutput(this._fnOutput))}reset(){this.changeLogLevel(InternalLogLevel.Error),this._fnOutput=InternalProviderImpl.logConsole,this._loggers.forEach(s=>s.setOutput(this._fnOutput))}static logConsole(s){console&&console.log&&console.log(s)}}const provider=new InternalProviderImpl;var InternalLogger=Object.freeze({__proto__:null,get InternalLogLevel(){return InternalLogLevel},getInternalLogger,INTERNAL_LOGGING_SETTINGS}),LogLevel;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal"})(LogLevel||(LogLevel={}));(function(a){function s(d){switch(d.toLowerCase()){case"trace":return a.Trace;case"debug":return a.Debug;case"info":return a.Info;case"warn":return a.Warn;case"error":return a.Error;case"fatal":return a.Fatal;default:return}}a.toLogLevel=s})(LogLevel||(LogLevel={}));class CoreLoggerImpl{constructor(s){this._runtime=s}get id(){return this._runtime.id}get logLevel(){return this._runtime.level}get runtimeSettings(){return Object.assign({},this._runtime)}set runtimeSettings(s){this._runtime=s}trace(s,...d){this.logMessage(LogLevel.Trace,s,d)}debug(s,...d){this.logMessage(LogLevel.Debug,s,d)}info(s,...d){this.logMessage(LogLevel.Info,s,d)}warn(s,...d){this.logMessage(LogLevel.Warn,s,d)}error(s,...d){this.logMessage(LogLevel.Error,s,d)}fatal(s,...d){this.logMessage(LogLevel.Fatal,s,d)}logMessage(s,d,c){if(this._runtime.level>s)return;const g=Date.now(),_=typeof d=="string"?d:d(),b=CoreLoggerImpl.getErrorAndArgs(c);switch(this._runtime.channel.type){case"RawLogChannel":this._runtime.channel.write({message:_,exception:b.error,args:b.args,timeInMillis:g,level:s,logNames:this._runtime.name},this._runtime.argumentFormatter);return;case"LogChannel":this._runtime.channel.write(this.createLogMessage(_,s,b,g));break}}formatArgValue(s){try{return this._runtime.argumentFormatter(s)}catch{return`>>ARG CONVERT FAILED: '${s!==void 0?s.toString():"undefined"}'<<`}}createLogMessage(s,d,c,g){let _;const b=c.error,$=c.args;b&&(_=`${b.name}: ${b.message}`,b.stack&&(_+=`@
${b.stack}`));const tt=this._runtime.dateFormatter(g);let nt=LogLevel[d].toUpperCase();nt.length<5&&(nt+=" ");const ot=typeof this._runtime.name=="string"?this._runtime.name:this._runtime.name.join(", "),dt=typeof $!="undefined"&&$.length>0?" ["+$.map(lt=>this.formatArgValue(lt)).join(", ")+"]":"";return{message:tt+" "+nt+" ["+ot+"] "+s+dt,error:_}}static getErrorAndArgs(s){if(s.length===0)return{};let d,c;const g=s[0];if(g instanceof Error)return d=g,c=s.length>1?s.slice(1):void 0,{error:d,args:c};if(typeof g=="function"){const _=g();return _ instanceof Error?(d=_,c=s.length>1?s.slice(1):void 0,{error:d,args:c}):s.length===1?Array.isArray(_)?{args:_.length>0?_:void 0}:{args:_}:Array.isArray(_)?{args:[..._,...s.slice(1)]}:{args:[_,...s.slice(1)]}}return{args:s}}}function padStart(a,s,d=" "){return padInternal(a,s,"start",d)}function padEnd(a,s,d=" "){return padInternal(a,s,"end",d)}function maxLengthStringValueInArray(a){return a.map(s=>s.length).reduce((s,d)=>d>s?d:s,0)}function padInternal(a,s,d,c=" "){if(s<=a.length)return a;if(c.length>1)throw new Error(`Fill char must be one char exactly, it is: ${c.length}`);const g=s-a.length;let _="";for(let b=0;b<g;b++)_+=c;return d==="start"?_+a:a+_}function formatArgument(a){return a===void 0?"undefined":JSON.stringify(a)}function formatDate(a){const s=new Date(a),d=s.getFullYear(),c=padStart((s.getMonth()+1).toString(),2,"0"),g=padStart(s.getDate().toString(),2,"0"),_=padStart(s.getHours().toString(),2,"0"),b=padStart(s.getMinutes().toString(),2,"0"),$=padStart(s.getSeconds().toString(),2,"0"),tt=padStart(s.getMilliseconds().toString(),2,"0");return`${d}-${c}-${g} ${_}:${b}:${$},${tt}`}class ConsoleLogChannel{constructor(){this.type="LogChannel"}write(s){console&&console.log&&console.log(s.message+(s.error?`
${s.error}`:""))}}var DefaultChannels;(function(a){function s(){return new ConsoleLogChannel}a.createConsoleChannel=s})(DefaultChannels||(DefaultChannels={}));class LogProviderImpl{constructor(s,d){this._log=getInternalLogger("core.impl.LogProviderImpl"),this._name=s,this._settings=d,this._loggers=new EnhancedMap,this._idToKeyMap=new EnhancedMap,this._globalRuntimeSettings={level:d.level,channel:d.channel},this._nextLoggerId=1,this._log.trace(()=>`Created LogProviderImpl with settings: ${JSON.stringify(this._settings)}`)}get runtimeSettings(){return Object.assign(Object.assign({},this._settings),{level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel})}getLogger(s){return this.getOrCreateLogger(s)}updateLoggerRuntime(s,d){this._log.debug(()=>`Updating logger ${s.id} runtime settings using: '${JSON.stringify(d)}'`);const c=this._idToKeyMap.get(s.id);return c===void 0?(this._log.warn(()=>`Cannot update logger with id: ${s.id}, it was not found.`),!1):(this._loggers.computeIfPresent(c,(g,_)=>(_.runtimeSettings=LogProviderImpl.mergeRuntimeSettingsIntoLogRuntime(_.runtimeSettings,d),_)),!0)}updateRuntimeSettings(s){this._log.debug(()=>`Updating global runtime settings and updating existing loggers runtime settings using: '${JSON.stringify(s)}'`),this._globalRuntimeSettings={level:s.level!==void 0?s.level:this._globalRuntimeSettings.level,channel:s.channel!==void 0?s.channel:this._globalRuntimeSettings.channel},this._loggers.forEach(d=>d.runtimeSettings=LogProviderImpl.mergeRuntimeSettingsIntoLogRuntime(d.runtimeSettings,s))}clear(){this._loggers.clear(),this._idToKeyMap.clear(),this._globalRuntimeSettings=Object.assign({},this._settings),this._nextLoggerId=1}getOrCreateLogger(s){const d=LogProviderImpl.createKey(s),c=this._loggers.computeIfAbsent(d,()=>{const g={level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel,id:this.nextLoggerId(),name:s,argumentFormatter:this._settings.argumentFormatter,dateFormatter:this._settings.dateFormatter};return new CoreLoggerImpl(g)});return this._idToKeyMap.computeIfAbsent(c.id,()=>d),c}nextLoggerId(){const s=this._name+"_"+this._nextLoggerId;return this._nextLoggerId++,s}static mergeRuntimeSettingsIntoLogRuntime(s,d){return Object.assign(Object.assign({},s),{level:d.level!==void 0?d.level:s.level,channel:d.channel!==void 0?d.channel:s.channel})}static createKey(s){return typeof s=="string"?s:s.join(",")}}function createLogProvider(a,s){return new LogProviderImpl(a,s)}var index=Object.freeze({__proto__:null,EnhancedMap,padStart,padEnd,maxLengthStringValueInArray});class CategoryImpl{constructor(s,d,c,g){this._children=[],this._logger=s,this._name=d,this._parent=c,this._fnGetOrCreateChildCategory=g}get name(){return this._name}get parent(){return this._parent}get path(){const s=[];let d=this;for(;d!==void 0;)s.push(d.name),d=d.parent;return s.reverse()}get children(){return[...this._children]}addChild(s){if(s.parent!==this)throw new Error(`Cannot add child '${s.name}', expected parent '${this._name} but got ${s.parent?s.parent.name:"undefined"}'`);this._children.push(s)}getChildCategory(s){const d=this._children.find(c=>c.name===s);return d!==void 0?d:this._fnGetOrCreateChildCategory(s,this)}get id(){return this._logger.id}get logLevel(){return this._logger.logLevel}get runtimeSettings(){return this._logger.runtimeSettings}get logger(){return this._logger}trace(s,...d){this._logger.trace(s,...d)}debug(s,...d){this._logger.debug(s,...d)}info(s,...d){this._logger.info(s,...d)}warn(s,...d){this._logger.warn(s,...d)}error(s,...d){this._logger.error(s,...d)}fatal(s,...d){this._logger.fatal(s,...d)}}const CATEGORY_PATH_SEPARATOR="#";class CategoryProviderImpl{constructor(s,d){this._name=s,this._initialConfig=d,this._categoryStorage=new CategoryStorage(s,d)}get name(){return this._name}get config(){return this._initialConfig}get runtimeConfig(){return this._categoryStorage.getCurrentRuntimeConfig()}getCategory(s,d){return this._categoryStorage.getOrCreateCategory(s,d)}updateRuntimeSettingsCategory(s,d){this._categoryStorage.updateRuntimeSettingsCategory(s,d)}updateRuntimeSettings(s){this._categoryStorage.updateRuntimeSettings(s)}getRegisteredCategories(){return this._categoryStorage.getRegisteredCategories()}getCategoryByPath(s){return this._categoryStorage.getCategoryByPath(s)}}class CategoryStorage{constructor(s,d){this._categoriesById=new Map,this._categoriesByPath=new Map,this._categoryProviderName=s,this._allowSameCategoryName=d.allowSameCategoryName,this._logProvider=createLogProvider(s,Object.assign({},d)),this.getOrCreateCategory=this.getOrCreateCategory.bind(this)}getOrCreateCategory(s,d){if(s.indexOf(CATEGORY_PATH_SEPARATOR)!==-1)throw new Error(`Cannot create category '${s}', name cannot contain a '${CATEGORY_PATH_SEPARATOR}'.`);const c=d!==void 0?this.getParentCategory(d):void 0;return c===void 0?this.getOrCreateRootCategory(s):this.getOrCreateChildCategory(s,c)}updateRuntimeSettingsCategory(s,d){if(!s.id.startsWith(this._categoryProviderName))throw new Error(`Category '${s.name}' with LogId '${s.id}' is from a different CategoryProvider, cannot mix categories between providers.`);const c=this._categoriesById.get(s.id);c!==void 0&&(this._logProvider.updateLoggerRuntime(c.logger,{level:d.level}),!(d.disableRecursion!==void 0&&d.disableRecursion)&&c.children.forEach(g=>this.updateRuntimeSettingsCategory(g,d)))}updateRuntimeSettings(s){this._logProvider.updateRuntimeSettings(s)}getCurrentRuntimeConfig(){return Object.assign(Object.assign({},this._logProvider.runtimeSettings),{allowSameCategoryName:this._allowSameCategoryName})}getRegisteredCategories(){return[...this._categoriesById.values()]}getCategoryByPath(s){return this._categoriesByPath.get(s)}getParentCategory(s){let d;if(CategoryStorage.isLogId(s)){if(d=this._categoriesById.get(s),d===void 0)throw new Error(`Parent category was not found by LogId '${s}'. Are you sure you passed in the correct argument?`)}else if(d=this._categoriesById.get(s.id),d===void 0)throw new Error(`Parent category '${s.name}' was not found by it's LogId '${s.id}'. Are you sure you passed in the correct parent category?`);return d}getOrCreateRootCategory(s){const d=this._categoriesByPath.get(s);if(d){if(!this._allowSameCategoryName)throw new Error(`Category '${s} already exists, config flag allowSameCategoryName=false - therefore matching version 1 behavior (hence this Error)`);return d}const c=this._logProvider.getLogger(s),g=new CategoryImpl(c,s,void 0,this.getOrCreateCategory);return this._categoriesById.set(g.id,g),this._categoriesByPath.set(s,g),g}getOrCreateChildCategory(s,d){if(!d.id.startsWith(this._categoryProviderName))throw new Error(`Parent category '${d.name}' with LogId '${d.id}' is from a different CategoryProvider, cannot mix categories between providers.`);const c=[...d.path,s].join(CATEGORY_PATH_SEPARATOR),g=this._categoriesByPath.get(c);if(g){if(!this._allowSameCategoryName)throw new Error(`Child category '${s} already exists for parent category ${d.name}, config flag allowSameCategoryName=false - therefore matching version 1 behavior (hence this Error)`);return g}const _=this._logProvider.getLogger(c);this._logProvider.updateLoggerRuntime(_,{level:d.logger.runtimeSettings.level,channel:d.logger.runtimeSettings.channel});const b=new CategoryImpl(_,s,d,this.getOrCreateCategory);return this._categoriesById.set(b.id,b),this._categoriesByPath.set(b.path.join(CATEGORY_PATH_SEPARATOR),b),d.addChild(b),b}static isLogId(s){return typeof s=="string"}}class CategoryControlProviderImpl{constructor(s,d){this._provider=s,this._messageChannel=d,this._originalLogLevels=CategoryControlProviderImpl.loadCurrentGroupLogLevels(s)}get name(){return this._provider.name}showSettings(){let s=`Available categories (CategoryProvider '${this._provider.name}'):
`;const d=this.createCategoryInfoHierarchy(),c=d.size.toString().length,g=index.maxLengthStringValueInArray([...d.values()].map(b=>b.category.name+" ".repeat(b.depth))),_=[...d.values()].map((b,$)=>CategoryControlProviderImpl.createSettingLineCategory(b,$,c,g));s+=_.join(`
`)+(_.length>0?`
`:""),this._messageChannel(s)}help(){const s=`You can use the following commands (CategoryProvider ${this._provider.name}):
  showSettings()
    Shows the current configuration settings.
  update(level: CategoryControlProviderLogLevel, categoryId?: number | string, noRecurse?: boolean)
    Change the log level for a category (by default recursively).
      @param level      The log level to set - must be one of 'trace', 'debug', 'info', 'warn', 'error' or 'fatal'
      @param categoryId The category id or path of a category (e.g. root#child1) to update. Use showSettings() for id and/or name.
                        When omitted, it applies the level to all categories recursively.
  reset()
    Resets the log levels of the config groups back to when this control provider was created.
  save()
    Saves the current log levels for all categories of this provider. Use restore() to load last saved state.
  restore()
    Restore stored saved state, if any. Log levels will be set according to the saved state.
  help()
    Shows this help.
`;this._messageChannel(s)}reset(){const s=new Map(this._provider.getRegisteredCategories().map(d=>[d.id,d]));this._originalLogLevels.forEach((d,c)=>{const g=s.get(c);g!==void 0&&this._provider.updateRuntimeSettingsCategory(g,{level:d,disableRecursion:!0}),s.delete(c)}),s.forEach(d=>{d.parent!==void 0&&this._provider.updateRuntimeSettingsCategory(d,{level:d.parent.logLevel,disableRecursion:!0})}),this._originalLogLevels=CategoryControlProviderImpl.loadCurrentGroupLogLevels(this._provider),this._messageChannel("Successfully reset log levels back to original state (from when this CategoryControlProvider was created).")}save(){if(!localStorage){this._messageChannel("Cannot save state, localStorage is not available.");return}const s=this._provider.getRegisteredCategories().filter(c=>c.parent===void 0).map(c=>CategoryControlProviderImpl.createCategorySaveData(c)),d={name:this._provider.name,rootCategories:s};localStorage.setItem(this.createKey(),JSON.stringify(d)),this._messageChannel(`Successfully saved state for CategoryControlProvider '${this._provider.name}'.`)}restore(s){const d=s!==void 0?s:!0;if(!localStorage){d&&this._messageChannel(`Will not attempt to restore state for CategoryControlProvider '${this._provider.name}', localStorage is not available.`);return}const c=this.createKey(),g=localStorage.getItem(c);if(g===null){d&&this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', no data available.`);return}try{const _=JSON.parse(g);if(this._provider.name!==_.name){d&&this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', data is not for provider - found name '${_.name}'.`);return}this.restoreBySaveData(_,d),this._messageChannel(`Successfully restored state for CategoryControlProvider '${this._provider.name}'`),this._originalLogLevels=CategoryControlProviderImpl.loadCurrentGroupLogLevels(this._provider)}catch{localStorage.removeItem(c),this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', data is not valid. Invalid data removed from localStorage.`)}}update(s,d,c){typeof d=="undefined"?this.updateAll(s):typeof d=="number"?this.updateByIndex(s,d,c!==void 0?c:!1):this.updateByPath(s,d,c!==void 0?c:!1)}updateAll(s){const d=LogLevel.toLogLevel(s);this._provider.getRegisteredCategories().filter(c=>c.parent===void 0).forEach(c=>this._provider.updateRuntimeSettingsCategory(c,{level:d})),this._messageChannel(`Updated all categories to use log level '${s.toLowerCase()}'`)}updateByPath(s,d,c){const g=this._provider.getCategoryByPath(d);if(g===void 0){this._messageChannel(`Failed to find a provider by path '${d}', please make sure to separate the parts by a ${CATEGORY_PATH_SEPARATOR}.`);return}this._provider.updateRuntimeSettingsCategory(g,{level:LogLevel.toLogLevel(s),disableRecursion:c}),this._messageChannel(`Successfully updated category '${g.name}' with path '${d}' to log level '${s.toLowerCase()}'${c?"":" and recursively applied to children (if any)"}.`)}updateByIndex(s,d,c){if(d<0){this._messageChannel(`Cannot update category by index '${d}', it is negative.`);return}const g=this.createCategoryInfoHierarchy();if(d>=g.size){this._messageChannel(`Cannot update category by index '${d}', it is outside of the range of available categories, use showSettings() to see the indices.`);return}const _=[...g.values()][d].category;this._provider.updateRuntimeSettingsCategory(_,{level:LogLevel.toLogLevel(s),disableRecursion:c}),this._messageChannel(`Successfully updated category '${_.name}' by index '${d}' to log level '${s.toLowerCase()}'${c?"":" and recursively applied to children (if any)"}.`)}restoreBySaveData(s,d){const c=(g,_)=>{const b=_.length>0?_+CATEGORY_PATH_SEPARATOR+g.name:g.name,$=this._provider.getCategoryByPath(b);if($!==void 0){const tt=LogLevel.toLogLevel(g.level);tt!==void 0?this._provider.updateRuntimeSettingsCategory($,{level:tt,disableRecursion:!0}):d&&this._messageChannel(`CategoryControlProvider '${this._provider.name}' - cannot restore log level for category path '${b}', log level is invalid.`);for(const nt of g.children)c(nt,b)}else d&&this._messageChannel(`CategoryControlProvider '${this._provider.name}' - failed to find a Category by path '${b}', will not restore category (and children)`)};for(const g of s.rootCategories)c(g,"")}createKey(){return`CategoryProvider-${this._provider.name}`}createCategoryInfoHierarchy(){const s=new Map;return this._provider.getRegisteredCategories().filter(c=>c.parent===void 0).forEach(c=>CategoryControlProviderImpl.addCategoryInfoHierarchy(c,0,s)),s}static createCategorySaveData(s){return{name:s.name,level:LogLevel[s.logLevel],children:s.children.map(d=>this.createCategorySaveData(d))}}static loadCurrentGroupLogLevels(s){return new Map(s.getRegisteredCategories().map(d=>[d.id,d.logLevel]))}static createSettingLineCategory(s,d,c,g){const b=" ".repeat(s.depth)+s.category.name;return`  [${index.padStart(d.toString(),c)}, ${index.padEnd(b,g)} (level=${index.padEnd(s.logLevel,5)})]`}static addCategoryInfoHierarchy(s,d,c){c.set(s.id,{category:s,logLevel:LogLevel[s.logLevel],depth:d}),s.children.forEach(g=>this.addCategoryInfoHierarchy(g,d+1,c))}}function categoryConfigDebug(a){return`CategoryConfig=level: ${LogLevel[a.level].toString()}, allowSameCategoryName=${a.allowSameCategoryName}`}class CategoryProviderService{constructor(){this._log=InternalLogger.getInternalLogger("category.impl.CategoryProviderService"),this._providers=new index.EnhancedMap}createLogProvider(s,d){const c=this._providers.compute(s,(g,_)=>{if(_)throw new Error(`CategoryProvider with name '${s}' already exists, cannot create another.`);const b=mergeWithDefaults(d);return this._log.debug(()=>`Creating new CategoryProvider with name '${s}', using config settings '${categoryConfigDebug(b)}'.`),new CategoryProviderImpl(s,b)});if(c)return c;throw new Error("No CategoryProvider? This is a bug.")}getCategoryControl(s){const d=s||(c=>{if(console&&console.log)console.log(c);else throw new Error("Cannot use console (it is not present), please specify a custom function to write to.")});return{help:()=>d(CategoryProviderService.help()),showSettings:()=>d(this.showSettings()),getProvider:c=>this.getCategoryControlProviderByIdOrName(c,d)}}clear(){this._providers.clear()}showSettings(){let s=`Available CategoryProviders:
`;const d=this._providers.size.toString().length,c=index.maxLengthStringValueInArray([...this._providers.keys()]),g=[...this._providers.entries()].map((_,b)=>{const $=_[0];return`  [${index.padStart(b.toString(),d)}, ${index.padEnd($,c)}]`});return s+=g.join(`
`)+(g.length>0?`
`:""),s}getCategoryControlProviderByIdOrName(s,d){if(typeof s=="string"){const g=this._providers.get(s);if(g===void 0)throw new Error(`Provider with name '${s}' does not exist.`);return new CategoryControlProviderImpl(g,d)}const c=[...this._providers.values()];if(s<0||s>=c.length)throw new Error(`Provider with index '${s}' does not exist (outside of range).`);return new CategoryControlProviderImpl(c[s],d)}static help(){return`You can use the following commands:
  showSettings()
    Shows the current configuration settings.
  getProvider: (id: number | string): CategoryControlProvider
    Get access to a CategoryControlProvider to change log levels.
      @param id The id (use showSettings to see) or name of the provider
  help()
    Shows this help.
`}}const CATEGORY_PROVIDER_SERVICE=new CategoryProviderService,CATEGORY_LOG_CONTROL=a=>CATEGORY_PROVIDER_SERVICE.getCategoryControl(a);function mergeWithDefaults(a){const s={channel:DefaultChannels.createConsoleChannel(),allowSameCategoryName:!0,level:LogLevel.Error,dateFormatter:formatDate,argumentFormatter:formatArgument};return a?{channel:a.channel?a.channel:s.channel,allowSameCategoryName:a.allowSameCategoryName!==void 0?a.allowSameCategoryName:s.allowSameCategoryName,level:a.level?a.level:s.level,dateFormatter:a.dateFormatter?a.dateFormatter:s.dateFormatter,argumentFormatter:a.argumentFormatter?a.argumentFormatter:s.argumentFormatter}:s}var CategoryProvider;(function(a){function s(c,g){return CATEGORY_PROVIDER_SERVICE.createLogProvider(c,g)}a.createProvider=s;function d(){CATEGORY_PROVIDER_SERVICE.clear()}a.clear=d})(CategoryProvider||(CategoryProvider={}));var typescriptLoggingCategory_esm=Object.freeze(Object.defineProperty({__proto__:null,CATEGORY_LOG_CONTROL,get CategoryProvider(){return CategoryProvider}},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(typescriptLoggingCategory_esm);Object.defineProperty(logger$1,"__esModule",{value:!0});logger$1.logger=void 0;const typescript_logging_1=require$$2$1,typescript_logging_category_style_1=require$$1;logger$1.logger=typescript_logging_category_style_1.CategoryProvider.createProvider("ApiStream",{allowSameCategoryName:!0,level:typescript_logging_1.LogLevel.Warn});var version$2="1.0.19",__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,s,d,c){c===void 0&&(c=d);var g=Object.getOwnPropertyDescriptor(s,d);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(a,c,g)}:function(a,s,d,c){c===void 0&&(c=d),a[c]=s[d]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&__createBinding$5(s,a,d);return __setModuleDefault$5(s,a),s},__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(api$2,"__esModule",{value:!0});api$2.ApiClient=void 0;const NiceGrpc$1=__importStar$5(lib$1),abort_controller_x_1=require$$1$1,detect_node_1=__importDefault$h(browser$2),NodeTransport=__importStar$5(require$$3),logger_1$8=logger$1,clientVersion$1=version$2;class ApiClient{constructor(s,d,c,g,_,b){this.sessionId=s,this.sdkVersion=c,this.version=clientVersion$1,this.apiLogCallback=_,this.eventLogCallback=b,this.log=logger_1$8.logger.getCategory(g),this.channel=NiceGrpc$1.createChannel(d,detect_node_1.default?NodeTransport.NodeHttpTransport():void 0),this.clientFactory=NiceGrpc$1.createClientFactory().use(this.logMiddleware.bind(this))}async*logMiddleware(s,d){const{path:c}=s.method;try{const g=yield*s.next(s.request,d);if(this.log.debug(`-> ${c}: ok`),this.log.trace(`${JSON.stringify(s.request)} -> ${c}: ${JSON.stringify(g)}`),this.apiLogCallback){let _=c.split("/"),b=_[1].split("."),$=b[b.length-1],tt=b[b.length-2],nt=b[b.length-3],ot=_[2];this.apiLogCallback(nt,$,ot,s.request,g)}return g}catch(g){throw this.log.trace(`${JSON.stringify(s.request)} -> ${c}`),g instanceof NiceGrpc$1.ClientError?this.log.warn(`-> ${c}: error: ${NiceGrpc$1.Status[g.code]}: ${g.details}`):(0,abort_controller_x_1.isAbortError)(g)?this.log.warn(`-> ${c}: cancel`):this.log.warn(`-> ${c}: error: ${g==null?void 0:g.stack}`),g}}setAccessToken(s){(this.accessToken==null||this.accessToken!=s)&&(this.log.debug("access token refreshed"),this.accessToken=s,this.setup())}makeGrpcMetadata(){let s=NiceGrpc$1.Metadata({Authorization:`Bearer ${this.accessToken}`,Version:this.version,SessionId:this.sessionId});return this.sdkVersion!=null&&s.set("SdkVersion",this.sdkVersion),s}setup(){let s={metadata:this.makeGrpcMetadata()};this._setup(s)}_setup(s){}}api$2.ApiClient=ApiClient;var decorator={};Object.defineProperty(decorator,"__esModule",{value:!0});decorator.RequiresSdkAuthentication=void 0;function RequiresSdkAuthentication(){return function(a,s){let d;Object.defineProperty(a,s,{get:()=>{if(!d)throw new Error("Please authenticate ApiStream by calling apiStream.load( accessToken )");return d},set:c=>{d=c}})}}decorator.RequiresSdkAuthentication=RequiresSdkAuthentication;var __createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,s,d,c){c===void 0&&(c=d);var g=Object.getOwnPropertyDescriptor(s,d);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(a,c,g)}:function(a,s,d,c){c===void 0&&(c=d),a[c]=s[d]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(a,s,d,c){var g=arguments.length,_=g<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,d):c,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,s,d,c);else for(var $=a.length-1;$>=0;$--)(b=a[$])&&(_=(g<3?b(_):g>3?b(s,d,_):b(s,d))||_);return g>3&&_&&Object.defineProperty(s,d,_),_},__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&__createBinding$4(s,a,d);return __setModuleDefault$4(s,a),s},__metadata=commonjsGlobal&&commonjsGlobal.__metadata||function(a,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,s)};Object.defineProperty(layoutapi,"__esModule",{value:!0});layoutapi.LayoutApi=void 0;__importStar$4(lib$1);const LayoutApiModel=__importStar$4(dist$3),api_1$1=api$2,decorator_1=decorator,LOG_CATEGORY$1="LayoutApi";class LayoutApi extends api_1$1.ApiClient{constructor(s,d,c,g,_){super(s,c,g,LOG_CATEGORY$1,_),this.handlers={},this.eventApi=d,this.eventApi.on("event",{name:`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:*`,ignoreSessionEvents:!0},b=>{var $;const[,tt]=b.name.split(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:`),[nt,ot]=tt.split(":"),dt=b.payload;for(const ut of($=this.handlers[nt])!==null&&$!==void 0?$:[])ut(Object.values(dt).find(lt=>!!lt),ot)})}_setup(s){this.layer=this.clientFactory.create(LayoutApiModel.LayerServiceDefinition,this.channel,{"*":s}),this.layout=this.clientFactory.create(LayoutApiModel.LayoutServiceDefinition,this.channel,{"*":s})}async subscribeToLayout(s){await Promise.all([this.eventApi.subscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYER}:*`,{target:{layoutId:s}}),this.eventApi.subscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYOUT}:*`,{target:{layoutId:s}})])}async unsubscribeFromLayout(s){await Promise.all([this.eventApi.unsubscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYER}:*`,{target:{layoutId:s}}),this.eventApi.unsubscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYOUT}:*`,{target:{layoutId:s}})])}async subscribeToLayoutsInProject(s,d){await Promise.all([this.eventApi.subscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYER}:*`,{target:{collectionId:s,projectId:d}}),this.eventApi.subscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYOUT}:*`,{target:{collectionId:s,projectId:d}})])}async unsubscribeFromLayoutsInProject(s,d){await Promise.all([this.eventApi.unsubscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYER}:*`,{target:{collectionId:s,projectId:d}}),this.eventApi.unsubscribe(`${LayoutApi.LAYOUTAPI_EVENT_PREFIX}:${LayoutApiModel.EventType.EVENT_TYPE_LAYOUT}:*`,{target:{collectionId:s,projectId:d}})])}on(s,d){var c;this.handlers[s]=(c=this.handlers[s])!==null&&c!==void 0?c:[],this.handlers[s].push(d)}off(s,d){this.handlers[s]=this.handlers[s].filter(c=>c!==d)}}LayoutApi.LAYOUTAPI_EVENT_PREFIX="apistream:layout";__decorate([(0,decorator_1.RequiresSdkAuthentication)(),__metadata("design:type",Object)],LayoutApi.prototype,"layout",void 0);__decorate([(0,decorator_1.RequiresSdkAuthentication)(),__metadata("design:type",Object)],LayoutApi.prototype,"layer",void 0);layoutapi.LayoutApi=LayoutApi;var liveapi={},api$1={},timestamp$1={},__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,s,d,c){c===void 0&&(c=d);var g=Object.getOwnPropertyDescriptor(s,d);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(a,c,g)}:function(a,s,d,c){c===void 0&&(c=d),a[c]=s[d]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&__createBinding$3(s,a,d);return __setModuleDefault$3(s,a),s},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(timestamp$1,"__esModule",{value:!0});timestamp$1.Timestamp=timestamp$1.protobufPackage=void 0;const long_1$1=__importDefault$g(umd.exports),_m0$1=__importStar$3(minimal);timestamp$1.protobufPackage="google.protobuf";function createBaseTimestamp(){return{seconds:0,nanos:0}}timestamp$1.Timestamp={encode(a,s=_m0$1.Writer.create()){return a.seconds!==0&&s.uint32(8).int64(a.seconds),a.nanos!==0&&s.uint32(16).int32(a.nanos),s},decode(a,s){const d=a instanceof _m0$1.Reader?a:new _m0$1.Reader(a);let c=s===void 0?d.len:d.pos+s;const g=createBaseTimestamp();for(;d.pos<c;){const _=d.uint32();switch(_>>>3){case 1:g.seconds=longToNumber(d.int64());break;case 2:g.nanos=d.int32();break;default:d.skipType(_&7);break}}return g},fromJSON(a){return{seconds:isSet(a.seconds)?Number(a.seconds):0,nanos:isSet(a.nanos)?Number(a.nanos):0}},toJSON(a){const s={};return a.seconds!==void 0&&(s.seconds=Math.round(a.seconds)),a.nanos!==void 0&&(s.nanos=Math.round(a.nanos)),s},fromPartial(a){var s,d;const c=createBaseTimestamp();return c.seconds=(s=a.seconds)!==null&&s!==void 0?s:0,c.nanos=(d=a.nanos)!==null&&d!==void 0?d:0,c}};var globalThis$1=(()=>{if(typeof globalThis$1!="undefined")return globalThis$1;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();function longToNumber(a){if(a.gt(Number.MAX_SAFE_INTEGER))throw new globalThis$1.Error("Value is larger than Number.MAX_SAFE_INTEGER");return a.toNumber()}_m0$1.util.Long!==long_1$1.default&&(_m0$1.util.Long=long_1$1.default,_m0$1.configure());function isSet(a){return a!=null}var struct$1={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(it,ct,mt,Nt){Nt===void 0&&(Nt=mt);var Ot=Object.getOwnPropertyDescriptor(ct,mt);(!Ot||("get"in Ot?!ct.__esModule:Ot.writable||Ot.configurable))&&(Ot={enumerable:!0,get:function(){return ct[mt]}}),Object.defineProperty(it,Nt,Ot)}:function(it,ct,mt,Nt){Nt===void 0&&(Nt=mt),it[Nt]=ct[mt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(it,ct){Object.defineProperty(it,"default",{enumerable:!0,value:ct})}:function(it,ct){it.default=ct}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(it){if(it&&it.__esModule)return it;var ct={};if(it!=null)for(var mt in it)mt!=="default"&&Object.prototype.hasOwnProperty.call(it,mt)&&s(ct,it,mt);return d(ct,it),ct},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(a,"__esModule",{value:!0}),a.ListValue=a.Value=a.Struct_FieldsEntry=a.Struct=a.nullValueToNumber=a.nullValueToJSON=a.nullValueFromJSON=a.NullValue=a.protobufPackage=void 0;const _=g(umd.exports),b=c(minimal);a.protobufPackage="google.protobuf";var $;(function(it){it.NULL_VALUE="NULL_VALUE"})($=a.NullValue||(a.NullValue={}));function tt(it){switch(it){case 0:case"NULL_VALUE":return $.NULL_VALUE;default:throw new yt.Error("Unrecognized enum value "+it+" for enum NullValue")}}a.nullValueFromJSON=tt;function nt(it){switch(it){case $.NULL_VALUE:return"NULL_VALUE";default:return"UNKNOWN"}}a.nullValueToJSON=nt;function ot(it){switch(it){case $.NULL_VALUE:return 0;default:return 0}}a.nullValueToNumber=ot;function dt(){return{fields:{}}}a.Struct={encode(it,ct=b.Writer.create()){return Object.entries(it.fields).forEach(([mt,Nt])=>{Nt!==void 0&&a.Struct_FieldsEntry.encode({key:mt,value:Nt},ct.uint32(10).fork()).ldelim()}),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=dt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:const Pt=a.Struct_FieldsEntry.decode(mt,mt.uint32());Pt.value!==void 0&&(Ot.fields[Pt.key]=Pt.value);break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{fields:pt(it.fields)?Object.entries(it.fields).reduce((ct,[mt,Nt])=>(ct[mt]=Nt,ct),{}):{}}},toJSON(it){const ct={};return ct.fields={},it.fields&&Object.entries(it.fields).forEach(([mt,Nt])=>{ct.fields[mt]=Nt}),ct},fromPartial(it){var ct;const mt=dt();return mt.fields=Object.entries((ct=it.fields)!==null&&ct!==void 0?ct:{}).reduce((Nt,[Ot,At])=>(At!==void 0&&(Nt[Ot]=At),Nt),{}),mt},wrap(it){const ct=dt();return it!==void 0&&Object.keys(it).forEach(mt=>{ct.fields[mt]=it[mt]}),ct},unwrap(it){const ct={};return Object.keys(it.fields).forEach(mt=>{ct[mt]=it.fields[mt]}),ct}};function ut(){return{key:"",value:void 0}}a.Struct_FieldsEntry={encode(it,ct=b.Writer.create()){return it.key!==""&&ct.uint32(10).string(it.key),it.value!==void 0&&a.Value.encode(a.Value.wrap(it.value),ct.uint32(18).fork()).ldelim(),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=ut();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.key=mt.string();break;case 2:Ot.value=a.Value.unwrap(a.Value.decode(mt,mt.uint32()));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{key:vt(it.key)?String(it.key):"",value:vt(it==null?void 0:it.value)?it.value:void 0}},toJSON(it){const ct={};return it.key!==void 0&&(ct.key=it.key),it.value!==void 0&&(ct.value=it.value),ct},fromPartial(it){var ct,mt;const Nt=ut();return Nt.key=(ct=it.key)!==null&&ct!==void 0?ct:"",Nt.value=(mt=it.value)!==null&&mt!==void 0?mt:void 0,Nt}};function lt(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}a.Value={encode(it,ct=b.Writer.create()){return it.nullValue!==void 0&&ct.uint32(8).int32(ot(it.nullValue)),it.numberValue!==void 0&&ct.uint32(17).double(it.numberValue),it.stringValue!==void 0&&ct.uint32(26).string(it.stringValue),it.boolValue!==void 0&&ct.uint32(32).bool(it.boolValue),it.structValue!==void 0&&a.Struct.encode(a.Struct.wrap(it.structValue),ct.uint32(42).fork()).ldelim(),it.listValue!==void 0&&a.ListValue.encode(a.ListValue.wrap(it.listValue),ct.uint32(50).fork()).ldelim(),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=lt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.nullValue=tt(mt.int32());break;case 2:Ot.numberValue=mt.double();break;case 3:Ot.stringValue=mt.string();break;case 4:Ot.boolValue=mt.bool();break;case 5:Ot.structValue=a.Struct.unwrap(a.Struct.decode(mt,mt.uint32()));break;case 6:Ot.listValue=a.ListValue.unwrap(a.ListValue.decode(mt,mt.uint32()));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{nullValue:vt(it.nullValue)?tt(it.nullValue):void 0,numberValue:vt(it.numberValue)?Number(it.numberValue):void 0,stringValue:vt(it.stringValue)?String(it.stringValue):void 0,boolValue:vt(it.boolValue)?Boolean(it.boolValue):void 0,structValue:pt(it.structValue)?it.structValue:void 0,listValue:Array.isArray(it.listValue)?[...it.listValue]:void 0}},toJSON(it){const ct={};return it.nullValue!==void 0&&(ct.nullValue=it.nullValue!==void 0?nt(it.nullValue):void 0),it.numberValue!==void 0&&(ct.numberValue=it.numberValue),it.stringValue!==void 0&&(ct.stringValue=it.stringValue),it.boolValue!==void 0&&(ct.boolValue=it.boolValue),it.structValue!==void 0&&(ct.structValue=it.structValue),it.listValue!==void 0&&(ct.listValue=it.listValue),ct},fromPartial(it){var ct,mt,Nt,Ot,At,Pt;const St=lt();return St.nullValue=(ct=it.nullValue)!==null&&ct!==void 0?ct:void 0,St.numberValue=(mt=it.numberValue)!==null&&mt!==void 0?mt:void 0,St.stringValue=(Nt=it.stringValue)!==null&&Nt!==void 0?Nt:void 0,St.boolValue=(Ot=it.boolValue)!==null&&Ot!==void 0?Ot:void 0,St.structValue=(At=it.structValue)!==null&&At!==void 0?At:void 0,St.listValue=(Pt=it.listValue)!==null&&Pt!==void 0?Pt:void 0,St},wrap(it){const ct=lt();if(it===null)ct.nullValue=$.NULL_VALUE;else if(typeof it=="boolean")ct.boolValue=it;else if(typeof it=="number")ct.numberValue=it;else if(typeof it=="string")ct.stringValue=it;else if(Array.isArray(it))ct.listValue=it;else if(typeof it=="object")ct.structValue=it;else if(typeof it!="undefined")throw new Error("Unsupported any value type: "+typeof it);return ct},unwrap(it){if((it==null?void 0:it.stringValue)!==void 0)return it.stringValue;if((it==null?void 0:it.numberValue)!==void 0)return it.numberValue;if((it==null?void 0:it.boolValue)!==void 0)return it.boolValue;if((it==null?void 0:it.structValue)!==void 0)return it.structValue;if((it==null?void 0:it.listValue)!==void 0)return it.listValue;if((it==null?void 0:it.nullValue)!==void 0)return null}};function Tt(){return{values:[]}}a.ListValue={encode(it,ct=b.Writer.create()){for(const mt of it.values)a.Value.encode(a.Value.wrap(mt),ct.uint32(10).fork()).ldelim();return ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=Tt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.values.push(a.Value.unwrap(a.Value.decode(mt,mt.uint32())));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{values:Array.isArray(it==null?void 0:it.values)?[...it.values]:[]}},toJSON(it){const ct={};return it.values?ct.values=it.values.map(mt=>mt):ct.values=[],ct},fromPartial(it){var ct;const mt=Tt();return mt.values=((ct=it.values)===null||ct===void 0?void 0:ct.map(Nt=>Nt))||[],mt},wrap(it){const ct=Tt();return ct.values=it!=null?it:[],ct},unwrap(it){return it.values}};var yt=(()=>{if(typeof yt!="undefined")return yt;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();b.util.Long!==_.default&&(b.util.Long=_.default,b.configure());function pt(it){return typeof it=="object"&&it!==null}function vt(it){return it!=null}})(struct$1);var field_mask={},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,s,d,c){c===void 0&&(c=d);var g=Object.getOwnPropertyDescriptor(s,d);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(a,c,g)}:function(a,s,d,c){c===void 0&&(c=d),a[c]=s[d]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&__createBinding$2(s,a,d);return __setModuleDefault$2(s,a),s},__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(field_mask,"__esModule",{value:!0});field_mask.FieldMask=field_mask.protobufPackage=void 0;const long_1=__importDefault$f(umd.exports),_m0=__importStar$2(minimal);field_mask.protobufPackage="google.protobuf";function createBaseFieldMask(){return{paths:[]}}field_mask.FieldMask={encode(a,s=_m0.Writer.create()){for(const d of a.paths)s.uint32(10).string(d);return s},decode(a,s){const d=a instanceof _m0.Reader?a:new _m0.Reader(a);let c=s===void 0?d.len:d.pos+s;const g=createBaseFieldMask();for(;d.pos<c;){const _=d.uint32();switch(_>>>3){case 1:g.paths.push(d.string());break;default:d.skipType(_&7);break}}return g},fromJSON(a){return{paths:typeof a=="string"?a.split(",").filter(Boolean):Array.isArray(a==null?void 0:a.paths)?a.paths.map(String):[]}},toJSON(a){return a.paths.join(",")},fromPartial(a){var s;const d=createBaseFieldMask();return d.paths=((s=a.paths)===null||s===void 0?void 0:s.map(c=>c))||[],d},wrap(a){return{paths:a}},unwrap(a){return a.paths}};_m0.util.Long!==long_1.default&&(_m0.util.Long=long_1.default,_m0.configure());(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(h,k,_e,Et){Et===void 0&&(Et=_e);var st=Object.getOwnPropertyDescriptor(k,_e);(!st||("get"in st?!k.__esModule:st.writable||st.configurable))&&(st={enumerable:!0,get:function(){return k[_e]}}),Object.defineProperty(h,Et,st)}:function(h,k,_e,Et){Et===void 0&&(Et=_e),h[Et]=k[_e]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(h,k){Object.defineProperty(h,"default",{enumerable:!0,value:k})}:function(h,k){h.default=k}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(h){if(h&&h.__esModule)return h;var k={};if(h!=null)for(var _e in h)_e!=="default"&&Object.prototype.hasOwnProperty.call(h,_e)&&s(k,h,_e);return d(k,h),k},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0}),a.Role=a.regionToNumber=a.regionToJSON=a.regionFromJSON=a.Region=a.sourceTriggerActionToNumber=a.sourceTriggerActionToJSON=a.sourceTriggerActionFromJSON=a.SourceTriggerAction=a.s3ACLToNumber=a.s3ACLToJSON=a.s3ACLFromJSON=a.S3ACL=a.projectBroadcastPhaseToNumber=a.projectBroadcastPhaseToJSON=a.projectBroadcastPhaseFromJSON=a.ProjectBroadcastPhase=a.videoCodecRateControlModeToNumber=a.videoCodecRateControlModeToJSON=a.videoCodecRateControlModeFromJSON=a.VideoCodecRateControlMode=a.audioCodecToNumber=a.audioCodecToJSON=a.audioCodecFromJSON=a.AudioCodec=a.videoCodecProfileToNumber=a.videoCodecProfileToJSON=a.videoCodecProfileFromJSON=a.VideoCodecProfile=a.videoCodecToNumber=a.videoCodecToJSON=a.videoCodecFromJSON=a.VideoCodec=a.renderingQualityToNumber=a.renderingQualityToJSON=a.renderingQualityFromJSON=a.RenderingQuality=a.audioChannelLayoutToNumber=a.audioChannelLayoutToJSON=a.audioChannelLayoutFromJSON=a.AudioChannelLayout=a.videoColorSpaceToNumber=a.videoColorSpaceToJSON=a.videoColorSpaceFromJSON=a.VideoColorSpace=a.imageFormatToNumber=a.imageFormatToJSON=a.imageFormatFromJSON=a.ImageFormat=a.protobufPackage=void 0,a.HostedWebRtc=a.Composition=a.ExternalComposition=a.SceneComposition=a.StudioSdkComposition=a.PreviewAddress=a.PreviewWebRtcAddress=a.PreviewHlsPullAddress=a.ProjectTrigger=a.WebRtcTrigger=a.SourceTrigger=a.DestinationAddress=a.S3StorageAddress=a.ObjectStoragePackaging=a.HlsPackaging=a.HlsLifecycle=a.HlsLifecycleVod=a.HlsLifecycleLive=a.DestinationAgoraPushAddress=a.DestinationRtmpPushAddress=a.SourceAddress=a.RtmpPullAddress=a.SrtPushAddress=a.SourceRtmpPushAddress=a.Encoding=a.AudioEncoding=a.VideoEncoding=a.VideoCodecRateControl=a.Rendering=a.AudioRendering=a.VideoRendering=a.eventTypeToNumber=a.eventTypeToJSON=a.eventTypeFromJSON=a.EventType=a.eventSubTypeToNumber=a.eventSubTypeToJSON=a.eventSubTypeFromJSON=a.EventSubType=a.connectStateToNumber=a.connectStateToJSON=a.connectStateFromJSON=a.ConnectState=a.projectBroadcastErrorToNumber=a.projectBroadcastErrorToJSON=a.projectBroadcastErrorFromJSON=a.ProjectBroadcastError=a.roleToNumber=a.roleToJSON=a.roleFromJSON=void 0,a.DeleteSourceResponse=a.DeleteSourceRequest=a.CreateSourceResponse=a.CreateSourceRequest=a.UpdateDestinationResponse=a.UpdateDestinationRequest=a.DeleteDestinationResponse=a.DeleteDestinationRequest=a.GetDestinationResponse=a.GetDestinationRequest=a.CreateDestinationResponse=a.CreateDestinationRequest=a.StopProjectWebRtcResponse=a.StopProjectWebRtcRequest=a.StartProjectWebRtcResponse=a.StartProjectWebRtcRequest=a.GetProjectBroadcastStatusResponse=a.GetProjectBroadcastStatusRequest=a.GetProjectBroadcastSnapshotResponse=a.GetProjectBroadcastSnapshotRequest=a.GetProjectResponse=a.GetProjectRequest=a.StopProjectBroadcastResponse=a.StopProjectBroadcastRequest=a.StartProjectBroadcastResponse=a.StartProjectBroadcastRequest=a.DeleteProjectResponse=a.DeleteProjectRequest=a.UpdateProjectResponse=a.UpdateProjectRequest=a.CreateProjectResponse=a.CreateProjectRequest=a.GetCollectionsResponse=a.GetCollectionsRequest=a.DeleteCollectionResponse=a.DeleteCollectionRequest=a.UpdateCollectionResponse=a.UpdateCollectionRequest=a.GetCollectionResponse=a.GetCollectionRequest=a.CreateCollectionResponse=a.CreateCollectionRequest=a.Collection=a.Project=a.Destination=a.Source=a.ProjectBroadcastStatus=a.LatLong=a.WebRtcAccess=a.WebRtc=void 0,a.DestinationEvent=a.CollectionEvent=a.SourceStateEvent=a.SourceRemoveEvent=a.SourceAddEvent=a.SourceUpdateEvent=a.SourceDeleteEvent=a.SourceCreateEvent=a.CollectionUpdateEvent=a.CollectionDeleteEvent=a.CollectionCreateEvent=a.ProjectBroadcastStateEvent=a.ProjectUpdateEvent=a.ProjectDeleteEvent=a.ProjectCreateEvent=a.DestinationStateEvent=a.DestinationUpdateEvent=a.DestinationDeleteEvent=a.DestinationCreateEvent=a.GetTestTokenResponse=a.GetTestTokenRequest=a.GetJsonWebKeySetResponse=a.GetJsonWebKeySetRequest=a.JsonWebKey=a.GuestCodeRedirectResponse=a.GuestCodeRedirectRequest=a.GuestCode=a.RefreshAccessTokenResponse=a.RefreshAccessTokenRequest=a.CreateWebRtcAccessTokenResponse=a.CreateWebRtcAccessTokenRequest=a.CreateGuestAccessTokenResponse=a.CreateGuestAccessTokenRequest=a.GuestAccessToken=a.GuestAccessTokenExchange=a.GuestAccessTokenDirect=a.CreateAccessTokenResponse=a.CreateAccessTokenRequest=a.RemoveSourceFromProjectResponse=a.RemoveSourceFromProjectRequest=a.UpdateSourceResponse=a.UpdateSourceRequest=a.GetSourcesResponse=a.GetSourcesRequest=a.GetSourceResponse=a.GetSourceRequest=a.UpdateSourceInProjectResponse=a.UpdateSourceInProjectRequest=a.AddSourceToProjectResponse=a.AddSourceToProjectRequest=void 0,a.PublicAuthenticationServiceDefinition=a.PublicAuthenticationServiceClientImpl=a.AuthenticationServiceDefinition=a.AuthenticationServiceClientImpl=a.BackendAuthenticationServiceDefinition=a.BackendAuthenticationServiceClientImpl=a.SourceServiceDefinition=a.SourceServiceClientImpl=a.DestinationServiceDefinition=a.DestinationServiceClientImpl=a.ProjectServiceDefinition=a.ProjectServiceClientImpl=a.CollectionServiceDefinition=a.CollectionServiceClientImpl=a.LiveEvent=a.SourceEvent=a.ProjectEvent=void 0;const _=g(umd.exports),b=c(minimal),$=timestamp$1,tt=struct$1,nt=field_mask;a.protobufPackage="live.v21";var ot;(function(h){h.IMAGE_FORMAT_UNSPECIFIED="IMAGE_FORMAT_UNSPECIFIED",h.IMAGE_FORMAT_JPEG="IMAGE_FORMAT_JPEG"})(ot=a.ImageFormat||(a.ImageFormat={}));function dt(h){switch(h){case 0:case"IMAGE_FORMAT_UNSPECIFIED":return ot.IMAGE_FORMAT_UNSPECIFIED;case 1:case"IMAGE_FORMAT_JPEG":return ot.IMAGE_FORMAT_JPEG;default:throw new _n.Error("Unrecognized enum value "+h+" for enum ImageFormat")}}a.imageFormatFromJSON=dt;function ut(h){switch(h){case ot.IMAGE_FORMAT_UNSPECIFIED:return"IMAGE_FORMAT_UNSPECIFIED";case ot.IMAGE_FORMAT_JPEG:return"IMAGE_FORMAT_JPEG";default:return"UNKNOWN"}}a.imageFormatToJSON=ut;function lt(h){switch(h){case ot.IMAGE_FORMAT_UNSPECIFIED:return 0;case ot.IMAGE_FORMAT_JPEG:return 1;default:return 0}}a.imageFormatToNumber=lt;var Tt;(function(h){h.VIDEO_COLOR_SPACE_UNSPECIFIED="VIDEO_COLOR_SPACE_UNSPECIFIED",h.VIDEO_COLOR_SPACE_YUV420="VIDEO_COLOR_SPACE_YUV420"})(Tt=a.VideoColorSpace||(a.VideoColorSpace={}));function yt(h){switch(h){case 0:case"VIDEO_COLOR_SPACE_UNSPECIFIED":return Tt.VIDEO_COLOR_SPACE_UNSPECIFIED;case 1:case"VIDEO_COLOR_SPACE_YUV420":return Tt.VIDEO_COLOR_SPACE_YUV420;default:throw new _n.Error("Unrecognized enum value "+h+" for enum VideoColorSpace")}}a.videoColorSpaceFromJSON=yt;function pt(h){switch(h){case Tt.VIDEO_COLOR_SPACE_UNSPECIFIED:return"VIDEO_COLOR_SPACE_UNSPECIFIED";case Tt.VIDEO_COLOR_SPACE_YUV420:return"VIDEO_COLOR_SPACE_YUV420";default:return"UNKNOWN"}}a.videoColorSpaceToJSON=pt;function vt(h){switch(h){case Tt.VIDEO_COLOR_SPACE_UNSPECIFIED:return 0;case Tt.VIDEO_COLOR_SPACE_YUV420:return 1;default:return 0}}a.videoColorSpaceToNumber=vt;var it;(function(h){h.AUDIO_CHANNEL_LAYOUT_UNSPECIFIED="AUDIO_CHANNEL_LAYOUT_UNSPECIFIED",h.AUDIO_CHANNEL_LAYOUT_STEREO="AUDIO_CHANNEL_LAYOUT_STEREO"})(it=a.AudioChannelLayout||(a.AudioChannelLayout={}));function ct(h){switch(h){case 0:case"AUDIO_CHANNEL_LAYOUT_UNSPECIFIED":return it.AUDIO_CHANNEL_LAYOUT_UNSPECIFIED;case 1:case"AUDIO_CHANNEL_LAYOUT_STEREO":return it.AUDIO_CHANNEL_LAYOUT_STEREO;default:throw new _n.Error("Unrecognized enum value "+h+" for enum AudioChannelLayout")}}a.audioChannelLayoutFromJSON=ct;function mt(h){switch(h){case it.AUDIO_CHANNEL_LAYOUT_UNSPECIFIED:return"AUDIO_CHANNEL_LAYOUT_UNSPECIFIED";case it.AUDIO_CHANNEL_LAYOUT_STEREO:return"AUDIO_CHANNEL_LAYOUT_STEREO";default:return"UNKNOWN"}}a.audioChannelLayoutToJSON=mt;function Nt(h){switch(h){case it.AUDIO_CHANNEL_LAYOUT_UNSPECIFIED:return 0;case it.AUDIO_CHANNEL_LAYOUT_STEREO:return 1;default:return 0}}a.audioChannelLayoutToNumber=Nt;var Ot;(function(h){h.RENDERING_QUALITY_UNSPECIFIED="RENDERING_QUALITY_UNSPECIFIED",h.RENDERING_QUALITY_STANDARD="RENDERING_QUALITY_STANDARD",h.RENDERING_QUALITY_HIGH="RENDERING_QUALITY_HIGH"})(Ot=a.RenderingQuality||(a.RenderingQuality={}));function At(h){switch(h){case 0:case"RENDERING_QUALITY_UNSPECIFIED":return Ot.RENDERING_QUALITY_UNSPECIFIED;case 1:case"RENDERING_QUALITY_STANDARD":return Ot.RENDERING_QUALITY_STANDARD;case 2:case"RENDERING_QUALITY_HIGH":return Ot.RENDERING_QUALITY_HIGH;default:throw new _n.Error("Unrecognized enum value "+h+" for enum RenderingQuality")}}a.renderingQualityFromJSON=At;function Pt(h){switch(h){case Ot.RENDERING_QUALITY_UNSPECIFIED:return"RENDERING_QUALITY_UNSPECIFIED";case Ot.RENDERING_QUALITY_STANDARD:return"RENDERING_QUALITY_STANDARD";case Ot.RENDERING_QUALITY_HIGH:return"RENDERING_QUALITY_HIGH";default:return"UNKNOWN"}}a.renderingQualityToJSON=Pt;function St(h){switch(h){case Ot.RENDERING_QUALITY_UNSPECIFIED:return 0;case Ot.RENDERING_QUALITY_STANDARD:return 1;case Ot.RENDERING_QUALITY_HIGH:return 2;default:return 0}}a.renderingQualityToNumber=St;var Ct;(function(h){h.VIDEO_CODEC_UNSPECIFIED="VIDEO_CODEC_UNSPECIFIED",h.VIDEO_CODEC_H264="VIDEO_CODEC_H264"})(Ct=a.VideoCodec||(a.VideoCodec={}));function $t(h){switch(h){case 0:case"VIDEO_CODEC_UNSPECIFIED":return Ct.VIDEO_CODEC_UNSPECIFIED;case 1:case"VIDEO_CODEC_H264":return Ct.VIDEO_CODEC_H264;default:throw new _n.Error("Unrecognized enum value "+h+" for enum VideoCodec")}}a.videoCodecFromJSON=$t;function gt(h){switch(h){case Ct.VIDEO_CODEC_UNSPECIFIED:return"VIDEO_CODEC_UNSPECIFIED";case Ct.VIDEO_CODEC_H264:return"VIDEO_CODEC_H264";default:return"UNKNOWN"}}a.videoCodecToJSON=gt;function It(h){switch(h){case Ct.VIDEO_CODEC_UNSPECIFIED:return 0;case Ct.VIDEO_CODEC_H264:return 1;default:return 0}}a.videoCodecToNumber=It;var Rt;(function(h){h.VIDEO_CODEC_PROFILE_UNSPECIFIED="VIDEO_CODEC_PROFILE_UNSPECIFIED",h.VIDEO_CODEC_PROFILE_BASELINE="VIDEO_CODEC_PROFILE_BASELINE",h.VIDEO_CODEC_PROFILE_MAIN="VIDEO_CODEC_PROFILE_MAIN",h.VIDEO_CODEC_PROFILE_HIGH="VIDEO_CODEC_PROFILE_HIGH"})(Rt=a.VideoCodecProfile||(a.VideoCodecProfile={}));function zt(h){switch(h){case 0:case"VIDEO_CODEC_PROFILE_UNSPECIFIED":return Rt.VIDEO_CODEC_PROFILE_UNSPECIFIED;case 2:case"VIDEO_CODEC_PROFILE_BASELINE":return Rt.VIDEO_CODEC_PROFILE_BASELINE;case 3:case"VIDEO_CODEC_PROFILE_MAIN":return Rt.VIDEO_CODEC_PROFILE_MAIN;case 4:case"VIDEO_CODEC_PROFILE_HIGH":return Rt.VIDEO_CODEC_PROFILE_HIGH;default:throw new _n.Error("Unrecognized enum value "+h+" for enum VideoCodecProfile")}}a.videoCodecProfileFromJSON=zt;function Ut(h){switch(h){case Rt.VIDEO_CODEC_PROFILE_UNSPECIFIED:return"VIDEO_CODEC_PROFILE_UNSPECIFIED";case Rt.VIDEO_CODEC_PROFILE_BASELINE:return"VIDEO_CODEC_PROFILE_BASELINE";case Rt.VIDEO_CODEC_PROFILE_MAIN:return"VIDEO_CODEC_PROFILE_MAIN";case Rt.VIDEO_CODEC_PROFILE_HIGH:return"VIDEO_CODEC_PROFILE_HIGH";default:return"UNKNOWN"}}a.videoCodecProfileToJSON=Ut;function Dt(h){switch(h){case Rt.VIDEO_CODEC_PROFILE_UNSPECIFIED:return 0;case Rt.VIDEO_CODEC_PROFILE_BASELINE:return 2;case Rt.VIDEO_CODEC_PROFILE_MAIN:return 3;case Rt.VIDEO_CODEC_PROFILE_HIGH:return 4;default:return 0}}a.videoCodecProfileToNumber=Dt;var qt;(function(h){h.AUDIO_CODEC_UNSPECIFIED="AUDIO_CODEC_UNSPECIFIED",h.AUDIO_CODEC_AAC="AUDIO_CODEC_AAC"})(qt=a.AudioCodec||(a.AudioCodec={}));function Kt(h){switch(h){case 0:case"AUDIO_CODEC_UNSPECIFIED":return qt.AUDIO_CODEC_UNSPECIFIED;case 1:case"AUDIO_CODEC_AAC":return qt.AUDIO_CODEC_AAC;default:throw new _n.Error("Unrecognized enum value "+h+" for enum AudioCodec")}}a.audioCodecFromJSON=Kt;function Qt(h){switch(h){case qt.AUDIO_CODEC_UNSPECIFIED:return"AUDIO_CODEC_UNSPECIFIED";case qt.AUDIO_CODEC_AAC:return"AUDIO_CODEC_AAC";default:return"UNKNOWN"}}a.audioCodecToJSON=Qt;function Ht(h){switch(h){case qt.AUDIO_CODEC_UNSPECIFIED:return 0;case qt.AUDIO_CODEC_AAC:return 1;default:return 0}}a.audioCodecToNumber=Ht;var j;(function(h){h.VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED="VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED",h.VIDEO_CODEC_RATE_CONTROL_MODE_CBR="VIDEO_CODEC_RATE_CONTROL_MODE_CBR"})(j=a.VideoCodecRateControlMode||(a.VideoCodecRateControlMode={}));function rt(h){switch(h){case 0:case"VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED":return j.VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED;case 1:case"VIDEO_CODEC_RATE_CONTROL_MODE_CBR":return j.VIDEO_CODEC_RATE_CONTROL_MODE_CBR;default:throw new _n.Error("Unrecognized enum value "+h+" for enum VideoCodecRateControlMode")}}a.videoCodecRateControlModeFromJSON=rt;function ht(h){switch(h){case j.VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED:return"VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED";case j.VIDEO_CODEC_RATE_CONTROL_MODE_CBR:return"VIDEO_CODEC_RATE_CONTROL_MODE_CBR";default:return"UNKNOWN"}}a.videoCodecRateControlModeToJSON=ht;function Vt(h){switch(h){case j.VIDEO_CODEC_RATE_CONTROL_MODE_UNSPECIFIED:return 0;case j.VIDEO_CODEC_RATE_CONTROL_MODE_CBR:return 1;default:return 0}}a.videoCodecRateControlModeToNumber=Vt;var at;(function(h){h.PROJECT_BROADCAST_PHASE_UNSPECIFIED="PROJECT_BROADCAST_PHASE_UNSPECIFIED",h.PROJECT_BROADCAST_PHASE_NOT_RUNNING="PROJECT_BROADCAST_PHASE_NOT_RUNNING",h.PROJECT_BROADCAST_PHASE_WAITING="PROJECT_BROADCAST_PHASE_WAITING",h.PROJECT_BROADCAST_PHASE_STARTING="PROJECT_BROADCAST_PHASE_STARTING",h.PROJECT_BROADCAST_PHASE_RUNNING="PROJECT_BROADCAST_PHASE_RUNNING",h.PROJECT_BROADCAST_PHASE_STOPPING="PROJECT_BROADCAST_PHASE_STOPPING",h.PROJECT_BROADCAST_PHASE_STOPPED="PROJECT_BROADCAST_PHASE_STOPPED",h.PROJECT_BROADCAST_PHASE_ARCHIVED="PROJECT_BROADCAST_PHASE_ARCHIVED"})(at=a.ProjectBroadcastPhase||(a.ProjectBroadcastPhase={}));function _t(h){switch(h){case 0:case"PROJECT_BROADCAST_PHASE_UNSPECIFIED":return at.PROJECT_BROADCAST_PHASE_UNSPECIFIED;case 1:case"PROJECT_BROADCAST_PHASE_NOT_RUNNING":return at.PROJECT_BROADCAST_PHASE_NOT_RUNNING;case 2:case"PROJECT_BROADCAST_PHASE_WAITING":return at.PROJECT_BROADCAST_PHASE_WAITING;case 3:case"PROJECT_BROADCAST_PHASE_STARTING":return at.PROJECT_BROADCAST_PHASE_STARTING;case 4:case"PROJECT_BROADCAST_PHASE_RUNNING":return at.PROJECT_BROADCAST_PHASE_RUNNING;case 5:case"PROJECT_BROADCAST_PHASE_STOPPING":return at.PROJECT_BROADCAST_PHASE_STOPPING;case 6:case"PROJECT_BROADCAST_PHASE_STOPPED":return at.PROJECT_BROADCAST_PHASE_STOPPED;case 7:case"PROJECT_BROADCAST_PHASE_ARCHIVED":return at.PROJECT_BROADCAST_PHASE_ARCHIVED;default:throw new _n.Error("Unrecognized enum value "+h+" for enum ProjectBroadcastPhase")}}a.projectBroadcastPhaseFromJSON=_t;function Lt(h){switch(h){case at.PROJECT_BROADCAST_PHASE_UNSPECIFIED:return"PROJECT_BROADCAST_PHASE_UNSPECIFIED";case at.PROJECT_BROADCAST_PHASE_NOT_RUNNING:return"PROJECT_BROADCAST_PHASE_NOT_RUNNING";case at.PROJECT_BROADCAST_PHASE_WAITING:return"PROJECT_BROADCAST_PHASE_WAITING";case at.PROJECT_BROADCAST_PHASE_STARTING:return"PROJECT_BROADCAST_PHASE_STARTING";case at.PROJECT_BROADCAST_PHASE_RUNNING:return"PROJECT_BROADCAST_PHASE_RUNNING";case at.PROJECT_BROADCAST_PHASE_STOPPING:return"PROJECT_BROADCAST_PHASE_STOPPING";case at.PROJECT_BROADCAST_PHASE_STOPPED:return"PROJECT_BROADCAST_PHASE_STOPPED";case at.PROJECT_BROADCAST_PHASE_ARCHIVED:return"PROJECT_BROADCAST_PHASE_ARCHIVED";default:return"UNKNOWN"}}a.projectBroadcastPhaseToJSON=Lt;function Wt(h){switch(h){case at.PROJECT_BROADCAST_PHASE_UNSPECIFIED:return 0;case at.PROJECT_BROADCAST_PHASE_NOT_RUNNING:return 1;case at.PROJECT_BROADCAST_PHASE_WAITING:return 2;case at.PROJECT_BROADCAST_PHASE_STARTING:return 3;case at.PROJECT_BROADCAST_PHASE_RUNNING:return 4;case at.PROJECT_BROADCAST_PHASE_STOPPING:return 5;case at.PROJECT_BROADCAST_PHASE_STOPPED:return 6;case at.PROJECT_BROADCAST_PHASE_ARCHIVED:return 7;default:return 0}}a.projectBroadcastPhaseToNumber=Wt;var Ft;(function(h){h.S3ACL_UNSPECIFIED="S3ACL_UNSPECIFIED",h.S3ACL_PRIVATE="S3ACL_PRIVATE",h.S3ACL_PUBLIC_READ="S3ACL_PUBLIC_READ",h.S3ACL_PUBLIC_READ_WRITE="S3ACL_PUBLIC_READ_WRITE",h.S3ACL_AUTHENTICATED_READ="S3ACL_AUTHENTICATED_READ",h.S3ACL_BUCKET_OWNER_READ="S3ACL_BUCKET_OWNER_READ",h.S3ACL_BUCKET_OWNER_FULL_CONTROL="S3ACL_BUCKET_OWNER_FULL_CONTROL"})(Ft=a.S3ACL||(a.S3ACL={}));function jt(h){switch(h){case 0:case"S3ACL_UNSPECIFIED":return Ft.S3ACL_UNSPECIFIED;case 1:case"S3ACL_PRIVATE":return Ft.S3ACL_PRIVATE;case 2:case"S3ACL_PUBLIC_READ":return Ft.S3ACL_PUBLIC_READ;case 3:case"S3ACL_PUBLIC_READ_WRITE":return Ft.S3ACL_PUBLIC_READ_WRITE;case 4:case"S3ACL_AUTHENTICATED_READ":return Ft.S3ACL_AUTHENTICATED_READ;case 5:case"S3ACL_BUCKET_OWNER_READ":return Ft.S3ACL_BUCKET_OWNER_READ;case 6:case"S3ACL_BUCKET_OWNER_FULL_CONTROL":return Ft.S3ACL_BUCKET_OWNER_FULL_CONTROL;default:throw new _n.Error("Unrecognized enum value "+h+" for enum S3ACL")}}a.s3ACLFromJSON=jt;function tn(h){switch(h){case Ft.S3ACL_UNSPECIFIED:return"S3ACL_UNSPECIFIED";case Ft.S3ACL_PRIVATE:return"S3ACL_PRIVATE";case Ft.S3ACL_PUBLIC_READ:return"S3ACL_PUBLIC_READ";case Ft.S3ACL_PUBLIC_READ_WRITE:return"S3ACL_PUBLIC_READ_WRITE";case Ft.S3ACL_AUTHENTICATED_READ:return"S3ACL_AUTHENTICATED_READ";case Ft.S3ACL_BUCKET_OWNER_READ:return"S3ACL_BUCKET_OWNER_READ";case Ft.S3ACL_BUCKET_OWNER_FULL_CONTROL:return"S3ACL_BUCKET_OWNER_FULL_CONTROL";default:return"UNKNOWN"}}a.s3ACLToJSON=tn;function ln(h){switch(h){case Ft.S3ACL_UNSPECIFIED:return 0;case Ft.S3ACL_PRIVATE:return 1;case Ft.S3ACL_PUBLIC_READ:return 2;case Ft.S3ACL_PUBLIC_READ_WRITE:return 3;case Ft.S3ACL_AUTHENTICATED_READ:return 4;case Ft.S3ACL_BUCKET_OWNER_READ:return 5;case Ft.S3ACL_BUCKET_OWNER_FULL_CONTROL:return 6;default:return 0}}a.s3ACLToNumber=ln;var rn;(function(h){h.SOURCE_TRIGGER_ACTION_UNSPECIFIED="SOURCE_TRIGGER_ACTION_UNSPECIFIED",h.SOURCE_TRIGGER_ACTION_IGNORE="SOURCE_TRIGGER_ACTION_IGNORE",h.SOURCE_TRIGGER_ACTION_OR="SOURCE_TRIGGER_ACTION_OR"})(rn=a.SourceTriggerAction||(a.SourceTriggerAction={}));function en(h){switch(h){case 0:case"SOURCE_TRIGGER_ACTION_UNSPECIFIED":return rn.SOURCE_TRIGGER_ACTION_UNSPECIFIED;case 1:case"SOURCE_TRIGGER_ACTION_IGNORE":return rn.SOURCE_TRIGGER_ACTION_IGNORE;case 3:case"SOURCE_TRIGGER_ACTION_OR":return rn.SOURCE_TRIGGER_ACTION_OR;default:throw new _n.Error("Unrecognized enum value "+h+" for enum SourceTriggerAction")}}a.sourceTriggerActionFromJSON=en;function fn(h){switch(h){case rn.SOURCE_TRIGGER_ACTION_UNSPECIFIED:return"SOURCE_TRIGGER_ACTION_UNSPECIFIED";case rn.SOURCE_TRIGGER_ACTION_IGNORE:return"SOURCE_TRIGGER_ACTION_IGNORE";case rn.SOURCE_TRIGGER_ACTION_OR:return"SOURCE_TRIGGER_ACTION_OR";default:return"UNKNOWN"}}a.sourceTriggerActionToJSON=fn;function On(h){switch(h){case rn.SOURCE_TRIGGER_ACTION_UNSPECIFIED:return 0;case rn.SOURCE_TRIGGER_ACTION_IGNORE:return 1;case rn.SOURCE_TRIGGER_ACTION_OR:return 3;default:return 0}}a.sourceTriggerActionToNumber=On;var Xt;(function(h){h.REGION_UNSPECIFIED="REGION_UNSPECIFIED",h.REGION_US_EAST_1="REGION_US_EAST_1",h.REGION_US_EAST_2="REGION_US_EAST_2",h.REGION_US_WEST_1="REGION_US_WEST_1",h.REGION_US_WEST_2="REGION_US_WEST_2",h.REGION_US_CENTRAL_1="REGION_US_CENTRAL_1",h.REGION_AP_SOUTHEAST_1="REGION_AP_SOUTHEAST_1",h.REGION_CA_EAST_1="REGION_CA_EAST_1",h.REGION_EU_CENTRAL_1="REGION_EU_CENTRAL_1",h.REGION_EU_WEST_1="REGION_EU_WEST_1"})(Xt=a.Region||(a.Region={}));function kn(h){switch(h){case 0:case"REGION_UNSPECIFIED":return Xt.REGION_UNSPECIFIED;case 1:case"REGION_US_EAST_1":return Xt.REGION_US_EAST_1;case 2:case"REGION_US_EAST_2":return Xt.REGION_US_EAST_2;case 3:case"REGION_US_WEST_1":return Xt.REGION_US_WEST_1;case 4:case"REGION_US_WEST_2":return Xt.REGION_US_WEST_2;case 5:case"REGION_US_CENTRAL_1":return Xt.REGION_US_CENTRAL_1;case 10:case"REGION_AP_SOUTHEAST_1":return Xt.REGION_AP_SOUTHEAST_1;case 20:case"REGION_CA_EAST_1":return Xt.REGION_CA_EAST_1;case 30:case"REGION_EU_CENTRAL_1":return Xt.REGION_EU_CENTRAL_1;case 31:case"REGION_EU_WEST_1":return Xt.REGION_EU_WEST_1;default:throw new _n.Error("Unrecognized enum value "+h+" for enum Region")}}a.regionFromJSON=kn;function An(h){switch(h){case Xt.REGION_UNSPECIFIED:return"REGION_UNSPECIFIED";case Xt.REGION_US_EAST_1:return"REGION_US_EAST_1";case Xt.REGION_US_EAST_2:return"REGION_US_EAST_2";case Xt.REGION_US_WEST_1:return"REGION_US_WEST_1";case Xt.REGION_US_WEST_2:return"REGION_US_WEST_2";case Xt.REGION_US_CENTRAL_1:return"REGION_US_CENTRAL_1";case Xt.REGION_AP_SOUTHEAST_1:return"REGION_AP_SOUTHEAST_1";case Xt.REGION_CA_EAST_1:return"REGION_CA_EAST_1";case Xt.REGION_EU_CENTRAL_1:return"REGION_EU_CENTRAL_1";case Xt.REGION_EU_WEST_1:return"REGION_EU_WEST_1";default:return"UNKNOWN"}}a.regionToJSON=An;function Mn(h){switch(h){case Xt.REGION_UNSPECIFIED:return 0;case Xt.REGION_US_EAST_1:return 1;case Xt.REGION_US_EAST_2:return 2;case Xt.REGION_US_WEST_1:return 3;case Xt.REGION_US_WEST_2:return 4;case Xt.REGION_US_CENTRAL_1:return 5;case Xt.REGION_AP_SOUTHEAST_1:return 10;case Xt.REGION_CA_EAST_1:return 20;case Xt.REGION_EU_CENTRAL_1:return 30;case Xt.REGION_EU_WEST_1:return 31;default:return 0}}a.regionToNumber=Mn;var Yt;(function(h){h.ROLE_UNSPECIFIED="ROLE_UNSPECIFIED",h.ROLE_HOST="ROLE_HOST",h.ROLE_COHOST="ROLE_COHOST",h.ROLE_CONTRIBUTOR="ROLE_CONTRIBUTOR",h.ROLE_GUEST="ROLE_GUEST",h.ROLE_VIEWER="ROLE_VIEWER",h.ROLE_RENDERER="ROLE_RENDERER",h.ROLE_PLATFORM="ROLE_PLATFORM",h.ROLE_IMPERSONATE="ROLE_IMPERSONATE"})(Yt=a.Role||(a.Role={}));function sn(h){switch(h){case 0:case"ROLE_UNSPECIFIED":return Yt.ROLE_UNSPECIFIED;case 1:case"ROLE_HOST":return Yt.ROLE_HOST;case 2:case"ROLE_COHOST":return Yt.ROLE_COHOST;case 3:case"ROLE_CONTRIBUTOR":return Yt.ROLE_CONTRIBUTOR;case 4:case"ROLE_GUEST":return Yt.ROLE_GUEST;case 5:case"ROLE_VIEWER":return Yt.ROLE_VIEWER;case 6:case"ROLE_RENDERER":return Yt.ROLE_RENDERER;case 7:case"ROLE_PLATFORM":return Yt.ROLE_PLATFORM;case 8:case"ROLE_IMPERSONATE":return Yt.ROLE_IMPERSONATE;default:throw new _n.Error("Unrecognized enum value "+h+" for enum Role")}}a.roleFromJSON=sn;function nn(h){switch(h){case Yt.ROLE_UNSPECIFIED:return"ROLE_UNSPECIFIED";case Yt.ROLE_HOST:return"ROLE_HOST";case Yt.ROLE_COHOST:return"ROLE_COHOST";case Yt.ROLE_CONTRIBUTOR:return"ROLE_CONTRIBUTOR";case Yt.ROLE_GUEST:return"ROLE_GUEST";case Yt.ROLE_VIEWER:return"ROLE_VIEWER";case Yt.ROLE_RENDERER:return"ROLE_RENDERER";case Yt.ROLE_PLATFORM:return"ROLE_PLATFORM";case Yt.ROLE_IMPERSONATE:return"ROLE_IMPERSONATE";default:return"UNKNOWN"}}a.roleToJSON=nn;function pn(h){switch(h){case Yt.ROLE_UNSPECIFIED:return 0;case Yt.ROLE_HOST:return 1;case Yt.ROLE_COHOST:return 2;case Yt.ROLE_CONTRIBUTOR:return 3;case Yt.ROLE_GUEST:return 4;case Yt.ROLE_VIEWER:return 5;case Yt.ROLE_RENDERER:return 6;case Yt.ROLE_PLATFORM:return 7;case Yt.ROLE_IMPERSONATE:return 8;default:return 0}}a.roleToNumber=pn;var Zt;(function(h){h.PROJECT_BROADCAST_ERROR_UNSPECIFIED="PROJECT_BROADCAST_ERROR_UNSPECIFIED",h.PROJECT_BROADCAST_ERROR_INTERNAL="PROJECT_BROADCAST_ERROR_INTERNAL",h.PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED="PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED"})(Zt=a.ProjectBroadcastError||(a.ProjectBroadcastError={}));function Dn(h){switch(h){case 0:case"PROJECT_BROADCAST_ERROR_UNSPECIFIED":return Zt.PROJECT_BROADCAST_ERROR_UNSPECIFIED;case 1:case"PROJECT_BROADCAST_ERROR_INTERNAL":return Zt.PROJECT_BROADCAST_ERROR_INTERNAL;case 2:case"PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED":return Zt.PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED;default:throw new _n.Error("Unrecognized enum value "+h+" for enum ProjectBroadcastError")}}a.projectBroadcastErrorFromJSON=Dn;function dn(h){switch(h){case Zt.PROJECT_BROADCAST_ERROR_UNSPECIFIED:return"PROJECT_BROADCAST_ERROR_UNSPECIFIED";case Zt.PROJECT_BROADCAST_ERROR_INTERNAL:return"PROJECT_BROADCAST_ERROR_INTERNAL";case Zt.PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED:return"PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED";default:return"UNKNOWN"}}a.projectBroadcastErrorToJSON=dn;function Ln(h){switch(h){case Zt.PROJECT_BROADCAST_ERROR_UNSPECIFIED:return 0;case Zt.PROJECT_BROADCAST_ERROR_INTERNAL:return 1;case Zt.PROJECT_BROADCAST_ERROR_DURATION_EXCEEDED:return 2;default:return 0}}a.projectBroadcastErrorToNumber=Ln;var Sn;(function(h){h.CONNECT_STATE_UNSPECIFIED="CONNECT_STATE_UNSPECIFIED",h.CONNECT_STATE_CONNECTED="CONNECT_STATE_CONNECTED",h.CONNECT_STATE_DISCONNECTED="CONNECT_STATE_DISCONNECTED"})(Sn=a.ConnectState||(a.ConnectState={}));function $n(h){switch(h){case 0:case"CONNECT_STATE_UNSPECIFIED":return Sn.CONNECT_STATE_UNSPECIFIED;case 1:case"CONNECT_STATE_CONNECTED":return Sn.CONNECT_STATE_CONNECTED;case 2:case"CONNECT_STATE_DISCONNECTED":return Sn.CONNECT_STATE_DISCONNECTED;default:throw new _n.Error("Unrecognized enum value "+h+" for enum ConnectState")}}a.connectStateFromJSON=$n;function Vn(h){switch(h){case Sn.CONNECT_STATE_UNSPECIFIED:return"CONNECT_STATE_UNSPECIFIED";case Sn.CONNECT_STATE_CONNECTED:return"CONNECT_STATE_CONNECTED";case Sn.CONNECT_STATE_DISCONNECTED:return"CONNECT_STATE_DISCONNECTED";default:return"UNKNOWN"}}a.connectStateToJSON=Vn;function Bn(h){switch(h){case Sn.CONNECT_STATE_UNSPECIFIED:return 0;case Sn.CONNECT_STATE_CONNECTED:return 1;case Sn.CONNECT_STATE_DISCONNECTED:return 2;default:return 0}}a.connectStateToNumber=Bn;var gn;(function(h){h.EVENT_SUB_TYPE_UNSPECIFIED="EVENT_SUB_TYPE_UNSPECIFIED",h.EVENT_SUB_TYPE_CREATE="EVENT_SUB_TYPE_CREATE",h.EVENT_SUB_TYPE_UPDATE="EVENT_SUB_TYPE_UPDATE",h.EVENT_SUB_TYPE_DELETE="EVENT_SUB_TYPE_DELETE",h.EVENT_SUB_TYPE_ADD="EVENT_SUB_TYPE_ADD",h.EVENT_SUB_TYPE_REMOVE="EVENT_SUB_TYPE_REMOVE",h.EVENT_SUB_TYPE_STATE="EVENT_SUB_TYPE_STATE"})(gn=a.EventSubType||(a.EventSubType={}));function Gn(h){switch(h){case 0:case"EVENT_SUB_TYPE_UNSPECIFIED":return gn.EVENT_SUB_TYPE_UNSPECIFIED;case 1:case"EVENT_SUB_TYPE_CREATE":return gn.EVENT_SUB_TYPE_CREATE;case 2:case"EVENT_SUB_TYPE_UPDATE":return gn.EVENT_SUB_TYPE_UPDATE;case 3:case"EVENT_SUB_TYPE_DELETE":return gn.EVENT_SUB_TYPE_DELETE;case 4:case"EVENT_SUB_TYPE_ADD":return gn.EVENT_SUB_TYPE_ADD;case 5:case"EVENT_SUB_TYPE_REMOVE":return gn.EVENT_SUB_TYPE_REMOVE;case 6:case"EVENT_SUB_TYPE_STATE":return gn.EVENT_SUB_TYPE_STATE;default:throw new _n.Error("Unrecognized enum value "+h+" for enum EventSubType")}}a.eventSubTypeFromJSON=Gn;function Un(h){switch(h){case gn.EVENT_SUB_TYPE_UNSPECIFIED:return"EVENT_SUB_TYPE_UNSPECIFIED";case gn.EVENT_SUB_TYPE_CREATE:return"EVENT_SUB_TYPE_CREATE";case gn.EVENT_SUB_TYPE_UPDATE:return"EVENT_SUB_TYPE_UPDATE";case gn.EVENT_SUB_TYPE_DELETE:return"EVENT_SUB_TYPE_DELETE";case gn.EVENT_SUB_TYPE_ADD:return"EVENT_SUB_TYPE_ADD";case gn.EVENT_SUB_TYPE_REMOVE:return"EVENT_SUB_TYPE_REMOVE";case gn.EVENT_SUB_TYPE_STATE:return"EVENT_SUB_TYPE_STATE";default:return"UNKNOWN"}}a.eventSubTypeToJSON=Un;function Jn(h){switch(h){case gn.EVENT_SUB_TYPE_UNSPECIFIED:return 0;case gn.EVENT_SUB_TYPE_CREATE:return 1;case gn.EVENT_SUB_TYPE_UPDATE:return 2;case gn.EVENT_SUB_TYPE_DELETE:return 3;case gn.EVENT_SUB_TYPE_ADD:return 4;case gn.EVENT_SUB_TYPE_REMOVE:return 5;case gn.EVENT_SUB_TYPE_STATE:return 6;default:return 0}}a.eventSubTypeToNumber=Jn;var Gt;(function(h){h.EVENT_TYPE_UNSPECIFIED="EVENT_TYPE_UNSPECIFIED",h.EVENT_TYPE_COLLECTION="EVENT_TYPE_COLLECTION",h.EVENT_TYPE_PROJECT="EVENT_TYPE_PROJECT",h.EVENT_TYPE_SOURCE="EVENT_TYPE_SOURCE",h.EVENT_TYPE_DESTINATION="EVENT_TYPE_DESTINATION"})(Gt=a.EventType||(a.EventType={}));function et(h){switch(h){case 0:case"EVENT_TYPE_UNSPECIFIED":return Gt.EVENT_TYPE_UNSPECIFIED;case 1:case"EVENT_TYPE_COLLECTION":return Gt.EVENT_TYPE_COLLECTION;case 2:case"EVENT_TYPE_PROJECT":return Gt.EVENT_TYPE_PROJECT;case 4:case"EVENT_TYPE_SOURCE":return Gt.EVENT_TYPE_SOURCE;case 5:case"EVENT_TYPE_DESTINATION":return Gt.EVENT_TYPE_DESTINATION;default:throw new _n.Error("Unrecognized enum value "+h+" for enum EventType")}}a.eventTypeFromJSON=et;function ft(h){switch(h){case Gt.EVENT_TYPE_UNSPECIFIED:return"EVENT_TYPE_UNSPECIFIED";case Gt.EVENT_TYPE_COLLECTION:return"EVENT_TYPE_COLLECTION";case Gt.EVENT_TYPE_PROJECT:return"EVENT_TYPE_PROJECT";case Gt.EVENT_TYPE_SOURCE:return"EVENT_TYPE_SOURCE";case Gt.EVENT_TYPE_DESTINATION:return"EVENT_TYPE_DESTINATION";default:return"UNKNOWN"}}a.eventTypeToJSON=ft;function bt(h){switch(h){case Gt.EVENT_TYPE_UNSPECIFIED:return 0;case Gt.EVENT_TYPE_COLLECTION:return 1;case Gt.EVENT_TYPE_PROJECT:return 2;case Gt.EVENT_TYPE_SOURCE:return 4;case Gt.EVENT_TYPE_DESTINATION:return 5;default:return 0}}a.eventTypeToNumber=bt;function Bt(){return{height:void 0,width:void 0,framerate:void 0,colorSpace:void 0}}a.VideoRendering={encode(h,k=b.Writer.create()){return h.height!==void 0&&k.uint32(8).uint32(h.height),h.width!==void 0&&k.uint32(16).uint32(h.width),h.framerate!==void 0&&k.uint32(29).float(h.framerate),h.colorSpace!==void 0&&k.uint32(32).int32(vt(h.colorSpace)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Bt();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.height=_e.uint32();break;case 2:st.width=_e.uint32();break;case 3:st.framerate=_e.float();break;case 4:st.colorSpace=yt(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{height:wt(h.height)?Number(h.height):void 0,width:wt(h.width)?Number(h.width):void 0,framerate:wt(h.framerate)?Number(h.framerate):void 0,colorSpace:wt(h.colorSpace)?yt(h.colorSpace):void 0}},toJSON(h){const k={};return h.height!==void 0&&(k.height=Math.round(h.height)),h.width!==void 0&&(k.width=Math.round(h.width)),h.framerate!==void 0&&(k.framerate=h.framerate),h.colorSpace!==void 0&&(k.colorSpace=h.colorSpace!==void 0?pt(h.colorSpace):void 0),k},fromPartial(h){var k,_e,Et,st;const kt=Bt();return kt.height=(k=h.height)!==null&&k!==void 0?k:void 0,kt.width=(_e=h.width)!==null&&_e!==void 0?_e:void 0,kt.framerate=(Et=h.framerate)!==null&&Et!==void 0?Et:void 0,kt.colorSpace=(st=h.colorSpace)!==null&&st!==void 0?st:void 0,kt}};function Mt(){return{channelLayout:void 0}}a.AudioRendering={encode(h,k=b.Writer.create()){return h.channelLayout!==void 0&&k.uint32(8).int32(Nt(h.channelLayout)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Mt();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.channelLayout=ct(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{channelLayout:wt(h.channelLayout)?ct(h.channelLayout):void 0}},toJSON(h){const k={};return h.channelLayout!==void 0&&(k.channelLayout=h.channelLayout!==void 0?mt(h.channelLayout):void 0),k},fromPartial(h){var k;const _e=Mt();return _e.channelLayout=(k=h.channelLayout)!==null&&k!==void 0?k:void 0,_e}};function Jt(){return{video:void 0,audio:void 0,quality:void 0,targetLatency:void 0,complexity:void 0}}a.Rendering={encode(h,k=b.Writer.create()){return h.video!==void 0&&a.VideoRendering.encode(h.video,k.uint32(10).fork()).ldelim(),h.audio!==void 0&&a.AudioRendering.encode(h.audio,k.uint32(18).fork()).ldelim(),h.quality!==void 0&&k.uint32(24).int32(St(h.quality)),h.targetLatency!==void 0&&k.uint32(32).uint32(h.targetLatency),h.complexity!==void 0&&k.uint32(40).int32(h.complexity),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Jt();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.video=a.VideoRendering.decode(_e,_e.uint32());break;case 2:st.audio=a.AudioRendering.decode(_e,_e.uint32());break;case 3:st.quality=At(_e.int32());break;case 4:st.targetLatency=_e.uint32();break;case 5:st.complexity=_e.int32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{video:wt(h.video)?a.VideoRendering.fromJSON(h.video):void 0,audio:wt(h.audio)?a.AudioRendering.fromJSON(h.audio):void 0,quality:wt(h.quality)?At(h.quality):void 0,targetLatency:wt(h.targetLatency)?Number(h.targetLatency):void 0,complexity:wt(h.complexity)?Number(h.complexity):void 0}},toJSON(h){const k={};return h.video!==void 0&&(k.video=h.video?a.VideoRendering.toJSON(h.video):void 0),h.audio!==void 0&&(k.audio=h.audio?a.AudioRendering.toJSON(h.audio):void 0),h.quality!==void 0&&(k.quality=h.quality!==void 0?Pt(h.quality):void 0),h.targetLatency!==void 0&&(k.targetLatency=Math.round(h.targetLatency)),h.complexity!==void 0&&(k.complexity=Math.round(h.complexity)),k},fromPartial(h){var k,_e,Et;const st=Jt();return st.video=h.video!==void 0&&h.video!==null?a.VideoRendering.fromPartial(h.video):void 0,st.audio=h.audio!==void 0&&h.audio!==null?a.AudioRendering.fromPartial(h.audio):void 0,st.quality=(k=h.quality)!==null&&k!==void 0?k:void 0,st.targetLatency=(_e=h.targetLatency)!==null&&_e!==void 0?_e:void 0,st.complexity=(Et=h.complexity)!==null&&Et!==void 0?Et:void 0,st}};function hn(){return{mode:void 0,targetBitrate:void 0,maxKeyFrameInterval:void 0}}a.VideoCodecRateControl={encode(h,k=b.Writer.create()){return h.mode!==void 0&&k.uint32(8).int32(Vt(h.mode)),h.targetBitrate!==void 0&&k.uint32(16).uint32(h.targetBitrate),h.maxKeyFrameInterval!==void 0&&k.uint32(24).uint32(h.maxKeyFrameInterval),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=hn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.mode=rt(_e.int32());break;case 2:st.targetBitrate=_e.uint32();break;case 3:st.maxKeyFrameInterval=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{mode:wt(h.mode)?rt(h.mode):void 0,targetBitrate:wt(h.targetBitrate)?Number(h.targetBitrate):void 0,maxKeyFrameInterval:wt(h.maxKeyFrameInterval)?Number(h.maxKeyFrameInterval):void 0}},toJSON(h){const k={};return h.mode!==void 0&&(k.mode=h.mode!==void 0?ht(h.mode):void 0),h.targetBitrate!==void 0&&(k.targetBitrate=Math.round(h.targetBitrate)),h.maxKeyFrameInterval!==void 0&&(k.maxKeyFrameInterval=Math.round(h.maxKeyFrameInterval)),k},fromPartial(h){var k,_e,Et;const st=hn();return st.mode=(k=h.mode)!==null&&k!==void 0?k:void 0,st.targetBitrate=(_e=h.targetBitrate)!==null&&_e!==void 0?_e:void 0,st.maxKeyFrameInterval=(Et=h.maxKeyFrameInterval)!==null&&Et!==void 0?Et:void 0,st}};function bn(){return{codec:void 0,rateControl:void 0,profile:void 0}}a.VideoEncoding={encode(h,k=b.Writer.create()){return h.codec!==void 0&&k.uint32(8).int32(It(h.codec)),h.rateControl!==void 0&&a.VideoCodecRateControl.encode(h.rateControl,k.uint32(18).fork()).ldelim(),h.profile!==void 0&&k.uint32(32).int32(Dt(h.profile)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=bn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.codec=$t(_e.int32());break;case 2:st.rateControl=a.VideoCodecRateControl.decode(_e,_e.uint32());break;case 4:st.profile=zt(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{codec:wt(h.codec)?$t(h.codec):void 0,rateControl:wt(h.rateControl)?a.VideoCodecRateControl.fromJSON(h.rateControl):void 0,profile:wt(h.profile)?zt(h.profile):void 0}},toJSON(h){const k={};return h.codec!==void 0&&(k.codec=h.codec!==void 0?gt(h.codec):void 0),h.rateControl!==void 0&&(k.rateControl=h.rateControl?a.VideoCodecRateControl.toJSON(h.rateControl):void 0),h.profile!==void 0&&(k.profile=h.profile!==void 0?Ut(h.profile):void 0),k},fromPartial(h){var k,_e;const Et=bn();return Et.codec=(k=h.codec)!==null&&k!==void 0?k:void 0,Et.rateControl=h.rateControl!==void 0&&h.rateControl!==null?a.VideoCodecRateControl.fromPartial(h.rateControl):void 0,Et.profile=(_e=h.profile)!==null&&_e!==void 0?_e:void 0,Et}};function En(){return{codec:void 0}}a.AudioEncoding={encode(h,k=b.Writer.create()){return h.codec!==void 0&&k.uint32(8).int32(Ht(h.codec)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=En();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.codec=Kt(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{codec:wt(h.codec)?Kt(h.codec):void 0}},toJSON(h){const k={};return h.codec!==void 0&&(k.codec=h.codec!==void 0?Qt(h.codec):void 0),k},fromPartial(h){var k;const _e=En();return _e.codec=(k=h.codec)!==null&&k!==void 0?k:void 0,_e}};function mn(){return{video:void 0,audio:void 0}}a.Encoding={encode(h,k=b.Writer.create()){return h.video!==void 0&&a.VideoEncoding.encode(h.video,k.uint32(10).fork()).ldelim(),h.audio!==void 0&&a.AudioEncoding.encode(h.audio,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=mn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.video=a.VideoEncoding.decode(_e,_e.uint32());break;case 2:st.audio=a.AudioEncoding.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{video:wt(h.video)?a.VideoEncoding.fromJSON(h.video):void 0,audio:wt(h.audio)?a.AudioEncoding.fromJSON(h.audio):void 0}},toJSON(h){const k={};return h.video!==void 0&&(k.video=h.video?a.VideoEncoding.toJSON(h.video):void 0),h.audio!==void 0&&(k.audio=h.audio?a.AudioEncoding.toJSON(h.audio):void 0),k},fromPartial(h){const k=mn();return k.video=h.video!==void 0&&h.video!==null?a.VideoEncoding.fromPartial(h.video):void 0,k.audio=h.audio!==void 0&&h.audio!==null?a.AudioEncoding.fromPartial(h.audio):void 0,k}};function vn(){return{enabled:void 0,key:void 0,url:void 0,baseUrl:void 0}}a.SourceRtmpPushAddress={encode(h,k=b.Writer.create()){return h.enabled!==void 0&&k.uint32(8).bool(h.enabled),h.key!==void 0&&k.uint32(18).string(h.key),h.url!==void 0&&k.uint32(26).string(h.url),h.baseUrl!==void 0&&k.uint32(34).string(h.baseUrl),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=vn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.enabled=_e.bool();break;case 2:st.key=_e.string();break;case 3:st.url=_e.string();break;case 4:st.baseUrl=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{enabled:wt(h.enabled)?Boolean(h.enabled):void 0,key:wt(h.key)?String(h.key):void 0,url:wt(h.url)?String(h.url):void 0,baseUrl:wt(h.baseUrl)?String(h.baseUrl):void 0}},toJSON(h){const k={};return h.enabled!==void 0&&(k.enabled=h.enabled),h.key!==void 0&&(k.key=h.key),h.url!==void 0&&(k.url=h.url),h.baseUrl!==void 0&&(k.baseUrl=h.baseUrl),k},fromPartial(h){var k,_e,Et,st;const kt=vn();return kt.enabled=(k=h.enabled)!==null&&k!==void 0?k:void 0,kt.key=(_e=h.key)!==null&&_e!==void 0?_e:void 0,kt.url=(Et=h.url)!==null&&Et!==void 0?Et:void 0,kt.baseUrl=(st=h.baseUrl)!==null&&st!==void 0?st:void 0,kt}};function Rn(){return{enabled:void 0,streamId:void 0,url:void 0,baseUrl:void 0}}a.SrtPushAddress={encode(h,k=b.Writer.create()){return h.enabled!==void 0&&k.uint32(8).bool(h.enabled),h.streamId!==void 0&&k.uint32(18).string(h.streamId),h.url!==void 0&&k.uint32(26).string(h.url),h.baseUrl!==void 0&&k.uint32(34).string(h.baseUrl),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Rn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.enabled=_e.bool();break;case 2:st.streamId=_e.string();break;case 3:st.url=_e.string();break;case 4:st.baseUrl=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{enabled:wt(h.enabled)?Boolean(h.enabled):void 0,streamId:wt(h.streamId)?String(h.streamId):void 0,url:wt(h.url)?String(h.url):void 0,baseUrl:wt(h.baseUrl)?String(h.baseUrl):void 0}},toJSON(h){const k={};return h.enabled!==void 0&&(k.enabled=h.enabled),h.streamId!==void 0&&(k.streamId=h.streamId),h.url!==void 0&&(k.url=h.url),h.baseUrl!==void 0&&(k.baseUrl=h.baseUrl),k},fromPartial(h){var k,_e,Et,st;const kt=Rn();return kt.enabled=(k=h.enabled)!==null&&k!==void 0?k:void 0,kt.streamId=(_e=h.streamId)!==null&&_e!==void 0?_e:void 0,kt.url=(Et=h.url)!==null&&Et!==void 0?Et:void 0,kt.baseUrl=(st=h.baseUrl)!==null&&st!==void 0?st:void 0,kt}};function Cn(){return{url:""}}a.RtmpPullAddress={encode(h,k=b.Writer.create()){return h.url!==""&&k.uint32(10).string(h.url),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Cn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.url=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{url:wt(h.url)?String(h.url):""}},toJSON(h){const k={};return h.url!==void 0&&(k.url=h.url),k},fromPartial(h){var k;const _e=Cn();return _e.url=(k=h.url)!==null&&k!==void 0?k:"",_e}};function Pn(){return{rtmpPush:void 0,srtPush:void 0,rtmpPull:void 0}}a.SourceAddress={encode(h,k=b.Writer.create()){return h.rtmpPush!==void 0&&a.SourceRtmpPushAddress.encode(h.rtmpPush,k.uint32(10).fork()).ldelim(),h.srtPush!==void 0&&a.SrtPushAddress.encode(h.srtPush,k.uint32(18).fork()).ldelim(),h.rtmpPull!==void 0&&a.RtmpPullAddress.encode(h.rtmpPull,k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Pn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.rtmpPush=a.SourceRtmpPushAddress.decode(_e,_e.uint32());break;case 2:st.srtPush=a.SrtPushAddress.decode(_e,_e.uint32());break;case 3:st.rtmpPull=a.RtmpPullAddress.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{rtmpPush:wt(h.rtmpPush)?a.SourceRtmpPushAddress.fromJSON(h.rtmpPush):void 0,srtPush:wt(h.srtPush)?a.SrtPushAddress.fromJSON(h.srtPush):void 0,rtmpPull:wt(h.rtmpPull)?a.RtmpPullAddress.fromJSON(h.rtmpPull):void 0}},toJSON(h){const k={};return h.rtmpPush!==void 0&&(k.rtmpPush=h.rtmpPush?a.SourceRtmpPushAddress.toJSON(h.rtmpPush):void 0),h.srtPush!==void 0&&(k.srtPush=h.srtPush?a.SrtPushAddress.toJSON(h.srtPush):void 0),h.rtmpPull!==void 0&&(k.rtmpPull=h.rtmpPull?a.RtmpPullAddress.toJSON(h.rtmpPull):void 0),k},fromPartial(h){const k=Pn();return k.rtmpPush=h.rtmpPush!==void 0&&h.rtmpPush!==null?a.SourceRtmpPushAddress.fromPartial(h.rtmpPush):void 0,k.srtPush=h.srtPush!==void 0&&h.srtPush!==null?a.SrtPushAddress.fromPartial(h.srtPush):void 0,k.rtmpPull=h.rtmpPull!==void 0&&h.rtmpPull!==null?a.RtmpPullAddress.fromPartial(h.rtmpPull):void 0,k}};function Nn(){return{key:void 0,url:""}}a.DestinationRtmpPushAddress={encode(h,k=b.Writer.create()){return h.key!==void 0&&k.uint32(10).string(h.key),h.url!==""&&k.uint32(18).string(h.url),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Nn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.key=_e.string();break;case 2:st.url=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{key:wt(h.key)?String(h.key):void 0,url:wt(h.url)?String(h.url):""}},toJSON(h){const k={};return h.key!==void 0&&(k.key=h.key),h.url!==void 0&&(k.url=h.url),k},fromPartial(h){var k,_e;const Et=Nn();return Et.key=(k=h.key)!==null&&k!==void 0?k:void 0,Et.url=(_e=h.url)!==null&&_e!==void 0?_e:"",Et}};function wn(){return{appId:"",channelId:"",userId:""}}a.DestinationAgoraPushAddress={encode(h,k=b.Writer.create()){return h.appId!==""&&k.uint32(10).string(h.appId),h.channelId!==""&&k.uint32(18).string(h.channelId),h.userId!==""&&k.uint32(26).string(h.userId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=wn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.appId=_e.string();break;case 2:st.channelId=_e.string();break;case 3:st.userId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{appId:wt(h.appId)?String(h.appId):"",channelId:wt(h.channelId)?String(h.channelId):"",userId:wt(h.userId)?String(h.userId):""}},toJSON(h){const k={};return h.appId!==void 0&&(k.appId=h.appId),h.channelId!==void 0&&(k.channelId=h.channelId),h.userId!==void 0&&(k.userId=h.userId),k},fromPartial(h){var k,_e,Et;const st=wn();return st.appId=(k=h.appId)!==null&&k!==void 0?k:"",st.channelId=(_e=h.channelId)!==null&&_e!==void 0?_e:"",st.userId=(Et=h.userId)!==null&&Et!==void 0?Et:"",st}};function yn(){return{playlistCount:void 0,fileCount:void 0}}a.HlsLifecycleLive={encode(h,k=b.Writer.create()){return h.playlistCount!==void 0&&k.uint32(8).int32(h.playlistCount),h.fileCount!==void 0&&k.uint32(16).int32(h.fileCount),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=yn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.playlistCount=_e.int32();break;case 2:st.fileCount=_e.int32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{playlistCount:wt(h.playlistCount)?Number(h.playlistCount):void 0,fileCount:wt(h.fileCount)?Number(h.fileCount):void 0}},toJSON(h){const k={};return h.playlistCount!==void 0&&(k.playlistCount=Math.round(h.playlistCount)),h.fileCount!==void 0&&(k.fileCount=Math.round(h.fileCount)),k},fromPartial(h){var k,_e;const Et=yn();return Et.playlistCount=(k=h.playlistCount)!==null&&k!==void 0?k:void 0,Et.fileCount=(_e=h.fileCount)!==null&&_e!==void 0?_e:void 0,Et}};function an(){return{maxDuration:void 0}}a.HlsLifecycleVod={encode(h,k=b.Writer.create()){return h.maxDuration!==void 0&&k.uint32(8).int32(h.maxDuration),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=an();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.maxDuration=_e.int32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0}},toJSON(h){const k={};return h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),k},fromPartial(h){var k;const _e=an();return _e.maxDuration=(k=h.maxDuration)!==null&&k!==void 0?k:void 0,_e}};function Fn(){return{vod:void 0,live:void 0}}a.HlsLifecycle={encode(h,k=b.Writer.create()){return h.vod!==void 0&&a.HlsLifecycleVod.encode(h.vod,k.uint32(10).fork()).ldelim(),h.live!==void 0&&a.HlsLifecycleLive.encode(h.live,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Fn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.vod=a.HlsLifecycleVod.decode(_e,_e.uint32());break;case 2:st.live=a.HlsLifecycleLive.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{vod:wt(h.vod)?a.HlsLifecycleVod.fromJSON(h.vod):void 0,live:wt(h.live)?a.HlsLifecycleLive.fromJSON(h.live):void 0}},toJSON(h){const k={};return h.vod!==void 0&&(k.vod=h.vod?a.HlsLifecycleVod.toJSON(h.vod):void 0),h.live!==void 0&&(k.live=h.live?a.HlsLifecycleLive.toJSON(h.live):void 0),k},fromPartial(h){const k=Fn();return k.vod=h.vod!==void 0&&h.vod!==null?a.HlsLifecycleVod.fromPartial(h.vod):void 0,k.live=h.live!==void 0&&h.live!==null?a.HlsLifecycleLive.fromPartial(h.live):void 0,k}};function Hn(){return{lifecycle:void 0,segmentDuration:void 0}}a.HlsPackaging={encode(h,k=b.Writer.create()){return h.lifecycle!==void 0&&a.HlsLifecycle.encode(h.lifecycle,k.uint32(10).fork()).ldelim(),h.segmentDuration!==void 0&&k.uint32(16).int32(h.segmentDuration),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Hn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.lifecycle=a.HlsLifecycle.decode(_e,_e.uint32());break;case 2:st.segmentDuration=_e.int32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{lifecycle:wt(h.lifecycle)?a.HlsLifecycle.fromJSON(h.lifecycle):void 0,segmentDuration:wt(h.segmentDuration)?Number(h.segmentDuration):void 0}},toJSON(h){const k={};return h.lifecycle!==void 0&&(k.lifecycle=h.lifecycle?a.HlsLifecycle.toJSON(h.lifecycle):void 0),h.segmentDuration!==void 0&&(k.segmentDuration=Math.round(h.segmentDuration)),k},fromPartial(h){var k;const _e=Hn();return _e.lifecycle=h.lifecycle!==void 0&&h.lifecycle!==null?a.HlsLifecycle.fromPartial(h.lifecycle):void 0,_e.segmentDuration=(k=h.segmentDuration)!==null&&k!==void 0?k:void 0,_e}};function zn(){return{hls:void 0}}a.ObjectStoragePackaging={encode(h,k=b.Writer.create()){return h.hls!==void 0&&a.HlsPackaging.encode(h.hls,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=zn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.hls=a.HlsPackaging.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{hls:wt(h.hls)?a.HlsPackaging.fromJSON(h.hls):void 0}},toJSON(h){const k={};return h.hls!==void 0&&(k.hls=h.hls?a.HlsPackaging.toJSON(h.hls):void 0),k},fromPartial(h){const k=zn();return k.hls=h.hls!==void 0&&h.hls!==null?a.HlsPackaging.fromPartial(h.hls):void 0,k}};function jn(){return{region:"",bucket:"",prefix:void 0,accessKey:"",secretKey:"",token:void 0,tokenDuration:void 0,acl:void 0,endpoint:void 0,packaging:void 0}}a.S3StorageAddress={encode(h,k=b.Writer.create()){return h.region!==""&&k.uint32(10).string(h.region),h.bucket!==""&&k.uint32(18).string(h.bucket),h.prefix!==void 0&&k.uint32(26).string(h.prefix),h.accessKey!==""&&k.uint32(34).string(h.accessKey),h.secretKey!==""&&k.uint32(42).string(h.secretKey),h.token!==void 0&&k.uint32(50).string(h.token),h.tokenDuration!==void 0&&k.uint32(56).int32(h.tokenDuration),h.acl!==void 0&&k.uint32(64).int32(ln(h.acl)),h.endpoint!==void 0&&k.uint32(74).string(h.endpoint),h.packaging!==void 0&&a.ObjectStoragePackaging.encode(h.packaging,k.uint32(82).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=jn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.region=_e.string();break;case 2:st.bucket=_e.string();break;case 3:st.prefix=_e.string();break;case 4:st.accessKey=_e.string();break;case 5:st.secretKey=_e.string();break;case 6:st.token=_e.string();break;case 7:st.tokenDuration=_e.int32();break;case 8:st.acl=jt(_e.int32());break;case 9:st.endpoint=_e.string();break;case 10:st.packaging=a.ObjectStoragePackaging.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{region:wt(h.region)?String(h.region):"",bucket:wt(h.bucket)?String(h.bucket):"",prefix:wt(h.prefix)?String(h.prefix):void 0,accessKey:wt(h.accessKey)?String(h.accessKey):"",secretKey:wt(h.secretKey)?String(h.secretKey):"",token:wt(h.token)?String(h.token):void 0,tokenDuration:wt(h.tokenDuration)?Number(h.tokenDuration):void 0,acl:wt(h.acl)?jt(h.acl):void 0,endpoint:wt(h.endpoint)?String(h.endpoint):void 0,packaging:wt(h.packaging)?a.ObjectStoragePackaging.fromJSON(h.packaging):void 0}},toJSON(h){const k={};return h.region!==void 0&&(k.region=h.region),h.bucket!==void 0&&(k.bucket=h.bucket),h.prefix!==void 0&&(k.prefix=h.prefix),h.accessKey!==void 0&&(k.accessKey=h.accessKey),h.secretKey!==void 0&&(k.secretKey=h.secretKey),h.token!==void 0&&(k.token=h.token),h.tokenDuration!==void 0&&(k.tokenDuration=Math.round(h.tokenDuration)),h.acl!==void 0&&(k.acl=h.acl!==void 0?tn(h.acl):void 0),h.endpoint!==void 0&&(k.endpoint=h.endpoint),h.packaging!==void 0&&(k.packaging=h.packaging?a.ObjectStoragePackaging.toJSON(h.packaging):void 0),k},fromPartial(h){var k,_e,Et,st,kt,xt,un,In,Tn;const cn=jn();return cn.region=(k=h.region)!==null&&k!==void 0?k:"",cn.bucket=(_e=h.bucket)!==null&&_e!==void 0?_e:"",cn.prefix=(Et=h.prefix)!==null&&Et!==void 0?Et:void 0,cn.accessKey=(st=h.accessKey)!==null&&st!==void 0?st:"",cn.secretKey=(kt=h.secretKey)!==null&&kt!==void 0?kt:"",cn.token=(xt=h.token)!==null&&xt!==void 0?xt:void 0,cn.tokenDuration=(un=h.tokenDuration)!==null&&un!==void 0?un:void 0,cn.acl=(In=h.acl)!==null&&In!==void 0?In:void 0,cn.endpoint=(Tn=h.endpoint)!==null&&Tn!==void 0?Tn:void 0,cn.packaging=h.packaging!==void 0&&h.packaging!==null?a.ObjectStoragePackaging.fromPartial(h.packaging):void 0,cn}};function Yn(){return{rtmpPush:void 0,agora:void 0,s3Storage:void 0}}a.DestinationAddress={encode(h,k=b.Writer.create()){return h.rtmpPush!==void 0&&a.DestinationRtmpPushAddress.encode(h.rtmpPush,k.uint32(10).fork()).ldelim(),h.agora!==void 0&&a.DestinationAgoraPushAddress.encode(h.agora,k.uint32(18).fork()).ldelim(),h.s3Storage!==void 0&&a.S3StorageAddress.encode(h.s3Storage,k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Yn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.rtmpPush=a.DestinationRtmpPushAddress.decode(_e,_e.uint32());break;case 2:st.agora=a.DestinationAgoraPushAddress.decode(_e,_e.uint32());break;case 3:st.s3Storage=a.S3StorageAddress.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{rtmpPush:wt(h.rtmpPush)?a.DestinationRtmpPushAddress.fromJSON(h.rtmpPush):void 0,agora:wt(h.agora)?a.DestinationAgoraPushAddress.fromJSON(h.agora):void 0,s3Storage:wt(h.s3Storage)?a.S3StorageAddress.fromJSON(h.s3Storage):void 0}},toJSON(h){const k={};return h.rtmpPush!==void 0&&(k.rtmpPush=h.rtmpPush?a.DestinationRtmpPushAddress.toJSON(h.rtmpPush):void 0),h.agora!==void 0&&(k.agora=h.agora?a.DestinationAgoraPushAddress.toJSON(h.agora):void 0),h.s3Storage!==void 0&&(k.s3Storage=h.s3Storage?a.S3StorageAddress.toJSON(h.s3Storage):void 0),k},fromPartial(h){const k=Yn();return k.rtmpPush=h.rtmpPush!==void 0&&h.rtmpPush!==null?a.DestinationRtmpPushAddress.fromPartial(h.rtmpPush):void 0,k.agora=h.agora!==void 0&&h.agora!==null?a.DestinationAgoraPushAddress.fromPartial(h.agora):void 0,k.s3Storage=h.s3Storage!==void 0&&h.s3Storage!==null?a.S3StorageAddress.fromPartial(h.s3Storage):void 0,k}};function xn(){return{sourceId:"",start:void 0,stop:void 0}}a.SourceTrigger={encode(h,k=b.Writer.create()){return h.sourceId!==""&&k.uint32(10).string(h.sourceId),h.start!==void 0&&k.uint32(16).int32(On(h.start)),h.stop!==void 0&&k.uint32(24).int32(On(h.stop)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=xn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.sourceId=_e.string();break;case 2:st.start=en(_e.int32());break;case 3:st.stop=en(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{sourceId:wt(h.sourceId)?String(h.sourceId):"",start:wt(h.start)?en(h.start):void 0,stop:wt(h.stop)?en(h.stop):void 0}},toJSON(h){const k={};return h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.start!==void 0&&(k.start=h.start!==void 0?fn(h.start):void 0),h.stop!==void 0&&(k.stop=h.stop!==void 0?fn(h.stop):void 0),k},fromPartial(h){var k,_e,Et;const st=xn();return st.sourceId=(k=h.sourceId)!==null&&k!==void 0?k:"",st.start=(_e=h.start)!==null&&_e!==void 0?_e:void 0,st.stop=(Et=h.stop)!==null&&Et!==void 0?Et:void 0,st}};function Kn(){return{stop:void 0}}a.WebRtcTrigger={encode(h,k=b.Writer.create()){return h.stop!==void 0&&k.uint32(24).int32(On(h.stop)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Kn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 3:st.stop=en(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{stop:wt(h.stop)?en(h.stop):void 0}},toJSON(h){const k={};return h.stop!==void 0&&(k.stop=h.stop!==void 0?fn(h.stop):void 0),k},fromPartial(h){var k;const _e=Kn();return _e.stop=(k=h.stop)!==null&&k!==void 0?k:void 0,_e}};function Qn(){return{source:void 0}}a.ProjectTrigger={encode(h,k=b.Writer.create()){return h.source!==void 0&&a.SourceTrigger.encode(h.source,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Qn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.source=a.SourceTrigger.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{source:wt(h.source)?a.SourceTrigger.fromJSON(h.source):void 0}},toJSON(h){const k={};return h.source!==void 0&&(k.source=h.source?a.SourceTrigger.toJSON(h.source):void 0),k},fromPartial(h){const k=Qn();return k.source=h.source!==void 0&&h.source!==null?a.SourceTrigger.fromPartial(h.source):void 0,k}};function Xn(){return{enabled:void 0,url:void 0}}a.PreviewHlsPullAddress={encode(h,k=b.Writer.create()){return h.enabled!==void 0&&k.uint32(8).bool(h.enabled),h.url!==void 0&&k.uint32(18).string(h.url),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Xn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.enabled=_e.bool();break;case 2:st.url=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{enabled:wt(h.enabled)?Boolean(h.enabled):void 0,url:wt(h.url)?String(h.url):void 0}},toJSON(h){const k={};return h.enabled!==void 0&&(k.enabled=h.enabled),h.url!==void 0&&(k.url=h.url),k},fromPartial(h){var k,_e;const Et=Xn();return Et.enabled=(k=h.enabled)!==null&&k!==void 0?k:void 0,Et.url=(_e=h.url)!==null&&_e!==void 0?_e:void 0,Et}};function Zn(){return{enabled:void 0,displayName:void 0,participantId:void 0}}a.PreviewWebRtcAddress={encode(h,k=b.Writer.create()){return h.enabled!==void 0&&k.uint32(8).bool(h.enabled),h.displayName!==void 0&&k.uint32(18).string(h.displayName),h.participantId!==void 0&&k.uint32(26).string(h.participantId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Zn();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.enabled=_e.bool();break;case 2:st.displayName=_e.string();break;case 3:st.participantId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{enabled:wt(h.enabled)?Boolean(h.enabled):void 0,displayName:wt(h.displayName)?String(h.displayName):void 0,participantId:wt(h.participantId)?String(h.participantId):void 0}},toJSON(h){const k={};return h.enabled!==void 0&&(k.enabled=h.enabled),h.displayName!==void 0&&(k.displayName=h.displayName),h.participantId!==void 0&&(k.participantId=h.participantId),k},fromPartial(h){var k,_e,Et;const st=Zn();return st.enabled=(k=h.enabled)!==null&&k!==void 0?k:void 0,st.displayName=(_e=h.displayName)!==null&&_e!==void 0?_e:void 0,st.participantId=(Et=h.participantId)!==null&&Et!==void 0?Et:void 0,st}};function er(){return{webrtc:void 0}}a.PreviewAddress={encode(h,k=b.Writer.create()){return h.webrtc!==void 0&&a.PreviewWebRtcAddress.encode(h.webrtc,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=er();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 2:st.webrtc=a.PreviewWebRtcAddress.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{webrtc:wt(h.webrtc)?a.PreviewWebRtcAddress.fromJSON(h.webrtc):void 0}},toJSON(h){const k={};return h.webrtc!==void 0&&(k.webrtc=h.webrtc?a.PreviewWebRtcAddress.toJSON(h.webrtc):void 0),k},fromPartial(h){const k=er();return k.webrtc=h.webrtc!==void 0&&h.webrtc!==null?a.PreviewWebRtcAddress.fromPartial(h.webrtc):void 0,k}};function tr(){return{rendererUrl:void 0,version:void 0}}a.StudioSdkComposition={encode(h,k=b.Writer.create()){return h.rendererUrl!==void 0&&k.uint32(10).string(h.rendererUrl),h.version!==void 0&&k.uint32(18).string(h.version),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=tr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.rendererUrl=_e.string();break;case 2:st.version=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{rendererUrl:wt(h.rendererUrl)?String(h.rendererUrl):void 0,version:wt(h.version)?String(h.version):void 0}},toJSON(h){const k={};return h.rendererUrl!==void 0&&(k.rendererUrl=h.rendererUrl),h.version!==void 0&&(k.version=h.version),k},fromPartial(h){var k,_e;const Et=tr();return Et.rendererUrl=(k=h.rendererUrl)!==null&&k!==void 0?k:void 0,Et.version=(_e=h.version)!==null&&_e!==void 0?_e:void 0,Et}};function nr(){return{rendererUrl:void 0,selectedLayoutId:void 0,debug:void 0}}a.SceneComposition={encode(h,k=b.Writer.create()){return h.rendererUrl!==void 0&&k.uint32(10).string(h.rendererUrl),h.selectedLayoutId!==void 0&&k.uint32(18).string(h.selectedLayoutId),h.debug!==void 0&&k.uint32(24).bool(h.debug),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=nr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.rendererUrl=_e.string();break;case 2:st.selectedLayoutId=_e.string();break;case 3:st.debug=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{rendererUrl:wt(h.rendererUrl)?String(h.rendererUrl):void 0,selectedLayoutId:wt(h.selectedLayoutId)?String(h.selectedLayoutId):void 0,debug:wt(h.debug)?Boolean(h.debug):void 0}},toJSON(h){const k={};return h.rendererUrl!==void 0&&(k.rendererUrl=h.rendererUrl),h.selectedLayoutId!==void 0&&(k.selectedLayoutId=h.selectedLayoutId),h.debug!==void 0&&(k.debug=h.debug),k},fromPartial(h){var k,_e,Et;const st=nr();return st.rendererUrl=(k=h.rendererUrl)!==null&&k!==void 0?k:void 0,st.selectedLayoutId=(_e=h.selectedLayoutId)!==null&&_e!==void 0?_e:void 0,st.debug=(Et=h.debug)!==null&&Et!==void 0?Et:void 0,st}};function rr(){return{url:""}}a.ExternalComposition={encode(h,k=b.Writer.create()){return h.url!==""&&k.uint32(10).string(h.url),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=rr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.url=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{url:wt(h.url)?String(h.url):""}},toJSON(h){const k={};return h.url!==void 0&&(k.url=h.url),k},fromPartial(h){var k;const _e=rr();return _e.url=(k=h.url)!==null&&k!==void 0?k:"",_e}};function ir(){return{external:void 0,studioSdk:void 0,scene:void 0}}a.Composition={encode(h,k=b.Writer.create()){return h.external!==void 0&&a.ExternalComposition.encode(h.external,k.uint32(10).fork()).ldelim(),h.studioSdk!==void 0&&a.StudioSdkComposition.encode(h.studioSdk,k.uint32(18).fork()).ldelim(),h.scene!==void 0&&a.SceneComposition.encode(h.scene,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ir();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.external=a.ExternalComposition.decode(_e,_e.uint32());break;case 2:st.studioSdk=a.StudioSdkComposition.decode(_e,_e.uint32());break;case 4:st.scene=a.SceneComposition.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{external:wt(h.external)?a.ExternalComposition.fromJSON(h.external):void 0,studioSdk:wt(h.studioSdk)?a.StudioSdkComposition.fromJSON(h.studioSdk):void 0,scene:wt(h.scene)?a.SceneComposition.fromJSON(h.scene):void 0}},toJSON(h){const k={};return h.external!==void 0&&(k.external=h.external?a.ExternalComposition.toJSON(h.external):void 0),h.studioSdk!==void 0&&(k.studioSdk=h.studioSdk?a.StudioSdkComposition.toJSON(h.studioSdk):void 0),h.scene!==void 0&&(k.scene=h.scene?a.SceneComposition.toJSON(h.scene):void 0),k},fromPartial(h){const k=ir();return k.external=h.external!==void 0&&h.external!==null?a.ExternalComposition.fromPartial(h.external):void 0,k.studioSdk=h.studioSdk!==void 0&&h.studioSdk!==null?a.StudioSdkComposition.fromPartial(h.studioSdk):void 0,k.scene=h.scene!==void 0&&h.scene!==null?a.SceneComposition.fromPartial(h.scene):void 0,k}};function or(){return{enabled:void 0}}a.HostedWebRtc={encode(h,k=b.Writer.create()){return h.enabled!==void 0&&k.uint32(8).bool(h.enabled),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=or();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.enabled=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{enabled:wt(h.enabled)?Boolean(h.enabled):void 0}},toJSON(h){const k={};return h.enabled!==void 0&&(k.enabled=h.enabled),k},fromPartial(h){var k;const _e=or();return _e.enabled=(k=h.enabled)!==null&&k!==void 0?k:void 0,_e}};function ar(){return{hosted:void 0}}a.WebRtc={encode(h,k=b.Writer.create()){return h.hosted!==void 0&&a.HostedWebRtc.encode(h.hosted,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ar();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.hosted=a.HostedWebRtc.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{hosted:wt(h.hosted)?a.HostedWebRtc.fromJSON(h.hosted):void 0}},toJSON(h){const k={};return h.hosted!==void 0&&(k.hosted=h.hosted?a.HostedWebRtc.toJSON(h.hosted):void 0),k},fromPartial(h){const k=ar();return k.hosted=h.hosted!==void 0&&h.hosted!==null?a.HostedWebRtc.fromPartial(h.hosted):void 0,k}};function sr(){return{accessToken:"",participantId:void 0}}a.WebRtcAccess={encode(h,k=b.Writer.create()){return h.accessToken!==""&&k.uint32(10).string(h.accessToken),h.participantId!==void 0&&k.uint32(26).string(h.participantId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=sr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.accessToken=_e.string();break;case 3:st.participantId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{accessToken:wt(h.accessToken)?String(h.accessToken):"",participantId:wt(h.participantId)?String(h.participantId):void 0}},toJSON(h){const k={};return h.accessToken!==void 0&&(k.accessToken=h.accessToken),h.participantId!==void 0&&(k.participantId=h.participantId),k},fromPartial(h){var k,_e;const Et=sr();return Et.accessToken=(k=h.accessToken)!==null&&k!==void 0?k:"",Et.participantId=(_e=h.participantId)!==null&&_e!==void 0?_e:void 0,Et}};function ur(){return{latitude:0,longitude:0}}a.LatLong={encode(h,k=b.Writer.create()){return h.latitude!==0&&k.uint32(9).double(h.latitude),h.longitude!==0&&k.uint32(17).double(h.longitude),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ur();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.latitude=_e.double();break;case 2:st.longitude=_e.double();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{latitude:wt(h.latitude)?Number(h.latitude):0,longitude:wt(h.longitude)?Number(h.longitude):0}},toJSON(h){const k={};return h.latitude!==void 0&&(k.latitude=h.latitude),h.longitude!==void 0&&(k.longitude=h.longitude),k},fromPartial(h){var k,_e;const Et=ur();return Et.latitude=(k=h.latitude)!==null&&k!==void 0?k:0,Et.longitude=(_e=h.longitude)!==null&&_e!==void 0?_e:0,Et}};function dr(){return{collectionId:"",projectId:"",broadcastId:void 0,duration:void 0,start:void 0,stop:void 0,phase:at.PROJECT_BROADCAST_PHASE_UNSPECIFIED,region:void 0,datacenter:void 0}}a.ProjectBroadcastStatus={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.broadcastId!==void 0&&k.uint32(26).string(h.broadcastId),h.duration!==void 0&&k.uint32(32).uint32(h.duration),h.start!==void 0&&$.Timestamp.encode(qn(h.start),k.uint32(42).fork()).ldelim(),h.stop!==void 0&&$.Timestamp.encode(qn(h.stop),k.uint32(50).fork()).ldelim(),h.phase!==at.PROJECT_BROADCAST_PHASE_UNSPECIFIED&&k.uint32(56).int32(Wt(h.phase)),h.region!==void 0&&k.uint32(64).int32(Mn(h.region)),h.datacenter!==void 0&&k.uint32(74).string(h.datacenter),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=dr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.broadcastId=_e.string();break;case 4:st.duration=_e.uint32();break;case 5:st.start=Wn($.Timestamp.decode(_e,_e.uint32()));break;case 6:st.stop=Wn($.Timestamp.decode(_e,_e.uint32()));break;case 7:st.phase=_t(_e.int32());break;case 8:st.region=kn(_e.int32());break;case 9:st.datacenter=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",broadcastId:wt(h.broadcastId)?String(h.broadcastId):void 0,duration:wt(h.duration)?Number(h.duration):void 0,start:wt(h.start)?String(h.start):void 0,stop:wt(h.stop)?String(h.stop):void 0,phase:wt(h.phase)?_t(h.phase):at.PROJECT_BROADCAST_PHASE_UNSPECIFIED,region:wt(h.region)?kn(h.region):void 0,datacenter:wt(h.datacenter)?String(h.datacenter):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.broadcastId!==void 0&&(k.broadcastId=h.broadcastId),h.duration!==void 0&&(k.duration=Math.round(h.duration)),h.start!==void 0&&(k.start=h.start),h.stop!==void 0&&(k.stop=h.stop),h.phase!==void 0&&(k.phase=Lt(h.phase)),h.region!==void 0&&(k.region=h.region!==void 0?An(h.region):void 0),h.datacenter!==void 0&&(k.datacenter=h.datacenter),k},fromPartial(h){var k,_e,Et,st,kt,xt,un,In,Tn;const cn=dr();return cn.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",cn.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",cn.broadcastId=(Et=h.broadcastId)!==null&&Et!==void 0?Et:void 0,cn.duration=(st=h.duration)!==null&&st!==void 0?st:void 0,cn.start=(kt=h.start)!==null&&kt!==void 0?kt:void 0,cn.stop=(xt=h.stop)!==null&&xt!==void 0?xt:void 0,cn.phase=(un=h.phase)!==null&&un!==void 0?un:at.PROJECT_BROADCAST_PHASE_UNSPECIFIED,cn.region=(In=h.region)!==null&&In!==void 0?In:void 0,cn.datacenter=(Tn=h.datacenter)!==null&&Tn!==void 0?Tn:void 0,cn}};function cr(){return{collectionId:"",sourceId:"",metadata:void 0,preview:void 0,address:void 0}}a.Source={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(26).fork()).ldelim(),h.preview!==void 0&&a.PreviewAddress.encode(h.preview,k.uint32(34).fork()).ldelim(),h.address!==void 0&&a.SourceAddress.encode(h.address,k.uint32(50).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=cr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;case 3:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 4:st.preview=a.PreviewAddress.decode(_e,_e.uint32());break;case 6:st.address=a.SourceAddress.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,preview:wt(h.preview)?a.PreviewAddress.fromJSON(h.preview):void 0,address:wt(h.address)?a.SourceAddress.fromJSON(h.address):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.metadata!==void 0&&(k.metadata=h.metadata),h.preview!==void 0&&(k.preview=h.preview?a.PreviewAddress.toJSON(h.preview):void 0),h.address!==void 0&&(k.address=h.address?a.SourceAddress.toJSON(h.address):void 0),k},fromPartial(h){var k,_e,Et;const st=cr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",st.metadata=(Et=h.metadata)!==null&&Et!==void 0?Et:void 0,st.preview=h.preview!==void 0&&h.preview!==null?a.PreviewAddress.fromPartial(h.preview):void 0,st.address=h.address!==void 0&&h.address!==null?a.SourceAddress.fromPartial(h.address):void 0,st}};function lr(){return{collectionId:"",projectId:"",destinationId:"",metadata:void 0,enabled:void 0,address:void 0,timeout:void 0}}a.Destination={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(34).fork()).ldelim(),h.enabled!==void 0&&k.uint32(40).bool(h.enabled),h.address!==void 0&&a.DestinationAddress.encode(h.address,k.uint32(50).fork()).ldelim(),h.timeout!==void 0&&k.uint32(56).uint32(h.timeout),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=lr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;case 4:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 5:st.enabled=_e.bool();break;case 6:st.address=a.DestinationAddress.decode(_e,_e.uint32());break;case 7:st.timeout=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,enabled:wt(h.enabled)?Boolean(h.enabled):void 0,address:wt(h.address)?a.DestinationAddress.fromJSON(h.address):void 0,timeout:wt(h.timeout)?Number(h.timeout):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),h.metadata!==void 0&&(k.metadata=h.metadata),h.enabled!==void 0&&(k.enabled=h.enabled),h.address!==void 0&&(k.address=h.address?a.DestinationAddress.toJSON(h.address):void 0),h.timeout!==void 0&&(k.timeout=Math.round(h.timeout)),k},fromPartial(h){var k,_e,Et,st,kt,xt;const un=lr();return un.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",un.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",un.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",un.metadata=(st=h.metadata)!==null&&st!==void 0?st:void 0,un.enabled=(kt=h.enabled)!==null&&kt!==void 0?kt:void 0,un.address=h.address!==void 0&&h.address!==null?a.DestinationAddress.fromPartial(h.address):void 0,un.timeout=(xt=h.timeout)!==null&&xt!==void 0?xt:void 0,un}};function fr(){return{collectionId:"",projectId:"",metadata:void 0,rendering:void 0,encoding:void 0,sources:[],destinations:[],composition:void 0,maxDuration:void 0,webrtc:void 0,triggers:[],location:void 0,guestCodes:[]}}a.Project={encode(h,k=b.Writer.create()){h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(26).fork()).ldelim(),h.rendering!==void 0&&a.Rendering.encode(h.rendering,k.uint32(34).fork()).ldelim(),h.encoding!==void 0&&a.Encoding.encode(h.encoding,k.uint32(42).fork()).ldelim();for(const _e of h.sources)a.Source.encode(_e,k.uint32(50).fork()).ldelim();for(const _e of h.destinations)a.Destination.encode(_e,k.uint32(58).fork()).ldelim();h.composition!==void 0&&a.Composition.encode(h.composition,k.uint32(66).fork()).ldelim(),h.maxDuration!==void 0&&k.uint32(72).uint32(h.maxDuration),h.webrtc!==void 0&&a.WebRtc.encode(h.webrtc,k.uint32(82).fork()).ldelim();for(const _e of h.triggers)a.ProjectTrigger.encode(_e,k.uint32(90).fork()).ldelim();h.location!==void 0&&a.LatLong.encode(h.location,k.uint32(98).fork()).ldelim();for(const _e of h.guestCodes)a.GuestCode.encode(_e,k.uint32(106).fork()).ldelim();return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=fr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 4:st.rendering=a.Rendering.decode(_e,_e.uint32());break;case 5:st.encoding=a.Encoding.decode(_e,_e.uint32());break;case 6:st.sources.push(a.Source.decode(_e,_e.uint32()));break;case 7:st.destinations.push(a.Destination.decode(_e,_e.uint32()));break;case 8:st.composition=a.Composition.decode(_e,_e.uint32());break;case 9:st.maxDuration=_e.uint32();break;case 10:st.webrtc=a.WebRtc.decode(_e,_e.uint32());break;case 11:st.triggers.push(a.ProjectTrigger.decode(_e,_e.uint32()));break;case 12:st.location=a.LatLong.decode(_e,_e.uint32());break;case 13:st.guestCodes.push(a.GuestCode.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,rendering:wt(h.rendering)?a.Rendering.fromJSON(h.rendering):void 0,encoding:wt(h.encoding)?a.Encoding.fromJSON(h.encoding):void 0,sources:Array.isArray(h==null?void 0:h.sources)?h.sources.map(k=>a.Source.fromJSON(k)):[],destinations:Array.isArray(h==null?void 0:h.destinations)?h.destinations.map(k=>a.Destination.fromJSON(k)):[],composition:wt(h.composition)?a.Composition.fromJSON(h.composition):void 0,maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0,webrtc:wt(h.webrtc)?a.WebRtc.fromJSON(h.webrtc):void 0,triggers:Array.isArray(h==null?void 0:h.triggers)?h.triggers.map(k=>a.ProjectTrigger.fromJSON(k)):[],location:wt(h.location)?a.LatLong.fromJSON(h.location):void 0,guestCodes:Array.isArray(h==null?void 0:h.guestCodes)?h.guestCodes.map(k=>a.GuestCode.fromJSON(k)):[]}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.metadata!==void 0&&(k.metadata=h.metadata),h.rendering!==void 0&&(k.rendering=h.rendering?a.Rendering.toJSON(h.rendering):void 0),h.encoding!==void 0&&(k.encoding=h.encoding?a.Encoding.toJSON(h.encoding):void 0),h.sources?k.sources=h.sources.map(_e=>_e?a.Source.toJSON(_e):void 0):k.sources=[],h.destinations?k.destinations=h.destinations.map(_e=>_e?a.Destination.toJSON(_e):void 0):k.destinations=[],h.composition!==void 0&&(k.composition=h.composition?a.Composition.toJSON(h.composition):void 0),h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),h.webrtc!==void 0&&(k.webrtc=h.webrtc?a.WebRtc.toJSON(h.webrtc):void 0),h.triggers?k.triggers=h.triggers.map(_e=>_e?a.ProjectTrigger.toJSON(_e):void 0):k.triggers=[],h.location!==void 0&&(k.location=h.location?a.LatLong.toJSON(h.location):void 0),h.guestCodes?k.guestCodes=h.guestCodes.map(_e=>_e?a.GuestCode.toJSON(_e):void 0):k.guestCodes=[],k},fromPartial(h){var k,_e,Et,st,kt,xt,un,In;const Tn=fr();return Tn.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Tn.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",Tn.metadata=(Et=h.metadata)!==null&&Et!==void 0?Et:void 0,Tn.rendering=h.rendering!==void 0&&h.rendering!==null?a.Rendering.fromPartial(h.rendering):void 0,Tn.encoding=h.encoding!==void 0&&h.encoding!==null?a.Encoding.fromPartial(h.encoding):void 0,Tn.sources=((st=h.sources)===null||st===void 0?void 0:st.map(cn=>a.Source.fromPartial(cn)))||[],Tn.destinations=((kt=h.destinations)===null||kt===void 0?void 0:kt.map(cn=>a.Destination.fromPartial(cn)))||[],Tn.composition=h.composition!==void 0&&h.composition!==null?a.Composition.fromPartial(h.composition):void 0,Tn.maxDuration=(xt=h.maxDuration)!==null&&xt!==void 0?xt:void 0,Tn.webrtc=h.webrtc!==void 0&&h.webrtc!==null?a.WebRtc.fromPartial(h.webrtc):void 0,Tn.triggers=((un=h.triggers)===null||un===void 0?void 0:un.map(cn=>a.ProjectTrigger.fromPartial(cn)))||[],Tn.location=h.location!==void 0&&h.location!==null?a.LatLong.fromPartial(h.location):void 0,Tn.guestCodes=((In=h.guestCodes)===null||In===void 0?void 0:In.map(cn=>a.GuestCode.fromPartial(cn)))||[],Tn}};function pr(){return{collectionId:"",metadata:void 0,projects:[],sources:[]}}a.Collection={encode(h,k=b.Writer.create()){h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(18).fork()).ldelim();for(const _e of h.projects)a.Project.encode(_e,k.uint32(26).fork()).ldelim();for(const _e of h.sources)a.Source.encode(_e,k.uint32(34).fork()).ldelim();return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=pr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 3:st.projects.push(a.Project.decode(_e,_e.uint32()));break;case 4:st.sources.push(a.Source.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,projects:Array.isArray(h==null?void 0:h.projects)?h.projects.map(k=>a.Project.fromJSON(k)):[],sources:Array.isArray(h==null?void 0:h.sources)?h.sources.map(k=>a.Source.fromJSON(k)):[]}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.metadata!==void 0&&(k.metadata=h.metadata),h.projects?k.projects=h.projects.map(_e=>_e?a.Project.toJSON(_e):void 0):k.projects=[],h.sources?k.sources=h.sources.map(_e=>_e?a.Source.toJSON(_e):void 0):k.sources=[],k},fromPartial(h){var k,_e,Et,st;const kt=pr();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.metadata=(_e=h.metadata)!==null&&_e!==void 0?_e:void 0,kt.projects=((Et=h.projects)===null||Et===void 0?void 0:Et.map(xt=>a.Project.fromPartial(xt)))||[],kt.sources=((st=h.sources)===null||st===void 0?void 0:st.map(xt=>a.Source.fromPartial(xt)))||[],kt}};function hr(){return{metadata:void 0}}a.CreateCollectionRequest={encode(h,k=b.Writer.create()){return h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=hr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0}},toJSON(h){const k={};return h.metadata!==void 0&&(k.metadata=h.metadata),k},fromPartial(h){var k;const _e=hr();return _e.metadata=(k=h.metadata)!==null&&k!==void 0?k:void 0,_e}};function mr(){return{collection:void 0}}a.CreateCollectionResponse={encode(h,k=b.Writer.create()){return h.collection!==void 0&&a.Collection.encode(h.collection,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=mr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collection=a.Collection.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collection:wt(h.collection)?a.Collection.fromJSON(h.collection):void 0}},toJSON(h){const k={};return h.collection!==void 0&&(k.collection=h.collection?a.Collection.toJSON(h.collection):void 0),k},fromPartial(h){const k=mr();return k.collection=h.collection!==void 0&&h.collection!==null?a.Collection.fromPartial(h.collection):void 0,k}};function vr(){return{collectionId:"",populateProjects:void 0,populateSources:void 0}}a.GetCollectionRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.populateProjects!==void 0&&k.uint32(16).bool(h.populateProjects),h.populateSources!==void 0&&k.uint32(24).bool(h.populateSources),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=vr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.populateProjects=_e.bool();break;case 3:st.populateSources=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",populateProjects:wt(h.populateProjects)?Boolean(h.populateProjects):void 0,populateSources:wt(h.populateSources)?Boolean(h.populateSources):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.populateProjects!==void 0&&(k.populateProjects=h.populateProjects),h.populateSources!==void 0&&(k.populateSources=h.populateSources),k},fromPartial(h){var k,_e,Et;const st=vr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.populateProjects=(_e=h.populateProjects)!==null&&_e!==void 0?_e:void 0,st.populateSources=(Et=h.populateSources)!==null&&Et!==void 0?Et:void 0,st}};function yr(){return{collection:void 0}}a.GetCollectionResponse={encode(h,k=b.Writer.create()){return h.collection!==void 0&&a.Collection.encode(h.collection,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=yr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collection=a.Collection.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collection:wt(h.collection)?a.Collection.fromJSON(h.collection):void 0}},toJSON(h){const k={};return h.collection!==void 0&&(k.collection=h.collection?a.Collection.toJSON(h.collection):void 0),k},fromPartial(h){const k=yr();return k.collection=h.collection!==void 0&&h.collection!==null?a.Collection.fromPartial(h.collection):void 0,k}};function Sr(){return{collectionId:"",updateMask:void 0,metadata:void 0}}a.UpdateCollectionRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.updateMask!==void 0&&nt.FieldMask.encode(nt.FieldMask.wrap(h.updateMask),k.uint32(18).fork()).ldelim(),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Sr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.updateMask=nt.FieldMask.unwrap(nt.FieldMask.decode(_e,_e.uint32()));break;case 3:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",updateMask:wt(h.updateMask)?nt.FieldMask.unwrap(nt.FieldMask.fromJSON(h.updateMask)):void 0,metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.updateMask!==void 0&&(k.updateMask=nt.FieldMask.toJSON(nt.FieldMask.wrap(h.updateMask))),h.metadata!==void 0&&(k.metadata=h.metadata),k},fromPartial(h){var k,_e,Et;const st=Sr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.updateMask=(_e=h.updateMask)!==null&&_e!==void 0?_e:void 0,st.metadata=(Et=h.metadata)!==null&&Et!==void 0?Et:void 0,st}};function gr(){return{collection:void 0}}a.UpdateCollectionResponse={encode(h,k=b.Writer.create()){return h.collection!==void 0&&a.Collection.encode(h.collection,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=gr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collection=a.Collection.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collection:wt(h.collection)?a.Collection.fromJSON(h.collection):void 0}},toJSON(h){const k={};return h.collection!==void 0&&(k.collection=h.collection?a.Collection.toJSON(h.collection):void 0),k},fromPartial(h){const k=gr();return k.collection=h.collection!==void 0&&h.collection!==null?a.Collection.fromPartial(h.collection):void 0,k}};function _r(){return{collectionId:"",force:void 0}}a.DeleteCollectionRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.force!==void 0&&k.uint32(16).bool(h.force),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=_r();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.force=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",force:wt(h.force)?Boolean(h.force):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.force!==void 0&&(k.force=h.force),k},fromPartial(h){var k,_e;const Et=_r();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.force=(_e=h.force)!==null&&_e!==void 0?_e:void 0,Et}};function br(){return{sourcesDeleted:0,projectsDeleted:0,projectIdsStopped:[]}}a.DeleteCollectionResponse={encode(h,k=b.Writer.create()){h.sourcesDeleted!==0&&k.uint32(8).uint32(h.sourcesDeleted),h.projectsDeleted!==0&&k.uint32(16).uint32(h.projectsDeleted);for(const _e of h.projectIdsStopped)k.uint32(26).string(_e);return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=br();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.sourcesDeleted=_e.uint32();break;case 2:st.projectsDeleted=_e.uint32();break;case 3:st.projectIdsStopped.push(_e.string());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{sourcesDeleted:wt(h.sourcesDeleted)?Number(h.sourcesDeleted):0,projectsDeleted:wt(h.projectsDeleted)?Number(h.projectsDeleted):0,projectIdsStopped:Array.isArray(h==null?void 0:h.projectIdsStopped)?h.projectIdsStopped.map(k=>String(k)):[]}},toJSON(h){const k={};return h.sourcesDeleted!==void 0&&(k.sourcesDeleted=Math.round(h.sourcesDeleted)),h.projectsDeleted!==void 0&&(k.projectsDeleted=Math.round(h.projectsDeleted)),h.projectIdsStopped?k.projectIdsStopped=h.projectIdsStopped.map(_e=>_e):k.projectIdsStopped=[],k},fromPartial(h){var k,_e,Et;const st=br();return st.sourcesDeleted=(k=h.sourcesDeleted)!==null&&k!==void 0?k:0,st.projectsDeleted=(_e=h.projectsDeleted)!==null&&_e!==void 0?_e:0,st.projectIdsStopped=((Et=h.projectIdsStopped)===null||Et===void 0?void 0:Et.map(kt=>kt))||[],st}};function Er(){return{}}a.GetCollectionsRequest={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Er();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return Er()}};function Tr(){return{collections:[]}}a.GetCollectionsResponse={encode(h,k=b.Writer.create()){for(const _e of h.collections)a.Collection.encode(_e,k.uint32(10).fork()).ldelim();return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Tr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collections.push(a.Collection.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collections:Array.isArray(h==null?void 0:h.collections)?h.collections.map(k=>a.Collection.fromJSON(k)):[]}},toJSON(h){const k={};return h.collections?k.collections=h.collections.map(_e=>_e?a.Collection.toJSON(_e):void 0):k.collections=[],k},fromPartial(h){var k;const _e=Tr();return _e.collections=((k=h.collections)===null||k===void 0?void 0:k.map(Et=>a.Collection.fromPartial(Et)))||[],_e}};function Ir(){return{collectionId:"",metadata:void 0,rendering:void 0,encoding:void 0,composition:void 0,maxDuration:void 0,webrtc:void 0,location:void 0}}a.CreateProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(18).fork()).ldelim(),h.rendering!==void 0&&a.Rendering.encode(h.rendering,k.uint32(26).fork()).ldelim(),h.encoding!==void 0&&a.Encoding.encode(h.encoding,k.uint32(34).fork()).ldelim(),h.composition!==void 0&&a.Composition.encode(h.composition,k.uint32(42).fork()).ldelim(),h.maxDuration!==void 0&&k.uint32(48).uint32(h.maxDuration),h.webrtc!==void 0&&a.WebRtc.encode(h.webrtc,k.uint32(58).fork()).ldelim(),h.location!==void 0&&a.LatLong.encode(h.location,k.uint32(74).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ir();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 3:st.rendering=a.Rendering.decode(_e,_e.uint32());break;case 4:st.encoding=a.Encoding.decode(_e,_e.uint32());break;case 5:st.composition=a.Composition.decode(_e,_e.uint32());break;case 6:st.maxDuration=_e.uint32();break;case 7:st.webrtc=a.WebRtc.decode(_e,_e.uint32());break;case 9:st.location=a.LatLong.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,rendering:wt(h.rendering)?a.Rendering.fromJSON(h.rendering):void 0,encoding:wt(h.encoding)?a.Encoding.fromJSON(h.encoding):void 0,composition:wt(h.composition)?a.Composition.fromJSON(h.composition):void 0,maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0,webrtc:wt(h.webrtc)?a.WebRtc.fromJSON(h.webrtc):void 0,location:wt(h.location)?a.LatLong.fromJSON(h.location):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.metadata!==void 0&&(k.metadata=h.metadata),h.rendering!==void 0&&(k.rendering=h.rendering?a.Rendering.toJSON(h.rendering):void 0),h.encoding!==void 0&&(k.encoding=h.encoding?a.Encoding.toJSON(h.encoding):void 0),h.composition!==void 0&&(k.composition=h.composition?a.Composition.toJSON(h.composition):void 0),h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),h.webrtc!==void 0&&(k.webrtc=h.webrtc?a.WebRtc.toJSON(h.webrtc):void 0),h.location!==void 0&&(k.location=h.location?a.LatLong.toJSON(h.location):void 0),k},fromPartial(h){var k,_e,Et;const st=Ir();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.metadata=(_e=h.metadata)!==null&&_e!==void 0?_e:void 0,st.rendering=h.rendering!==void 0&&h.rendering!==null?a.Rendering.fromPartial(h.rendering):void 0,st.encoding=h.encoding!==void 0&&h.encoding!==null?a.Encoding.fromPartial(h.encoding):void 0,st.composition=h.composition!==void 0&&h.composition!==null?a.Composition.fromPartial(h.composition):void 0,st.maxDuration=(Et=h.maxDuration)!==null&&Et!==void 0?Et:void 0,st.webrtc=h.webrtc!==void 0&&h.webrtc!==null?a.WebRtc.fromPartial(h.webrtc):void 0,st.location=h.location!==void 0&&h.location!==null?a.LatLong.fromPartial(h.location):void 0,st}};function kr(){return{project:void 0}}a.CreateProjectResponse={encode(h,k=b.Writer.create()){return h.project!==void 0&&a.Project.encode(h.project,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=kr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.project=a.Project.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{project:wt(h.project)?a.Project.fromJSON(h.project):void 0}},toJSON(h){const k={};return h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),k},fromPartial(h){const k=kr();return k.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,k}};function Or(){return{collectionId:"",projectId:"",updateMask:void 0,metadata:void 0,rendering:void 0,encoding:void 0,composition:void 0,maxDuration:void 0,webrtc:void 0,location:void 0}}a.UpdateProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.updateMask!==void 0&&nt.FieldMask.encode(nt.FieldMask.wrap(h.updateMask),k.uint32(26).fork()).ldelim(),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(34).fork()).ldelim(),h.rendering!==void 0&&a.Rendering.encode(h.rendering,k.uint32(42).fork()).ldelim(),h.encoding!==void 0&&a.Encoding.encode(h.encoding,k.uint32(50).fork()).ldelim(),h.composition!==void 0&&a.Composition.encode(h.composition,k.uint32(58).fork()).ldelim(),h.maxDuration!==void 0&&k.uint32(64).uint32(h.maxDuration),h.webrtc!==void 0&&a.WebRtc.encode(h.webrtc,k.uint32(74).fork()).ldelim(),h.location!==void 0&&a.LatLong.encode(h.location,k.uint32(82).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Or();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.updateMask=nt.FieldMask.unwrap(nt.FieldMask.decode(_e,_e.uint32()));break;case 4:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 5:st.rendering=a.Rendering.decode(_e,_e.uint32());break;case 6:st.encoding=a.Encoding.decode(_e,_e.uint32());break;case 7:st.composition=a.Composition.decode(_e,_e.uint32());break;case 8:st.maxDuration=_e.uint32();break;case 9:st.webrtc=a.WebRtc.decode(_e,_e.uint32());break;case 10:st.location=a.LatLong.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",updateMask:wt(h.updateMask)?nt.FieldMask.unwrap(nt.FieldMask.fromJSON(h.updateMask)):void 0,metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,rendering:wt(h.rendering)?a.Rendering.fromJSON(h.rendering):void 0,encoding:wt(h.encoding)?a.Encoding.fromJSON(h.encoding):void 0,composition:wt(h.composition)?a.Composition.fromJSON(h.composition):void 0,maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0,webrtc:wt(h.webrtc)?a.WebRtc.fromJSON(h.webrtc):void 0,location:wt(h.location)?a.LatLong.fromJSON(h.location):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.updateMask!==void 0&&(k.updateMask=nt.FieldMask.toJSON(nt.FieldMask.wrap(h.updateMask))),h.metadata!==void 0&&(k.metadata=h.metadata),h.rendering!==void 0&&(k.rendering=h.rendering?a.Rendering.toJSON(h.rendering):void 0),h.encoding!==void 0&&(k.encoding=h.encoding?a.Encoding.toJSON(h.encoding):void 0),h.composition!==void 0&&(k.composition=h.composition?a.Composition.toJSON(h.composition):void 0),h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),h.webrtc!==void 0&&(k.webrtc=h.webrtc?a.WebRtc.toJSON(h.webrtc):void 0),h.location!==void 0&&(k.location=h.location?a.LatLong.toJSON(h.location):void 0),k},fromPartial(h){var k,_e,Et,st,kt;const xt=Or();return xt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",xt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",xt.updateMask=(Et=h.updateMask)!==null&&Et!==void 0?Et:void 0,xt.metadata=(st=h.metadata)!==null&&st!==void 0?st:void 0,xt.rendering=h.rendering!==void 0&&h.rendering!==null?a.Rendering.fromPartial(h.rendering):void 0,xt.encoding=h.encoding!==void 0&&h.encoding!==null?a.Encoding.fromPartial(h.encoding):void 0,xt.composition=h.composition!==void 0&&h.composition!==null?a.Composition.fromPartial(h.composition):void 0,xt.maxDuration=(kt=h.maxDuration)!==null&&kt!==void 0?kt:void 0,xt.webrtc=h.webrtc!==void 0&&h.webrtc!==null?a.WebRtc.fromPartial(h.webrtc):void 0,xt.location=h.location!==void 0&&h.location!==null?a.LatLong.fromPartial(h.location):void 0,xt}};function Rr(){return{project:void 0,broadcastUpdated:!1}}a.UpdateProjectResponse={encode(h,k=b.Writer.create()){return h.project!==void 0&&a.Project.encode(h.project,k.uint32(10).fork()).ldelim(),h.broadcastUpdated===!0&&k.uint32(16).bool(h.broadcastUpdated),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Rr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.project=a.Project.decode(_e,_e.uint32());break;case 2:st.broadcastUpdated=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{project:wt(h.project)?a.Project.fromJSON(h.project):void 0,broadcastUpdated:wt(h.broadcastUpdated)?Boolean(h.broadcastUpdated):!1}},toJSON(h){const k={};return h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),h.broadcastUpdated!==void 0&&(k.broadcastUpdated=h.broadcastUpdated),k},fromPartial(h){var k;const _e=Rr();return _e.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,_e.broadcastUpdated=(k=h.broadcastUpdated)!==null&&k!==void 0?k:!1,_e}};function Cr(){return{collectionId:"",projectId:"",force:void 0}}a.DeleteProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.force!==void 0&&k.uint32(24).bool(h.force),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Cr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.force=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",force:wt(h.force)?Boolean(h.force):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.force!==void 0&&(k.force=h.force),k},fromPartial(h){var k,_e,Et;const st=Cr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.force=(Et=h.force)!==null&&Et!==void 0?Et:void 0,st}};function Pr(){return{broadcastStopped:!1,layoutsDeleted:0}}a.DeleteProjectResponse={encode(h,k=b.Writer.create()){return h.broadcastStopped===!0&&k.uint32(8).bool(h.broadcastStopped),h.layoutsDeleted!==0&&k.uint32(16).uint32(h.layoutsDeleted),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Pr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.broadcastStopped=_e.bool();break;case 2:st.layoutsDeleted=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{broadcastStopped:wt(h.broadcastStopped)?Boolean(h.broadcastStopped):!1,layoutsDeleted:wt(h.layoutsDeleted)?Number(h.layoutsDeleted):0}},toJSON(h){const k={};return h.broadcastStopped!==void 0&&(k.broadcastStopped=h.broadcastStopped),h.layoutsDeleted!==void 0&&(k.layoutsDeleted=Math.round(h.layoutsDeleted)),k},fromPartial(h){var k,_e;const Et=Pr();return Et.broadcastStopped=(k=h.broadcastStopped)!==null&&k!==void 0?k:!1,Et.layoutsDeleted=(_e=h.layoutsDeleted)!==null&&_e!==void 0?_e:0,Et}};function Nr(){return{collectionId:"",projectId:"",webrtcStart:void 0}}a.StartProjectBroadcastRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.webrtcStart!==void 0&&k.uint32(24).bool(h.webrtcStart),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Nr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.webrtcStart=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",webrtcStart:wt(h.webrtcStart)?Boolean(h.webrtcStart):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.webrtcStart!==void 0&&(k.webrtcStart=h.webrtcStart),k},fromPartial(h){var k,_e,Et;const st=Nr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.webrtcStart=(Et=h.webrtcStart)!==null&&Et!==void 0?Et:void 0,st}};function wr(){return{broadcastId:""}}a.StartProjectBroadcastResponse={encode(h,k=b.Writer.create()){return h.broadcastId!==""&&k.uint32(10).string(h.broadcastId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=wr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.broadcastId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{broadcastId:wt(h.broadcastId)?String(h.broadcastId):""}},toJSON(h){const k={};return h.broadcastId!==void 0&&(k.broadcastId=h.broadcastId),k},fromPartial(h){var k;const _e=wr();return _e.broadcastId=(k=h.broadcastId)!==null&&k!==void 0?k:"",_e}};function Ar(){return{collectionId:"",projectId:"",webrtcStop:void 0}}a.StopProjectBroadcastRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.webrtcStop!==void 0&&k.uint32(24).bool(h.webrtcStop),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ar();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.webrtcStop=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",webrtcStop:wt(h.webrtcStop)?Boolean(h.webrtcStop):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.webrtcStop!==void 0&&(k.webrtcStop=h.webrtcStop),k},fromPartial(h){var k,_e,Et;const st=Ar();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.webrtcStop=(Et=h.webrtcStop)!==null&&Et!==void 0?Et:void 0,st}};function Dr(){return{}}a.StopProjectBroadcastResponse={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Dr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return Dr()}};function Lr(){return{collectionId:"",projectId:"",status:void 0}}a.GetProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.status!==void 0&&k.uint32(24).bool(h.status),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Lr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.status=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",status:wt(h.status)?Boolean(h.status):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.status!==void 0&&(k.status=h.status),k},fromPartial(h){var k,_e,Et;const st=Lr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.status=(Et=h.status)!==null&&Et!==void 0?Et:void 0,st}};function $r(){return{project:void 0,status:void 0}}a.GetProjectResponse={encode(h,k=b.Writer.create()){return h.project!==void 0&&a.Project.encode(h.project,k.uint32(10).fork()).ldelim(),h.status!==void 0&&a.ProjectBroadcastStatus.encode(h.status,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=$r();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.project=a.Project.decode(_e,_e.uint32());break;case 2:st.status=a.ProjectBroadcastStatus.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{project:wt(h.project)?a.Project.fromJSON(h.project):void 0,status:wt(h.status)?a.ProjectBroadcastStatus.fromJSON(h.status):void 0}},toJSON(h){const k={};return h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),h.status!==void 0&&(k.status=h.status?a.ProjectBroadcastStatus.toJSON(h.status):void 0),k},fromPartial(h){const k=$r();return k.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,k.status=h.status!==void 0&&h.status!==null?a.ProjectBroadcastStatus.fromPartial(h.status):void 0,k}};function Mr(){return{collectionId:"",projectId:"",format:void 0}}a.GetProjectBroadcastSnapshotRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.format!==void 0&&k.uint32(24).int32(lt(h.format)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Mr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.format=dt(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",format:wt(h.format)?dt(h.format):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.format!==void 0&&(k.format=h.format!==void 0?ut(h.format):void 0),k},fromPartial(h){var k,_e,Et;const st=Mr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.format=(Et=h.format)!==null&&Et!==void 0?Et:void 0,st}};function Ur(){return{format:ot.IMAGE_FORMAT_UNSPECIFIED,image:new Uint8Array}}a.GetProjectBroadcastSnapshotResponse={encode(h,k=b.Writer.create()){return h.format!==ot.IMAGE_FORMAT_UNSPECIFIED&&k.uint32(8).int32(lt(h.format)),h.image.length!==0&&k.uint32(18).bytes(h.image),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ur();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.format=dt(_e.int32());break;case 2:st.image=_e.bytes();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{format:wt(h.format)?dt(h.format):ot.IMAGE_FORMAT_UNSPECIFIED,image:wt(h.image)?us(h.image):new Uint8Array}},toJSON(h){const k={};return h.format!==void 0&&(k.format=ut(h.format)),h.image!==void 0&&(k.image=cs(h.image!==void 0?h.image:new Uint8Array)),k},fromPartial(h){var k,_e;const Et=Ur();return Et.format=(k=h.format)!==null&&k!==void 0?k:ot.IMAGE_FORMAT_UNSPECIFIED,Et.image=(_e=h.image)!==null&&_e!==void 0?_e:new Uint8Array,Et}};function Vr(){return{collectionId:"",projectId:""}}a.GetProjectBroadcastStatusRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Vr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),k},fromPartial(h){var k,_e;const Et=Vr();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",Et}};function Br(){return{status:void 0}}a.GetProjectBroadcastStatusResponse={encode(h,k=b.Writer.create()){return h.status!==void 0&&a.ProjectBroadcastStatus.encode(h.status,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Br();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.status=a.ProjectBroadcastStatus.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{status:wt(h.status)?a.ProjectBroadcastStatus.fromJSON(h.status):void 0}},toJSON(h){const k={};return h.status!==void 0&&(k.status=h.status?a.ProjectBroadcastStatus.toJSON(h.status):void 0),k},fromPartial(h){const k=Br();return k.status=h.status!==void 0&&h.status!==null?a.ProjectBroadcastStatus.fromPartial(h.status):void 0,k}};function Fr(){return{collectionId:"",projectId:""}}a.StartProjectWebRtcRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Fr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),k},fromPartial(h){var k,_e;const Et=Fr();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",Et}};function Jr(){return{}}a.StartProjectWebRtcResponse={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Jr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return Jr()}};function Gr(){return{collectionId:"",projectId:""}}a.StopProjectWebRtcRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Gr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),k},fromPartial(h){var k,_e;const Et=Gr();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",Et}};function qr(){return{}}a.StopProjectWebRtcResponse={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=qr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return qr()}};function Wr(){return{collectionId:"",projectId:"",metadata:void 0,address:void 0,enabled:void 0,timeout:void 0}}a.CreateDestinationRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(26).fork()).ldelim(),h.address!==void 0&&a.DestinationAddress.encode(h.address,k.uint32(42).fork()).ldelim(),h.enabled!==void 0&&k.uint32(48).bool(h.enabled),h.timeout!==void 0&&k.uint32(56).uint32(h.timeout),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Wr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 5:st.address=a.DestinationAddress.decode(_e,_e.uint32());break;case 6:st.enabled=_e.bool();break;case 7:st.timeout=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,address:wt(h.address)?a.DestinationAddress.fromJSON(h.address):void 0,enabled:wt(h.enabled)?Boolean(h.enabled):void 0,timeout:wt(h.timeout)?Number(h.timeout):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.metadata!==void 0&&(k.metadata=h.metadata),h.address!==void 0&&(k.address=h.address?a.DestinationAddress.toJSON(h.address):void 0),h.enabled!==void 0&&(k.enabled=h.enabled),h.timeout!==void 0&&(k.timeout=Math.round(h.timeout)),k},fromPartial(h){var k,_e,Et,st,kt;const xt=Wr();return xt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",xt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",xt.metadata=(Et=h.metadata)!==null&&Et!==void 0?Et:void 0,xt.address=h.address!==void 0&&h.address!==null?a.DestinationAddress.fromPartial(h.address):void 0,xt.enabled=(st=h.enabled)!==null&&st!==void 0?st:void 0,xt.timeout=(kt=h.timeout)!==null&&kt!==void 0?kt:void 0,xt}};function Hr(){return{destination:void 0}}a.CreateDestinationResponse={encode(h,k=b.Writer.create()){return h.destination!==void 0&&a.Destination.encode(h.destination,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Hr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.destination=a.Destination.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{destination:wt(h.destination)?a.Destination.fromJSON(h.destination):void 0}},toJSON(h){const k={};return h.destination!==void 0&&(k.destination=h.destination?a.Destination.toJSON(h.destination):void 0),k},fromPartial(h){const k=Hr();return k.destination=h.destination!==void 0&&h.destination!==null?a.Destination.fromPartial(h.destination):void 0,k}};function zr(){return{collectionId:"",projectId:"",destinationId:""}}a.GetDestinationRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=zr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),k},fromPartial(h){var k,_e,Et;const st=zr();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",st}};function jr(){return{destination:void 0}}a.GetDestinationResponse={encode(h,k=b.Writer.create()){return h.destination!==void 0&&a.Destination.encode(h.destination,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=jr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.destination=a.Destination.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{destination:wt(h.destination)?a.Destination.fromJSON(h.destination):void 0}},toJSON(h){const k={};return h.destination!==void 0&&(k.destination=h.destination?a.Destination.toJSON(h.destination):void 0),k},fromPartial(h){const k=jr();return k.destination=h.destination!==void 0&&h.destination!==null?a.Destination.fromPartial(h.destination):void 0,k}};function Yr(){return{collectionId:"",projectId:"",destinationId:"",force:void 0}}a.DeleteDestinationRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),h.force!==void 0&&k.uint32(32).bool(h.force),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Yr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;case 4:st.force=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):"",force:wt(h.force)?Boolean(h.force):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),h.force!==void 0&&(k.force=h.force),k},fromPartial(h){var k,_e,Et,st;const kt=Yr();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",kt.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",kt.force=(st=h.force)!==null&&st!==void 0?st:void 0,kt}};function xr(){return{broadcastUpdated:!1}}a.DeleteDestinationResponse={encode(h,k=b.Writer.create()){return h.broadcastUpdated===!0&&k.uint32(8).bool(h.broadcastUpdated),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=xr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.broadcastUpdated=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{broadcastUpdated:wt(h.broadcastUpdated)?Boolean(h.broadcastUpdated):!1}},toJSON(h){const k={};return h.broadcastUpdated!==void 0&&(k.broadcastUpdated=h.broadcastUpdated),k},fromPartial(h){var k;const _e=xr();return _e.broadcastUpdated=(k=h.broadcastUpdated)!==null&&k!==void 0?k:!1,_e}};function Kr(){return{collectionId:"",projectId:"",destinationId:"",updateMask:void 0,metadata:void 0,address:void 0,enabled:void 0,timeout:void 0}}a.UpdateDestinationRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),h.updateMask!==void 0&&nt.FieldMask.encode(nt.FieldMask.wrap(h.updateMask),k.uint32(34).fork()).ldelim(),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(42).fork()).ldelim(),h.address!==void 0&&a.DestinationAddress.encode(h.address,k.uint32(50).fork()).ldelim(),h.enabled!==void 0&&k.uint32(56).bool(h.enabled),h.timeout!==void 0&&k.uint32(64).uint32(h.timeout),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Kr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;case 4:st.updateMask=nt.FieldMask.unwrap(nt.FieldMask.decode(_e,_e.uint32()));break;case 5:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 6:st.address=a.DestinationAddress.decode(_e,_e.uint32());break;case 7:st.enabled=_e.bool();break;case 8:st.timeout=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):"",updateMask:wt(h.updateMask)?nt.FieldMask.unwrap(nt.FieldMask.fromJSON(h.updateMask)):void 0,metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,address:wt(h.address)?a.DestinationAddress.fromJSON(h.address):void 0,enabled:wt(h.enabled)?Boolean(h.enabled):void 0,timeout:wt(h.timeout)?Number(h.timeout):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),h.updateMask!==void 0&&(k.updateMask=nt.FieldMask.toJSON(nt.FieldMask.wrap(h.updateMask))),h.metadata!==void 0&&(k.metadata=h.metadata),h.address!==void 0&&(k.address=h.address?a.DestinationAddress.toJSON(h.address):void 0),h.enabled!==void 0&&(k.enabled=h.enabled),h.timeout!==void 0&&(k.timeout=Math.round(h.timeout)),k},fromPartial(h){var k,_e,Et,st,kt,xt,un;const In=Kr();return In.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",In.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",In.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",In.updateMask=(st=h.updateMask)!==null&&st!==void 0?st:void 0,In.metadata=(kt=h.metadata)!==null&&kt!==void 0?kt:void 0,In.address=h.address!==void 0&&h.address!==null?a.DestinationAddress.fromPartial(h.address):void 0,In.enabled=(xt=h.enabled)!==null&&xt!==void 0?xt:void 0,In.timeout=(un=h.timeout)!==null&&un!==void 0?un:void 0,In}};function Qr(){return{destination:void 0,broadcastUpdated:!1}}a.UpdateDestinationResponse={encode(h,k=b.Writer.create()){return h.destination!==void 0&&a.Destination.encode(h.destination,k.uint32(10).fork()).ldelim(),h.broadcastUpdated===!0&&k.uint32(16).bool(h.broadcastUpdated),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Qr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.destination=a.Destination.decode(_e,_e.uint32());break;case 2:st.broadcastUpdated=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{destination:wt(h.destination)?a.Destination.fromJSON(h.destination):void 0,broadcastUpdated:wt(h.broadcastUpdated)?Boolean(h.broadcastUpdated):!1}},toJSON(h){const k={};return h.destination!==void 0&&(k.destination=h.destination?a.Destination.toJSON(h.destination):void 0),h.broadcastUpdated!==void 0&&(k.broadcastUpdated=h.broadcastUpdated),k},fromPartial(h){var k;const _e=Qr();return _e.destination=h.destination!==void 0&&h.destination!==null?a.Destination.fromPartial(h.destination):void 0,_e.broadcastUpdated=(k=h.broadcastUpdated)!==null&&k!==void 0?k:!1,_e}};function Xr(){return{collectionId:"",metadata:void 0,address:void 0,preview:void 0}}a.CreateSourceRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(18).fork()).ldelim(),h.address!==void 0&&a.SourceAddress.encode(h.address,k.uint32(26).fork()).ldelim(),h.preview!==void 0&&a.PreviewAddress.encode(h.preview,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Xr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 3:st.address=a.SourceAddress.decode(_e,_e.uint32());break;case 4:st.preview=a.PreviewAddress.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,address:wt(h.address)?a.SourceAddress.fromJSON(h.address):void 0,preview:wt(h.preview)?a.PreviewAddress.fromJSON(h.preview):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.metadata!==void 0&&(k.metadata=h.metadata),h.address!==void 0&&(k.address=h.address?a.SourceAddress.toJSON(h.address):void 0),h.preview!==void 0&&(k.preview=h.preview?a.PreviewAddress.toJSON(h.preview):void 0),k},fromPartial(h){var k,_e;const Et=Xr();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.metadata=(_e=h.metadata)!==null&&_e!==void 0?_e:void 0,Et.address=h.address!==void 0&&h.address!==null?a.SourceAddress.fromPartial(h.address):void 0,Et.preview=h.preview!==void 0&&h.preview!==null?a.PreviewAddress.fromPartial(h.preview):void 0,Et}};function Zr(){return{source:void 0}}a.CreateSourceResponse={encode(h,k=b.Writer.create()){return h.source!==void 0&&a.Source.encode(h.source,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Zr();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.source=a.Source.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{source:wt(h.source)?a.Source.fromJSON(h.source):void 0}},toJSON(h){const k={};return h.source!==void 0&&(k.source=h.source?a.Source.toJSON(h.source):void 0),k},fromPartial(h){const k=Zr();return k.source=h.source!==void 0&&h.source!==null?a.Source.fromPartial(h.source):void 0,k}};function _i(){return{collectionId:"",sourceId:"",force:void 0}}a.DeleteSourceRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId),h.force!==void 0&&k.uint32(24).bool(h.force),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=_i();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;case 3:st.force=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",force:wt(h.force)?Boolean(h.force):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.force!==void 0&&(k.force=h.force),k},fromPartial(h){var k,_e,Et;const st=_i();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",st.force=(Et=h.force)!==null&&Et!==void 0?Et:void 0,st}};function eo(){return{projectIdsUpdated:[]}}a.DeleteSourceResponse={encode(h,k=b.Writer.create()){for(const _e of h.projectIdsUpdated)k.uint32(26).string(_e);return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=eo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 3:st.projectIdsUpdated.push(_e.string());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{projectIdsUpdated:Array.isArray(h==null?void 0:h.projectIdsUpdated)?h.projectIdsUpdated.map(k=>String(k)):[]}},toJSON(h){const k={};return h.projectIdsUpdated?k.projectIdsUpdated=h.projectIdsUpdated.map(_e=>_e):k.projectIdsUpdated=[],k},fromPartial(h){var k;const _e=eo();return _e.projectIdsUpdated=((k=h.projectIdsUpdated)===null||k===void 0?void 0:k.map(Et=>Et))||[],_e}};function to(){return{collectionId:"",projectId:"",sourceId:"",trigger:void 0}}a.AddSourceToProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.sourceId!==""&&k.uint32(26).string(h.sourceId),h.trigger!==void 0&&a.SourceTrigger.encode(h.trigger,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=to();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.sourceId=_e.string();break;case 4:st.trigger=a.SourceTrigger.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",trigger:wt(h.trigger)?a.SourceTrigger.fromJSON(h.trigger):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.trigger!==void 0&&(k.trigger=h.trigger?a.SourceTrigger.toJSON(h.trigger):void 0),k},fromPartial(h){var k,_e,Et;const st=to();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.sourceId=(Et=h.sourceId)!==null&&Et!==void 0?Et:"",st.trigger=h.trigger!==void 0&&h.trigger!==null?a.SourceTrigger.fromPartial(h.trigger):void 0,st}};function no(){return{project:void 0,broadcastUpdated:!1}}a.AddSourceToProjectResponse={encode(h,k=b.Writer.create()){return h.project!==void 0&&a.Project.encode(h.project,k.uint32(10).fork()).ldelim(),h.broadcastUpdated===!0&&k.uint32(16).bool(h.broadcastUpdated),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=no();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.project=a.Project.decode(_e,_e.uint32());break;case 2:st.broadcastUpdated=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{project:wt(h.project)?a.Project.fromJSON(h.project):void 0,broadcastUpdated:wt(h.broadcastUpdated)?Boolean(h.broadcastUpdated):!1}},toJSON(h){const k={};return h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),h.broadcastUpdated!==void 0&&(k.broadcastUpdated=h.broadcastUpdated),k},fromPartial(h){var k;const _e=no();return _e.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,_e.broadcastUpdated=(k=h.broadcastUpdated)!==null&&k!==void 0?k:!1,_e}};function ro(){return{collectionId:"",projectId:"",sourceId:"",updateMask:void 0,trigger:void 0}}a.UpdateSourceInProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.sourceId!==""&&k.uint32(26).string(h.sourceId),h.updateMask!==void 0&&nt.FieldMask.encode(nt.FieldMask.wrap(h.updateMask),k.uint32(34).fork()).ldelim(),h.trigger!==void 0&&a.SourceTrigger.encode(h.trigger,k.uint32(42).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ro();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.sourceId=_e.string();break;case 4:st.updateMask=nt.FieldMask.unwrap(nt.FieldMask.decode(_e,_e.uint32()));break;case 5:st.trigger=a.SourceTrigger.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",updateMask:wt(h.updateMask)?nt.FieldMask.unwrap(nt.FieldMask.fromJSON(h.updateMask)):void 0,trigger:wt(h.trigger)?a.SourceTrigger.fromJSON(h.trigger):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.updateMask!==void 0&&(k.updateMask=nt.FieldMask.toJSON(nt.FieldMask.wrap(h.updateMask))),h.trigger!==void 0&&(k.trigger=h.trigger?a.SourceTrigger.toJSON(h.trigger):void 0),k},fromPartial(h){var k,_e,Et,st;const kt=ro();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",kt.sourceId=(Et=h.sourceId)!==null&&Et!==void 0?Et:"",kt.updateMask=(st=h.updateMask)!==null&&st!==void 0?st:void 0,kt.trigger=h.trigger!==void 0&&h.trigger!==null?a.SourceTrigger.fromPartial(h.trigger):void 0,kt}};function io(){return{project:void 0}}a.UpdateSourceInProjectResponse={encode(h,k=b.Writer.create()){return h.project!==void 0&&a.Project.encode(h.project,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=io();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.project=a.Project.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{project:wt(h.project)?a.Project.fromJSON(h.project):void 0}},toJSON(h){const k={};return h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),k},fromPartial(h){const k=io();return k.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,k}};function oo(){return{collectionId:"",sourceId:""}}a.GetSourceRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(26).string(h.sourceId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=oo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 3:st.sourceId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),k},fromPartial(h){var k,_e;const Et=oo();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",Et}};function ao(){return{source:void 0}}a.GetSourceResponse={encode(h,k=b.Writer.create()){return h.source!==void 0&&a.Source.encode(h.source,k.uint32(10).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ao();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.source=a.Source.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{source:wt(h.source)?a.Source.fromJSON(h.source):void 0}},toJSON(h){const k={};return h.source!==void 0&&(k.source=h.source?a.Source.toJSON(h.source):void 0),k},fromPartial(h){const k=ao();return k.source=h.source!==void 0&&h.source!==null?a.Source.fromPartial(h.source):void 0,k}};function so(){return{collectionId:""}}a.GetSourcesRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=so();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),k},fromPartial(h){var k;const _e=so();return _e.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",_e}};function uo(){return{sources:[]}}a.GetSourcesResponse={encode(h,k=b.Writer.create()){for(const _e of h.sources)a.Source.encode(_e,k.uint32(10).fork()).ldelim();return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=uo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.sources.push(a.Source.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{sources:Array.isArray(h==null?void 0:h.sources)?h.sources.map(k=>a.Source.fromJSON(k)):[]}},toJSON(h){const k={};return h.sources?k.sources=h.sources.map(_e=>_e?a.Source.toJSON(_e):void 0):k.sources=[],k},fromPartial(h){var k;const _e=uo();return _e.sources=((k=h.sources)===null||k===void 0?void 0:k.map(Et=>a.Source.fromPartial(Et)))||[],_e}};function co(){return{collectionId:"",sourceId:"",updateMask:void 0,metadata:void 0,address:void 0,preview:void 0}}a.UpdateSourceRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(26).string(h.sourceId),h.updateMask!==void 0&&nt.FieldMask.encode(nt.FieldMask.wrap(h.updateMask),k.uint32(34).fork()).ldelim(),h.metadata!==void 0&&tt.Value.encode(tt.Value.wrap(h.metadata),k.uint32(42).fork()).ldelim(),h.address!==void 0&&a.SourceAddress.encode(h.address,k.uint32(50).fork()).ldelim(),h.preview!==void 0&&a.PreviewAddress.encode(h.preview,k.uint32(58).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=co();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 3:st.sourceId=_e.string();break;case 4:st.updateMask=nt.FieldMask.unwrap(nt.FieldMask.decode(_e,_e.uint32()));break;case 5:st.metadata=tt.Value.unwrap(tt.Value.decode(_e,_e.uint32()));break;case 6:st.address=a.SourceAddress.decode(_e,_e.uint32());break;case 7:st.preview=a.PreviewAddress.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",updateMask:wt(h.updateMask)?nt.FieldMask.unwrap(nt.FieldMask.fromJSON(h.updateMask)):void 0,metadata:wt(h==null?void 0:h.metadata)?h.metadata:void 0,address:wt(h.address)?a.SourceAddress.fromJSON(h.address):void 0,preview:wt(h.preview)?a.PreviewAddress.fromJSON(h.preview):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.updateMask!==void 0&&(k.updateMask=nt.FieldMask.toJSON(nt.FieldMask.wrap(h.updateMask))),h.metadata!==void 0&&(k.metadata=h.metadata),h.address!==void 0&&(k.address=h.address?a.SourceAddress.toJSON(h.address):void 0),h.preview!==void 0&&(k.preview=h.preview?a.PreviewAddress.toJSON(h.preview):void 0),k},fromPartial(h){var k,_e,Et,st;const kt=co();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",kt.updateMask=(Et=h.updateMask)!==null&&Et!==void 0?Et:void 0,kt.metadata=(st=h.metadata)!==null&&st!==void 0?st:void 0,kt.address=h.address!==void 0&&h.address!==null?a.SourceAddress.fromPartial(h.address):void 0,kt.preview=h.preview!==void 0&&h.preview!==null?a.PreviewAddress.fromPartial(h.preview):void 0,kt}};function lo(){return{source:void 0,broadcastUpdated:!1}}a.UpdateSourceResponse={encode(h,k=b.Writer.create()){return h.source!==void 0&&a.Source.encode(h.source,k.uint32(10).fork()).ldelim(),h.broadcastUpdated===!0&&k.uint32(16).bool(h.broadcastUpdated),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=lo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.source=a.Source.decode(_e,_e.uint32());break;case 2:st.broadcastUpdated=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{source:wt(h.source)?a.Source.fromJSON(h.source):void 0,broadcastUpdated:wt(h.broadcastUpdated)?Boolean(h.broadcastUpdated):!1}},toJSON(h){const k={};return h.source!==void 0&&(k.source=h.source?a.Source.toJSON(h.source):void 0),h.broadcastUpdated!==void 0&&(k.broadcastUpdated=h.broadcastUpdated),k},fromPartial(h){var k;const _e=lo();return _e.source=h.source!==void 0&&h.source!==null?a.Source.fromPartial(h.source):void 0,_e.broadcastUpdated=(k=h.broadcastUpdated)!==null&&k!==void 0?k:!1,_e}};function fo(){return{collectionId:"",projectId:"",sourceId:"",force:void 0}}a.RemoveSourceFromProjectRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.sourceId!==""&&k.uint32(26).string(h.sourceId),h.force!==void 0&&k.uint32(32).bool(h.force),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=fo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.sourceId=_e.string();break;case 4:st.force=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",force:wt(h.force)?Boolean(h.force):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.force!==void 0&&(k.force=h.force),k},fromPartial(h){var k,_e,Et,st;const kt=fo();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",kt.sourceId=(Et=h.sourceId)!==null&&Et!==void 0?Et:"",kt.force=(st=h.force)!==null&&st!==void 0?st:void 0,kt}};function po(){return{project:void 0,broadcastUpdated:!1}}a.RemoveSourceFromProjectResponse={encode(h,k=b.Writer.create()){return h.project!==void 0&&a.Project.encode(h.project,k.uint32(10).fork()).ldelim(),h.broadcastUpdated===!0&&k.uint32(16).bool(h.broadcastUpdated),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=po();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.project=a.Project.decode(_e,_e.uint32());break;case 2:st.broadcastUpdated=_e.bool();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{project:wt(h.project)?a.Project.fromJSON(h.project):void 0,broadcastUpdated:wt(h.broadcastUpdated)?Boolean(h.broadcastUpdated):!1}},toJSON(h){const k={};return h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),h.broadcastUpdated!==void 0&&(k.broadcastUpdated=h.broadcastUpdated),k},fromPartial(h){var k;const _e=po();return _e.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,_e.broadcastUpdated=(k=h.broadcastUpdated)!==null&&k!==void 0?k:!1,_e}};function ho(){return{serviceUserId:"",displayName:void 0,role:void 0,maxDuration:void 0}}a.CreateAccessTokenRequest={encode(h,k=b.Writer.create()){return h.serviceUserId!==""&&k.uint32(10).string(h.serviceUserId),h.displayName!==void 0&&k.uint32(34).string(h.displayName),h.role!==void 0&&k.uint32(16).int32(pn(h.role)),h.maxDuration!==void 0&&k.uint32(24).uint32(h.maxDuration),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ho();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.serviceUserId=_e.string();break;case 4:st.displayName=_e.string();break;case 2:st.role=sn(_e.int32());break;case 3:st.maxDuration=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{serviceUserId:wt(h.serviceUserId)?String(h.serviceUserId):"",displayName:wt(h.displayName)?String(h.displayName):void 0,role:wt(h.role)?sn(h.role):void 0,maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0}},toJSON(h){const k={};return h.serviceUserId!==void 0&&(k.serviceUserId=h.serviceUserId),h.displayName!==void 0&&(k.displayName=h.displayName),h.role!==void 0&&(k.role=h.role!==void 0?nn(h.role):void 0),h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),k},fromPartial(h){var k,_e,Et,st;const kt=ho();return kt.serviceUserId=(k=h.serviceUserId)!==null&&k!==void 0?k:"",kt.displayName=(_e=h.displayName)!==null&&_e!==void 0?_e:void 0,kt.role=(Et=h.role)!==null&&Et!==void 0?Et:void 0,kt.maxDuration=(st=h.maxDuration)!==null&&st!==void 0?st:void 0,kt}};function mo(){return{accessToken:""}}a.CreateAccessTokenResponse={encode(h,k=b.Writer.create()){return h.accessToken!==""&&k.uint32(10).string(h.accessToken),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=mo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.accessToken=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{accessToken:wt(h.accessToken)?String(h.accessToken):""}},toJSON(h){const k={};return h.accessToken!==void 0&&(k.accessToken=h.accessToken),k},fromPartial(h){var k;const _e=mo();return _e.accessToken=(k=h.accessToken)!==null&&k!==void 0?k:"",_e}};function vo(){return{displayName:"",serviceUserId:void 0}}a.GuestAccessTokenDirect={encode(h,k=b.Writer.create()){return h.displayName!==""&&k.uint32(10).string(h.displayName),h.serviceUserId!==void 0&&k.uint32(18).string(h.serviceUserId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=vo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.displayName=_e.string();break;case 2:st.serviceUserId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{displayName:wt(h.displayName)?String(h.displayName):"",serviceUserId:wt(h.serviceUserId)?String(h.serviceUserId):void 0}},toJSON(h){const k={};return h.displayName!==void 0&&(k.displayName=h.displayName),h.serviceUserId!==void 0&&(k.serviceUserId=h.serviceUserId),k},fromPartial(h){var k,_e;const Et=vo();return Et.displayName=(k=h.displayName)!==null&&k!==void 0?k:"",Et.serviceUserId=(_e=h.serviceUserId)!==null&&_e!==void 0?_e:void 0,Et}};function yo(){return{maxDuration:void 0}}a.GuestAccessTokenExchange={encode(h,k=b.Writer.create()){return h.maxDuration!==void 0&&k.uint32(8).uint32(h.maxDuration),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=yo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.maxDuration=_e.uint32();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0}},toJSON(h){const k={};return h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),k},fromPartial(h){var k;const _e=yo();return _e.maxDuration=(k=h.maxDuration)!==null&&k!==void 0?k:void 0,_e}};function So(){return{direct:void 0,exchange:void 0}}a.GuestAccessToken={encode(h,k=b.Writer.create()){return h.direct!==void 0&&a.GuestAccessTokenDirect.encode(h.direct,k.uint32(10).fork()).ldelim(),h.exchange!==void 0&&a.GuestAccessTokenExchange.encode(h.exchange,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=So();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.direct=a.GuestAccessTokenDirect.decode(_e,_e.uint32());break;case 2:st.exchange=a.GuestAccessTokenExchange.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{direct:wt(h.direct)?a.GuestAccessTokenDirect.fromJSON(h.direct):void 0,exchange:wt(h.exchange)?a.GuestAccessTokenExchange.fromJSON(h.exchange):void 0}},toJSON(h){const k={};return h.direct!==void 0&&(k.direct=h.direct?a.GuestAccessTokenDirect.toJSON(h.direct):void 0),h.exchange!==void 0&&(k.exchange=h.exchange?a.GuestAccessTokenExchange.toJSON(h.exchange):void 0),k},fromPartial(h){const k=So();return k.direct=h.direct!==void 0&&h.direct!==null?a.GuestAccessTokenDirect.fromPartial(h.direct):void 0,k.exchange=h.exchange!==void 0&&h.exchange!==null?a.GuestAccessTokenExchange.fromPartial(h.exchange):void 0,k}};function go(){return{collectionId:"",projectId:"",maxDuration:void 0,role:Yt.ROLE_UNSPECIFIED,token:void 0,url:void 0}}a.CreateGuestAccessTokenRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.maxDuration!==void 0&&k.uint32(24).uint32(h.maxDuration),h.role!==Yt.ROLE_UNSPECIFIED&&k.uint32(32).int32(pn(h.role)),h.token!==void 0&&a.GuestAccessToken.encode(h.token,k.uint32(42).fork()).ldelim(),h.url!==void 0&&k.uint32(50).string(h.url),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=go();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.maxDuration=_e.uint32();break;case 4:st.role=sn(_e.int32());break;case 5:st.token=a.GuestAccessToken.decode(_e,_e.uint32());break;case 6:st.url=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",maxDuration:wt(h.maxDuration)?Number(h.maxDuration):void 0,role:wt(h.role)?sn(h.role):Yt.ROLE_UNSPECIFIED,token:wt(h.token)?a.GuestAccessToken.fromJSON(h.token):void 0,url:wt(h.url)?String(h.url):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.maxDuration!==void 0&&(k.maxDuration=Math.round(h.maxDuration)),h.role!==void 0&&(k.role=nn(h.role)),h.token!==void 0&&(k.token=h.token?a.GuestAccessToken.toJSON(h.token):void 0),h.url!==void 0&&(k.url=h.url),k},fromPartial(h){var k,_e,Et,st,kt;const xt=go();return xt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",xt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",xt.maxDuration=(Et=h.maxDuration)!==null&&Et!==void 0?Et:void 0,xt.role=(st=h.role)!==null&&st!==void 0?st:Yt.ROLE_UNSPECIFIED,xt.token=h.token!==void 0&&h.token!==null?a.GuestAccessToken.fromPartial(h.token):void 0,xt.url=(kt=h.url)!==null&&kt!==void 0?kt:void 0,xt}};function _o(){return{accessToken:"",url:void 0}}a.CreateGuestAccessTokenResponse={encode(h,k=b.Writer.create()){return h.accessToken!==""&&k.uint32(10).string(h.accessToken),h.url!==void 0&&k.uint32(18).string(h.url),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=_o();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.accessToken=_e.string();break;case 2:st.url=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{accessToken:wt(h.accessToken)?String(h.accessToken):"",url:wt(h.url)?String(h.url):void 0}},toJSON(h){const k={};return h.accessToken!==void 0&&(k.accessToken=h.accessToken),h.url!==void 0&&(k.url=h.url),k},fromPartial(h){var k,_e;const Et=_o();return Et.accessToken=(k=h.accessToken)!==null&&k!==void 0?k:"",Et.url=(_e=h.url)!==null&&_e!==void 0?_e:void 0,Et}};function bo(){return{collectionId:"",projectId:"",displayName:""}}a.CreateWebRtcAccessTokenRequest={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.displayName!==""&&k.uint32(26).string(h.displayName),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=bo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.displayName=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",displayName:wt(h.displayName)?String(h.displayName):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.displayName!==void 0&&(k.displayName=h.displayName),k},fromPartial(h){var k,_e,Et;const st=bo();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.displayName=(Et=h.displayName)!==null&&Et!==void 0?Et:"",st}};function Eo(){return{webrtcAccess:void 0}}a.CreateWebRtcAccessTokenResponse={encode(h,k=b.Writer.create()){return h.webrtcAccess!==void 0&&a.WebRtcAccess.encode(h.webrtcAccess,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Eo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 2:st.webrtcAccess=a.WebRtcAccess.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{webrtcAccess:wt(h.webrtcAccess)?a.WebRtcAccess.fromJSON(h.webrtcAccess):void 0}},toJSON(h){const k={};return h.webrtcAccess!==void 0&&(k.webrtcAccess=h.webrtcAccess?a.WebRtcAccess.toJSON(h.webrtcAccess):void 0),k},fromPartial(h){const k=Eo();return k.webrtcAccess=h.webrtcAccess!==void 0&&h.webrtcAccess!==null?a.WebRtcAccess.fromPartial(h.webrtcAccess):void 0,k}};function To(){return{}}a.RefreshAccessTokenRequest={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=To();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return To()}};function Io(){return{}}a.RefreshAccessTokenResponse={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Io();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return Io()}};function ko(){return{collectionId:"",projectId:"",code:"",url:"",autoDelete:void 0}}a.GuestCode={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.code!==""&&k.uint32(26).string(h.code),h.url!==""&&k.uint32(34).string(h.url),h.autoDelete!==void 0&&$.Timestamp.encode(qn(h.autoDelete),k.uint32(42).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=ko();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.code=_e.string();break;case 4:st.url=_e.string();break;case 5:st.autoDelete=Wn($.Timestamp.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",code:wt(h.code)?String(h.code):"",url:wt(h.url)?String(h.url):"",autoDelete:wt(h.autoDelete)?String(h.autoDelete):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.code!==void 0&&(k.code=h.code),h.url!==void 0&&(k.url=h.url),h.autoDelete!==void 0&&(k.autoDelete=h.autoDelete),k},fromPartial(h){var k,_e,Et,st,kt;const xt=ko();return xt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",xt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",xt.code=(Et=h.code)!==null&&Et!==void 0?Et:"",xt.url=(st=h.url)!==null&&st!==void 0?st:"",xt.autoDelete=(kt=h.autoDelete)!==null&&kt!==void 0?kt:void 0,xt}};function Oo(){return{serviceId:"",code:""}}a.GuestCodeRedirectRequest={encode(h,k=b.Writer.create()){return h.serviceId!==""&&k.uint32(10).string(h.serviceId),h.code!==""&&k.uint32(18).string(h.code),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Oo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.serviceId=_e.string();break;case 2:st.code=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{serviceId:wt(h.serviceId)?String(h.serviceId):"",code:wt(h.code)?String(h.code):""}},toJSON(h){const k={};return h.serviceId!==void 0&&(k.serviceId=h.serviceId),h.code!==void 0&&(k.code=h.code),k},fromPartial(h){var k,_e;const Et=Oo();return Et.serviceId=(k=h.serviceId)!==null&&k!==void 0?k:"",Et.code=(_e=h.code)!==null&&_e!==void 0?_e:"",Et}};function Ro(){return{}}a.GuestCodeRedirectResponse={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ro();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return Ro()}};function Co(){return{alg:"",kty:"",use:"",kid:"",e:"",n:""}}a.JsonWebKey={encode(h,k=b.Writer.create()){return h.alg!==""&&k.uint32(10).string(h.alg),h.kty!==""&&k.uint32(18).string(h.kty),h.use!==""&&k.uint32(26).string(h.use),h.kid!==""&&k.uint32(34).string(h.kid),h.e!==""&&k.uint32(42).string(h.e),h.n!==""&&k.uint32(50).string(h.n),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Co();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.alg=_e.string();break;case 2:st.kty=_e.string();break;case 3:st.use=_e.string();break;case 4:st.kid=_e.string();break;case 5:st.e=_e.string();break;case 6:st.n=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{alg:wt(h.alg)?String(h.alg):"",kty:wt(h.kty)?String(h.kty):"",use:wt(h.use)?String(h.use):"",kid:wt(h.kid)?String(h.kid):"",e:wt(h.e)?String(h.e):"",n:wt(h.n)?String(h.n):""}},toJSON(h){const k={};return h.alg!==void 0&&(k.alg=h.alg),h.kty!==void 0&&(k.kty=h.kty),h.use!==void 0&&(k.use=h.use),h.kid!==void 0&&(k.kid=h.kid),h.e!==void 0&&(k.e=h.e),h.n!==void 0&&(k.n=h.n),k},fromPartial(h){var k,_e,Et,st,kt,xt;const un=Co();return un.alg=(k=h.alg)!==null&&k!==void 0?k:"",un.kty=(_e=h.kty)!==null&&_e!==void 0?_e:"",un.use=(Et=h.use)!==null&&Et!==void 0?Et:"",un.kid=(st=h.kid)!==null&&st!==void 0?st:"",un.e=(kt=h.e)!==null&&kt!==void 0?kt:"",un.n=(xt=h.n)!==null&&xt!==void 0?xt:"",un}};function Po(){return{}}a.GetJsonWebKeySetRequest={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Po();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return Po()}};function No(){return{keys:[]}}a.GetJsonWebKeySetResponse={encode(h,k=b.Writer.create()){for(const _e of h.keys)a.JsonWebKey.encode(_e,k.uint32(10).fork()).ldelim();return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=No();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.keys.push(a.JsonWebKey.decode(_e,_e.uint32()));break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{keys:Array.isArray(h==null?void 0:h.keys)?h.keys.map(k=>a.JsonWebKey.fromJSON(k)):[]}},toJSON(h){const k={};return h.keys?k.keys=h.keys.map(_e=>_e?a.JsonWebKey.toJSON(_e):void 0):k.keys=[],k},fromPartial(h){var k;const _e=No();return _e.keys=((k=h.keys)===null||k===void 0?void 0:k.map(Et=>a.JsonWebKey.fromPartial(Et)))||[],_e}};function wo(){return{}}a.GetTestTokenRequest={encode(h,k=b.Writer.create()){return k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=wo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{}},toJSON(h){return{}},fromPartial(h){return wo()}};function Ao(){return{accessToken:""}}a.GetTestTokenResponse={encode(h,k=b.Writer.create()){return h.accessToken!==""&&k.uint32(10).string(h.accessToken),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ao();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.accessToken=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{accessToken:wt(h.accessToken)?String(h.accessToken):""}},toJSON(h){const k={};return h.accessToken!==void 0&&(k.accessToken=h.accessToken),k},fromPartial(h){var k;const _e=Ao();return _e.accessToken=(k=h.accessToken)!==null&&k!==void 0?k:"",_e}};function Do(){return{collectionId:"",projectId:"",destinationId:"",destination:void 0}}a.DestinationCreateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),h.destination!==void 0&&a.Destination.encode(h.destination,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Do();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;case 4:st.destination=a.Destination.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):"",destination:wt(h.destination)?a.Destination.fromJSON(h.destination):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),h.destination!==void 0&&(k.destination=h.destination?a.Destination.toJSON(h.destination):void 0),k},fromPartial(h){var k,_e,Et;const st=Do();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",st.destination=h.destination!==void 0&&h.destination!==null?a.Destination.fromPartial(h.destination):void 0,st}};function Lo(){return{collectionId:"",projectId:"",destinationId:""}}a.DestinationDeleteEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Lo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),k},fromPartial(h){var k,_e,Et;const st=Lo();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",st}};function $o(){return{collectionId:"",projectId:"",destinationId:"",updateMask:[],destination:void 0}}a.DestinationUpdateEvent={encode(h,k=b.Writer.create()){h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId);for(const _e of h.updateMask)k.uint32(34).string(_e);return h.destination!==void 0&&a.Destination.encode(h.destination,k.uint32(42).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=$o();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;case 4:st.updateMask.push(_e.string());break;case 5:st.destination=a.Destination.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):"",updateMask:Array.isArray(h==null?void 0:h.updateMask)?h.updateMask.map(k=>String(k)):[],destination:wt(h.destination)?a.Destination.fromJSON(h.destination):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),h.updateMask?k.updateMask=h.updateMask.map(_e=>_e):k.updateMask=[],h.destination!==void 0&&(k.destination=h.destination?a.Destination.toJSON(h.destination):void 0),k},fromPartial(h){var k,_e,Et,st;const kt=$o();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",kt.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",kt.updateMask=((st=h.updateMask)===null||st===void 0?void 0:st.map(xt=>xt))||[],kt.destination=h.destination!==void 0&&h.destination!==null?a.Destination.fromPartial(h.destination):void 0,kt}};function Mo(){return{collectionId:"",projectId:"",destinationId:"",connect:void 0}}a.DestinationStateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.destinationId!==""&&k.uint32(26).string(h.destinationId),h.connect!==void 0&&k.uint32(32).int32(Bn(h.connect)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Mo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.destinationId=_e.string();break;case 4:st.connect=$n(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",destinationId:wt(h.destinationId)?String(h.destinationId):"",connect:wt(h.connect)?$n(h.connect):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.destinationId!==void 0&&(k.destinationId=h.destinationId),h.connect!==void 0&&(k.connect=h.connect!==void 0?Vn(h.connect):void 0),k},fromPartial(h){var k,_e,Et,st;const kt=Mo();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",kt.destinationId=(Et=h.destinationId)!==null&&Et!==void 0?Et:"",kt.connect=(st=h.connect)!==null&&st!==void 0?st:void 0,kt}};function Uo(){return{collectionId:"",projectId:"",project:void 0}}a.ProjectCreateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.project!==void 0&&a.Project.encode(h.project,k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Uo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.project=a.Project.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",project:wt(h.project)?a.Project.fromJSON(h.project):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),k},fromPartial(h){var k,_e;const Et=Uo();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",Et.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,Et}};function Vo(){return{collectionId:"",projectId:""}}a.ProjectDeleteEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Vo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),k},fromPartial(h){var k,_e;const Et=Vo();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",Et}};function Bo(){return{collectionId:"",projectId:"",updateMask:[],project:void 0}}a.ProjectUpdateEvent={encode(h,k=b.Writer.create()){h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId);for(const _e of h.updateMask)k.uint32(26).string(_e);return h.project!==void 0&&a.Project.encode(h.project,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Bo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.updateMask.push(_e.string());break;case 4:st.project=a.Project.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",updateMask:Array.isArray(h==null?void 0:h.updateMask)?h.updateMask.map(k=>String(k)):[],project:wt(h.project)?a.Project.fromJSON(h.project):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.updateMask?k.updateMask=h.updateMask.map(_e=>_e):k.updateMask=[],h.project!==void 0&&(k.project=h.project?a.Project.toJSON(h.project):void 0),k},fromPartial(h){var k,_e,Et;const st=Bo();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",st.updateMask=((Et=h.updateMask)===null||Et===void 0?void 0:Et.map(kt=>kt))||[],st.project=h.project!==void 0&&h.project!==null?a.Project.fromPartial(h.project):void 0,st}};function Fo(){return{collectionId:"",projectId:"",broadcastId:"",phase:void 0,error:void 0}}a.ProjectBroadcastStateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.broadcastId!==""&&k.uint32(26).string(h.broadcastId),h.phase!==void 0&&k.uint32(32).int32(Wt(h.phase)),h.error!==void 0&&k.uint32(40).int32(Ln(h.error)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Fo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.broadcastId=_e.string();break;case 4:st.phase=_t(_e.int32());break;case 5:st.error=Dn(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",broadcastId:wt(h.broadcastId)?String(h.broadcastId):"",phase:wt(h.phase)?_t(h.phase):void 0,error:wt(h.error)?Dn(h.error):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.broadcastId!==void 0&&(k.broadcastId=h.broadcastId),h.phase!==void 0&&(k.phase=h.phase!==void 0?Lt(h.phase):void 0),h.error!==void 0&&(k.error=h.error!==void 0?dn(h.error):void 0),k},fromPartial(h){var k,_e,Et,st,kt;const xt=Fo();return xt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",xt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",xt.broadcastId=(Et=h.broadcastId)!==null&&Et!==void 0?Et:"",xt.phase=(st=h.phase)!==null&&st!==void 0?st:void 0,xt.error=(kt=h.error)!==null&&kt!==void 0?kt:void 0,xt}};function Jo(){return{collectionId:"",collection:void 0}}a.CollectionCreateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.collection!==void 0&&a.Collection.encode(h.collection,k.uint32(18).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Jo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.collection=a.Collection.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",collection:wt(h.collection)?a.Collection.fromJSON(h.collection):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.collection!==void 0&&(k.collection=h.collection?a.Collection.toJSON(h.collection):void 0),k},fromPartial(h){var k;const _e=Jo();return _e.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",_e.collection=h.collection!==void 0&&h.collection!==null?a.Collection.fromPartial(h.collection):void 0,_e}};function Go(){return{collectionId:""}}a.CollectionDeleteEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Go();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),k},fromPartial(h){var k;const _e=Go();return _e.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",_e}};function qo(){return{collectionId:"",updateMask:[],collection:void 0}}a.CollectionUpdateEvent={encode(h,k=b.Writer.create()){h.collectionId!==""&&k.uint32(10).string(h.collectionId);for(const _e of h.updateMask)k.uint32(18).string(_e);return h.collection!==void 0&&a.Collection.encode(h.collection,k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=qo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.updateMask.push(_e.string());break;case 3:st.collection=a.Collection.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",updateMask:Array.isArray(h==null?void 0:h.updateMask)?h.updateMask.map(k=>String(k)):[],collection:wt(h.collection)?a.Collection.fromJSON(h.collection):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.updateMask?k.updateMask=h.updateMask.map(_e=>_e):k.updateMask=[],h.collection!==void 0&&(k.collection=h.collection?a.Collection.toJSON(h.collection):void 0),k},fromPartial(h){var k,_e;const Et=qo();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.updateMask=((_e=h.updateMask)===null||_e===void 0?void 0:_e.map(st=>st))||[],Et.collection=h.collection!==void 0&&h.collection!==null?a.Collection.fromPartial(h.collection):void 0,Et}};function Wo(){return{collectionId:"",sourceId:"",source:void 0}}a.SourceCreateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId),h.source!==void 0&&a.Source.encode(h.source,k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Wo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;case 3:st.source=a.Source.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",source:wt(h.source)?a.Source.fromJSON(h.source):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.source!==void 0&&(k.source=h.source?a.Source.toJSON(h.source):void 0),k},fromPartial(h){var k,_e;const Et=Wo();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",Et.source=h.source!==void 0&&h.source!==null?a.Source.fromPartial(h.source):void 0,Et}};function Ho(){return{collectionId:"",sourceId:""}}a.SourceDeleteEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ho();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),k},fromPartial(h){var k,_e;const Et=Ho();return Et.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",Et.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",Et}};function zo(){return{collectionId:"",sourceId:"",updateMask:[],source:void 0}}a.SourceUpdateEvent={encode(h,k=b.Writer.create()){h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId);for(const _e of h.updateMask)k.uint32(26).string(_e);return h.source!==void 0&&a.Source.encode(h.source,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=zo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;case 3:st.updateMask.push(_e.string());break;case 4:st.source=a.Source.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",updateMask:Array.isArray(h==null?void 0:h.updateMask)?h.updateMask.map(k=>String(k)):[],source:wt(h.source)?a.Source.fromJSON(h.source):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.updateMask?k.updateMask=h.updateMask.map(_e=>_e):k.updateMask=[],h.source!==void 0&&(k.source=h.source?a.Source.toJSON(h.source):void 0),k},fromPartial(h){var k,_e,Et;const st=zo();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",st.updateMask=((Et=h.updateMask)===null||Et===void 0?void 0:Et.map(kt=>kt))||[],st.source=h.source!==void 0&&h.source!==null?a.Source.fromPartial(h.source):void 0,st}};function jo(){return{collectionId:"",sourceId:"",projectId:"",source:void 0}}a.SourceAddEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId),h.projectId!==""&&k.uint32(26).string(h.projectId),h.source!==void 0&&a.Source.encode(h.source,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=jo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;case 3:st.projectId=_e.string();break;case 4:st.source=a.Source.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",projectId:wt(h.projectId)?String(h.projectId):"",source:wt(h.source)?a.Source.fromJSON(h.source):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.projectId!==void 0&&(k.projectId=h.projectId),h.source!==void 0&&(k.source=h.source?a.Source.toJSON(h.source):void 0),k},fromPartial(h){var k,_e,Et;const st=jo();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",st.projectId=(Et=h.projectId)!==null&&Et!==void 0?Et:"",st.source=h.source!==void 0&&h.source!==null?a.Source.fromPartial(h.source):void 0,st}};function Yo(){return{collectionId:"",sourceId:"",projectId:""}}a.SourceRemoveEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.sourceId!==""&&k.uint32(18).string(h.sourceId),h.projectId!==""&&k.uint32(26).string(h.projectId),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Yo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.sourceId=_e.string();break;case 3:st.projectId=_e.string();break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",projectId:wt(h.projectId)?String(h.projectId):""}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.projectId!==void 0&&(k.projectId=h.projectId),k},fromPartial(h){var k,_e,Et;const st=Yo();return st.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",st.sourceId=(_e=h.sourceId)!==null&&_e!==void 0?_e:"",st.projectId=(Et=h.projectId)!==null&&Et!==void 0?Et:"",st}};function xo(){return{collectionId:"",projectId:"",sourceId:"",connect:void 0}}a.SourceStateEvent={encode(h,k=b.Writer.create()){return h.collectionId!==""&&k.uint32(10).string(h.collectionId),h.projectId!==""&&k.uint32(18).string(h.projectId),h.sourceId!==""&&k.uint32(26).string(h.sourceId),h.connect!==void 0&&k.uint32(32).int32(Bn(h.connect)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=xo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collectionId=_e.string();break;case 2:st.projectId=_e.string();break;case 3:st.sourceId=_e.string();break;case 4:st.connect=$n(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collectionId:wt(h.collectionId)?String(h.collectionId):"",projectId:wt(h.projectId)?String(h.projectId):"",sourceId:wt(h.sourceId)?String(h.sourceId):"",connect:wt(h.connect)?$n(h.connect):void 0}},toJSON(h){const k={};return h.collectionId!==void 0&&(k.collectionId=h.collectionId),h.projectId!==void 0&&(k.projectId=h.projectId),h.sourceId!==void 0&&(k.sourceId=h.sourceId),h.connect!==void 0&&(k.connect=h.connect!==void 0?Vn(h.connect):void 0),k},fromPartial(h){var k,_e,Et,st;const kt=xo();return kt.collectionId=(k=h.collectionId)!==null&&k!==void 0?k:"",kt.projectId=(_e=h.projectId)!==null&&_e!==void 0?_e:"",kt.sourceId=(Et=h.sourceId)!==null&&Et!==void 0?Et:"",kt.connect=(st=h.connect)!==null&&st!==void 0?st:void 0,kt}};function Ko(){return{create:void 0,update:void 0,delete:void 0}}a.CollectionEvent={encode(h,k=b.Writer.create()){return h.create!==void 0&&a.CollectionCreateEvent.encode(h.create,k.uint32(10).fork()).ldelim(),h.update!==void 0&&a.CollectionUpdateEvent.encode(h.update,k.uint32(18).fork()).ldelim(),h.delete!==void 0&&a.CollectionDeleteEvent.encode(h.delete,k.uint32(26).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Ko();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.create=a.CollectionCreateEvent.decode(_e,_e.uint32());break;case 2:st.update=a.CollectionUpdateEvent.decode(_e,_e.uint32());break;case 3:st.delete=a.CollectionDeleteEvent.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{create:wt(h.create)?a.CollectionCreateEvent.fromJSON(h.create):void 0,update:wt(h.update)?a.CollectionUpdateEvent.fromJSON(h.update):void 0,delete:wt(h.delete)?a.CollectionDeleteEvent.fromJSON(h.delete):void 0}},toJSON(h){const k={};return h.create!==void 0&&(k.create=h.create?a.CollectionCreateEvent.toJSON(h.create):void 0),h.update!==void 0&&(k.update=h.update?a.CollectionUpdateEvent.toJSON(h.update):void 0),h.delete!==void 0&&(k.delete=h.delete?a.CollectionDeleteEvent.toJSON(h.delete):void 0),k},fromPartial(h){const k=Ko();return k.create=h.create!==void 0&&h.create!==null?a.CollectionCreateEvent.fromPartial(h.create):void 0,k.update=h.update!==void 0&&h.update!==null?a.CollectionUpdateEvent.fromPartial(h.update):void 0,k.delete=h.delete!==void 0&&h.delete!==null?a.CollectionDeleteEvent.fromPartial(h.delete):void 0,k}};function Qo(){return{create:void 0,update:void 0,delete:void 0,state:void 0}}a.DestinationEvent={encode(h,k=b.Writer.create()){return h.create!==void 0&&a.DestinationCreateEvent.encode(h.create,k.uint32(10).fork()).ldelim(),h.update!==void 0&&a.DestinationUpdateEvent.encode(h.update,k.uint32(18).fork()).ldelim(),h.delete!==void 0&&a.DestinationDeleteEvent.encode(h.delete,k.uint32(26).fork()).ldelim(),h.state!==void 0&&a.DestinationStateEvent.encode(h.state,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Qo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.create=a.DestinationCreateEvent.decode(_e,_e.uint32());break;case 2:st.update=a.DestinationUpdateEvent.decode(_e,_e.uint32());break;case 3:st.delete=a.DestinationDeleteEvent.decode(_e,_e.uint32());break;case 4:st.state=a.DestinationStateEvent.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{create:wt(h.create)?a.DestinationCreateEvent.fromJSON(h.create):void 0,update:wt(h.update)?a.DestinationUpdateEvent.fromJSON(h.update):void 0,delete:wt(h.delete)?a.DestinationDeleteEvent.fromJSON(h.delete):void 0,state:wt(h.state)?a.DestinationStateEvent.fromJSON(h.state):void 0}},toJSON(h){const k={};return h.create!==void 0&&(k.create=h.create?a.DestinationCreateEvent.toJSON(h.create):void 0),h.update!==void 0&&(k.update=h.update?a.DestinationUpdateEvent.toJSON(h.update):void 0),h.delete!==void 0&&(k.delete=h.delete?a.DestinationDeleteEvent.toJSON(h.delete):void 0),h.state!==void 0&&(k.state=h.state?a.DestinationStateEvent.toJSON(h.state):void 0),k},fromPartial(h){const k=Qo();return k.create=h.create!==void 0&&h.create!==null?a.DestinationCreateEvent.fromPartial(h.create):void 0,k.update=h.update!==void 0&&h.update!==null?a.DestinationUpdateEvent.fromPartial(h.update):void 0,k.delete=h.delete!==void 0&&h.delete!==null?a.DestinationDeleteEvent.fromPartial(h.delete):void 0,k.state=h.state!==void 0&&h.state!==null?a.DestinationStateEvent.fromPartial(h.state):void 0,k}};function Xo(){return{create:void 0,update:void 0,delete:void 0,state:void 0}}a.ProjectEvent={encode(h,k=b.Writer.create()){return h.create!==void 0&&a.ProjectCreateEvent.encode(h.create,k.uint32(10).fork()).ldelim(),h.update!==void 0&&a.ProjectUpdateEvent.encode(h.update,k.uint32(18).fork()).ldelim(),h.delete!==void 0&&a.ProjectDeleteEvent.encode(h.delete,k.uint32(26).fork()).ldelim(),h.state!==void 0&&a.ProjectBroadcastStateEvent.encode(h.state,k.uint32(34).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Xo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.create=a.ProjectCreateEvent.decode(_e,_e.uint32());break;case 2:st.update=a.ProjectUpdateEvent.decode(_e,_e.uint32());break;case 3:st.delete=a.ProjectDeleteEvent.decode(_e,_e.uint32());break;case 4:st.state=a.ProjectBroadcastStateEvent.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{create:wt(h.create)?a.ProjectCreateEvent.fromJSON(h.create):void 0,update:wt(h.update)?a.ProjectUpdateEvent.fromJSON(h.update):void 0,delete:wt(h.delete)?a.ProjectDeleteEvent.fromJSON(h.delete):void 0,state:wt(h.state)?a.ProjectBroadcastStateEvent.fromJSON(h.state):void 0}},toJSON(h){const k={};return h.create!==void 0&&(k.create=h.create?a.ProjectCreateEvent.toJSON(h.create):void 0),h.update!==void 0&&(k.update=h.update?a.ProjectUpdateEvent.toJSON(h.update):void 0),h.delete!==void 0&&(k.delete=h.delete?a.ProjectDeleteEvent.toJSON(h.delete):void 0),h.state!==void 0&&(k.state=h.state?a.ProjectBroadcastStateEvent.toJSON(h.state):void 0),k},fromPartial(h){const k=Xo();return k.create=h.create!==void 0&&h.create!==null?a.ProjectCreateEvent.fromPartial(h.create):void 0,k.update=h.update!==void 0&&h.update!==null?a.ProjectUpdateEvent.fromPartial(h.update):void 0,k.delete=h.delete!==void 0&&h.delete!==null?a.ProjectDeleteEvent.fromPartial(h.delete):void 0,k.state=h.state!==void 0&&h.state!==null?a.ProjectBroadcastStateEvent.fromPartial(h.state):void 0,k}};function Zo(){return{create:void 0,update:void 0,delete:void 0,add:void 0,remove:void 0,state:void 0}}a.SourceEvent={encode(h,k=b.Writer.create()){return h.create!==void 0&&a.SourceCreateEvent.encode(h.create,k.uint32(10).fork()).ldelim(),h.update!==void 0&&a.SourceUpdateEvent.encode(h.update,k.uint32(18).fork()).ldelim(),h.delete!==void 0&&a.SourceDeleteEvent.encode(h.delete,k.uint32(26).fork()).ldelim(),h.add!==void 0&&a.SourceAddEvent.encode(h.add,k.uint32(34).fork()).ldelim(),h.remove!==void 0&&a.SourceDeleteEvent.encode(h.remove,k.uint32(42).fork()).ldelim(),h.state!==void 0&&a.SourceStateEvent.encode(h.state,k.uint32(50).fork()).ldelim(),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=Zo();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.create=a.SourceCreateEvent.decode(_e,_e.uint32());break;case 2:st.update=a.SourceUpdateEvent.decode(_e,_e.uint32());break;case 3:st.delete=a.SourceDeleteEvent.decode(_e,_e.uint32());break;case 4:st.add=a.SourceAddEvent.decode(_e,_e.uint32());break;case 5:st.remove=a.SourceDeleteEvent.decode(_e,_e.uint32());break;case 6:st.state=a.SourceStateEvent.decode(_e,_e.uint32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{create:wt(h.create)?a.SourceCreateEvent.fromJSON(h.create):void 0,update:wt(h.update)?a.SourceUpdateEvent.fromJSON(h.update):void 0,delete:wt(h.delete)?a.SourceDeleteEvent.fromJSON(h.delete):void 0,add:wt(h.add)?a.SourceAddEvent.fromJSON(h.add):void 0,remove:wt(h.remove)?a.SourceDeleteEvent.fromJSON(h.remove):void 0,state:wt(h.state)?a.SourceStateEvent.fromJSON(h.state):void 0}},toJSON(h){const k={};return h.create!==void 0&&(k.create=h.create?a.SourceCreateEvent.toJSON(h.create):void 0),h.update!==void 0&&(k.update=h.update?a.SourceUpdateEvent.toJSON(h.update):void 0),h.delete!==void 0&&(k.delete=h.delete?a.SourceDeleteEvent.toJSON(h.delete):void 0),h.add!==void 0&&(k.add=h.add?a.SourceAddEvent.toJSON(h.add):void 0),h.remove!==void 0&&(k.remove=h.remove?a.SourceDeleteEvent.toJSON(h.remove):void 0),h.state!==void 0&&(k.state=h.state?a.SourceStateEvent.toJSON(h.state):void 0),k},fromPartial(h){const k=Zo();return k.create=h.create!==void 0&&h.create!==null?a.SourceCreateEvent.fromPartial(h.create):void 0,k.update=h.update!==void 0&&h.update!==null?a.SourceUpdateEvent.fromPartial(h.update):void 0,k.delete=h.delete!==void 0&&h.delete!==null?a.SourceDeleteEvent.fromPartial(h.delete):void 0,k.add=h.add!==void 0&&h.add!==null?a.SourceAddEvent.fromPartial(h.add):void 0,k.remove=h.remove!==void 0&&h.remove!==null?a.SourceDeleteEvent.fromPartial(h.remove):void 0,k.state=h.state!==void 0&&h.state!==null?a.SourceStateEvent.fromPartial(h.state):void 0,k}};function va(){return{collection:void 0,destination:void 0,project:void 0,source:void 0,unspecified:void 0}}a.LiveEvent={encode(h,k=b.Writer.create()){return h.collection!==void 0&&a.CollectionEvent.encode(h.collection,k.uint32(10).fork()).ldelim(),h.destination!==void 0&&a.DestinationEvent.encode(h.destination,k.uint32(18).fork()).ldelim(),h.project!==void 0&&a.ProjectEvent.encode(h.project,k.uint32(26).fork()).ldelim(),h.source!==void 0&&a.SourceEvent.encode(h.source,k.uint32(34).fork()).ldelim(),h.unspecified!==void 0&&k.uint32(40).int32((0,tt.nullValueToNumber)(h.unspecified)),k},decode(h,k){const _e=h instanceof b.Reader?h:new b.Reader(h);let Et=k===void 0?_e.len:_e.pos+k;const st=va();for(;_e.pos<Et;){const kt=_e.uint32();switch(kt>>>3){case 1:st.collection=a.CollectionEvent.decode(_e,_e.uint32());break;case 2:st.destination=a.DestinationEvent.decode(_e,_e.uint32());break;case 3:st.project=a.ProjectEvent.decode(_e,_e.uint32());break;case 4:st.source=a.SourceEvent.decode(_e,_e.uint32());break;case 5:st.unspecified=(0,tt.nullValueFromJSON)(_e.int32());break;default:_e.skipType(kt&7);break}}return st},fromJSON(h){return{collection:wt(h.collection)?a.CollectionEvent.fromJSON(h.collection):void 0,destination:wt(h.destination)?a.DestinationEvent.fromJSON(h.destination):void 0,project:wt(h.project)?a.ProjectEvent.fromJSON(h.project):void 0,source:wt(h.source)?a.SourceEvent.fromJSON(h.source):void 0,unspecified:wt(h.unspecified)?(0,tt.nullValueFromJSON)(h.unspecified):void 0}},toJSON(h){const k={};return h.collection!==void 0&&(k.collection=h.collection?a.CollectionEvent.toJSON(h.collection):void 0),h.destination!==void 0&&(k.destination=h.destination?a.DestinationEvent.toJSON(h.destination):void 0),h.project!==void 0&&(k.project=h.project?a.ProjectEvent.toJSON(h.project):void 0),h.source!==void 0&&(k.source=h.source?a.SourceEvent.toJSON(h.source):void 0),h.unspecified!==void 0&&(k.unspecified=h.unspecified!==void 0?(0,tt.nullValueToJSON)(h.unspecified):void 0),k},fromPartial(h){var k;const _e=va();return _e.collection=h.collection!==void 0&&h.collection!==null?a.CollectionEvent.fromPartial(h.collection):void 0,_e.destination=h.destination!==void 0&&h.destination!==null?a.DestinationEvent.fromPartial(h.destination):void 0,_e.project=h.project!==void 0&&h.project!==null?a.ProjectEvent.fromPartial(h.project):void 0,_e.source=h.source!==void 0&&h.source!==null?a.SourceEvent.fromPartial(h.source):void 0,_e.unspecified=(k=h.unspecified)!==null&&k!==void 0?k:void 0,_e}};class ga{constructor(k){this.rpc=k,this.CreateCollection=this.CreateCollection.bind(this),this.GetCollection=this.GetCollection.bind(this),this.GetCollections=this.GetCollections.bind(this),this.UpdateCollection=this.UpdateCollection.bind(this),this.DeleteCollection=this.DeleteCollection.bind(this)}CreateCollection(k){const _e=a.CreateCollectionRequest.encode(k).finish();return this.rpc.request("live.v21.CollectionService","CreateCollection",_e).then(st=>a.CreateCollectionResponse.decode(new b.Reader(st)))}GetCollection(k){const _e=a.GetCollectionRequest.encode(k).finish();return this.rpc.request("live.v21.CollectionService","GetCollection",_e).then(st=>a.GetCollectionResponse.decode(new b.Reader(st)))}GetCollections(k){const _e=a.GetCollectionsRequest.encode(k).finish();return this.rpc.request("live.v21.CollectionService","GetCollections",_e).then(st=>a.GetCollectionsResponse.decode(new b.Reader(st)))}UpdateCollection(k){const _e=a.UpdateCollectionRequest.encode(k).finish();return this.rpc.request("live.v21.CollectionService","UpdateCollection",_e).then(st=>a.UpdateCollectionResponse.decode(new b.Reader(st)))}DeleteCollection(k){const _e=a.DeleteCollectionRequest.encode(k).finish();return this.rpc.request("live.v21.CollectionService","DeleteCollection",_e).then(st=>a.DeleteCollectionResponse.decode(new b.Reader(st)))}}a.CollectionServiceClientImpl=ga,a.CollectionServiceDefinition={name:"CollectionService",fullName:"live.v21.CollectionService",methods:{createCollection:{name:"CreateCollection",requestType:a.CreateCollectionRequest,requestStream:!1,responseType:a.CreateCollectionResponse,responseStream:!1,options:{}},getCollection:{name:"GetCollection",requestType:a.GetCollectionRequest,requestStream:!1,responseType:a.GetCollectionResponse,responseStream:!1,options:{}},getCollections:{name:"GetCollections",requestType:a.GetCollectionsRequest,requestStream:!1,responseType:a.GetCollectionsResponse,responseStream:!1,options:{}},updateCollection:{name:"UpdateCollection",requestType:a.UpdateCollectionRequest,requestStream:!1,responseType:a.UpdateCollectionResponse,responseStream:!1,options:{}},deleteCollection:{name:"DeleteCollection",requestType:a.DeleteCollectionRequest,requestStream:!1,responseType:a.DeleteCollectionResponse,responseStream:!1,options:{}}}};class ts{constructor(k){this.rpc=k,this.CreateProject=this.CreateProject.bind(this),this.GetProject=this.GetProject.bind(this),this.DeleteProject=this.DeleteProject.bind(this),this.UpdateProject=this.UpdateProject.bind(this),this.StartProjectBroadcast=this.StartProjectBroadcast.bind(this),this.StopProjectBroadcast=this.StopProjectBroadcast.bind(this),this.StartProjectWebRtc=this.StartProjectWebRtc.bind(this),this.StopProjectWebRtc=this.StopProjectWebRtc.bind(this),this.GetProjectBroadcastSnapshot=this.GetProjectBroadcastSnapshot.bind(this),this.GetProjectBroadcastStatus=this.GetProjectBroadcastStatus.bind(this)}CreateProject(k){const _e=a.CreateProjectRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","CreateProject",_e).then(st=>a.CreateProjectResponse.decode(new b.Reader(st)))}GetProject(k){const _e=a.GetProjectRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","GetProject",_e).then(st=>a.GetProjectResponse.decode(new b.Reader(st)))}DeleteProject(k){const _e=a.DeleteProjectRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","DeleteProject",_e).then(st=>a.DeleteProjectResponse.decode(new b.Reader(st)))}UpdateProject(k){const _e=a.UpdateProjectRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","UpdateProject",_e).then(st=>a.UpdateProjectResponse.decode(new b.Reader(st)))}StartProjectBroadcast(k){const _e=a.StartProjectBroadcastRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","StartProjectBroadcast",_e).then(st=>a.StartProjectBroadcastResponse.decode(new b.Reader(st)))}StopProjectBroadcast(k){const _e=a.StopProjectBroadcastRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","StopProjectBroadcast",_e).then(st=>a.StopProjectBroadcastResponse.decode(new b.Reader(st)))}StartProjectWebRtc(k){const _e=a.StartProjectWebRtcRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","StartProjectWebRtc",_e).then(st=>a.StartProjectWebRtcResponse.decode(new b.Reader(st)))}StopProjectWebRtc(k){const _e=a.StopProjectWebRtcRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","StopProjectWebRtc",_e).then(st=>a.StopProjectWebRtcResponse.decode(new b.Reader(st)))}GetProjectBroadcastSnapshot(k){const _e=a.GetProjectBroadcastSnapshotRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","GetProjectBroadcastSnapshot",_e).then(st=>a.GetProjectBroadcastSnapshotResponse.decode(new b.Reader(st)))}GetProjectBroadcastStatus(k){const _e=a.GetProjectBroadcastStatusRequest.encode(k).finish();return this.rpc.request("live.v21.ProjectService","GetProjectBroadcastStatus",_e).then(st=>a.GetProjectBroadcastStatusResponse.decode(new b.Reader(st)))}}a.ProjectServiceClientImpl=ts,a.ProjectServiceDefinition={name:"ProjectService",fullName:"live.v21.ProjectService",methods:{createProject:{name:"CreateProject",requestType:a.CreateProjectRequest,requestStream:!1,responseType:a.CreateProjectResponse,responseStream:!1,options:{}},getProject:{name:"GetProject",requestType:a.GetProjectRequest,requestStream:!1,responseType:a.GetProjectResponse,responseStream:!1,options:{}},deleteProject:{name:"DeleteProject",requestType:a.DeleteProjectRequest,requestStream:!1,responseType:a.DeleteProjectResponse,responseStream:!1,options:{}},updateProject:{name:"UpdateProject",requestType:a.UpdateProjectRequest,requestStream:!1,responseType:a.UpdateProjectResponse,responseStream:!1,options:{}},startProjectBroadcast:{name:"StartProjectBroadcast",requestType:a.StartProjectBroadcastRequest,requestStream:!1,responseType:a.StartProjectBroadcastResponse,responseStream:!1,options:{}},stopProjectBroadcast:{name:"StopProjectBroadcast",requestType:a.StopProjectBroadcastRequest,requestStream:!1,responseType:a.StopProjectBroadcastResponse,responseStream:!1,options:{}},startProjectWebRtc:{name:"StartProjectWebRtc",requestType:a.StartProjectWebRtcRequest,requestStream:!1,responseType:a.StartProjectWebRtcResponse,responseStream:!1,options:{}},stopProjectWebRtc:{name:"StopProjectWebRtc",requestType:a.StopProjectWebRtcRequest,requestStream:!1,responseType:a.StopProjectWebRtcResponse,responseStream:!1,options:{}},getProjectBroadcastSnapshot:{name:"GetProjectBroadcastSnapshot",requestType:a.GetProjectBroadcastSnapshotRequest,requestStream:!1,responseType:a.GetProjectBroadcastSnapshotResponse,responseStream:!1,options:{}},getProjectBroadcastStatus:{name:"GetProjectBroadcastStatus",requestType:a.GetProjectBroadcastStatusRequest,requestStream:!1,responseType:a.GetProjectBroadcastStatusResponse,responseStream:!1,options:{}}}};class ns{constructor(k){this.rpc=k,this.CreateDestination=this.CreateDestination.bind(this),this.GetDestination=this.GetDestination.bind(this),this.UpdateDestination=this.UpdateDestination.bind(this),this.DeleteDestination=this.DeleteDestination.bind(this)}CreateDestination(k){const _e=a.CreateDestinationRequest.encode(k).finish();return this.rpc.request("live.v21.DestinationService","CreateDestination",_e).then(st=>a.CreateDestinationResponse.decode(new b.Reader(st)))}GetDestination(k){const _e=a.GetDestinationRequest.encode(k).finish();return this.rpc.request("live.v21.DestinationService","GetDestination",_e).then(st=>a.GetDestinationResponse.decode(new b.Reader(st)))}UpdateDestination(k){const _e=a.UpdateDestinationRequest.encode(k).finish();return this.rpc.request("live.v21.DestinationService","UpdateDestination",_e).then(st=>a.UpdateDestinationResponse.decode(new b.Reader(st)))}DeleteDestination(k){const _e=a.DeleteDestinationRequest.encode(k).finish();return this.rpc.request("live.v21.DestinationService","DeleteDestination",_e).then(st=>a.DeleteDestinationResponse.decode(new b.Reader(st)))}}a.DestinationServiceClientImpl=ns,a.DestinationServiceDefinition={name:"DestinationService",fullName:"live.v21.DestinationService",methods:{createDestination:{name:"CreateDestination",requestType:a.CreateDestinationRequest,requestStream:!1,responseType:a.CreateDestinationResponse,responseStream:!1,options:{}},getDestination:{name:"GetDestination",requestType:a.GetDestinationRequest,requestStream:!1,responseType:a.GetDestinationResponse,responseStream:!1,options:{}},updateDestination:{name:"UpdateDestination",requestType:a.UpdateDestinationRequest,requestStream:!1,responseType:a.UpdateDestinationResponse,responseStream:!1,options:{}},deleteDestination:{name:"DeleteDestination",requestType:a.DeleteDestinationRequest,requestStream:!1,responseType:a.DeleteDestinationResponse,responseStream:!1,options:{}}}};class rs{constructor(k){this.rpc=k,this.CreateSource=this.CreateSource.bind(this),this.DeleteSource=this.DeleteSource.bind(this),this.UpdateSource=this.UpdateSource.bind(this),this.UpdateSourceInProject=this.UpdateSourceInProject.bind(this),this.GetSource=this.GetSource.bind(this),this.GetSources=this.GetSources.bind(this),this.AddSourceToProject=this.AddSourceToProject.bind(this),this.RemoveSourceFromProject=this.RemoveSourceFromProject.bind(this)}CreateSource(k){const _e=a.CreateSourceRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","CreateSource",_e).then(st=>a.CreateSourceResponse.decode(new b.Reader(st)))}DeleteSource(k){const _e=a.DeleteSourceRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","DeleteSource",_e).then(st=>a.DeleteSourceResponse.decode(new b.Reader(st)))}UpdateSource(k){const _e=a.UpdateSourceRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","UpdateSource",_e).then(st=>a.UpdateSourceResponse.decode(new b.Reader(st)))}UpdateSourceInProject(k){const _e=a.UpdateSourceInProjectRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","UpdateSourceInProject",_e).then(st=>a.UpdateSourceInProjectResponse.decode(new b.Reader(st)))}GetSource(k){const _e=a.GetSourceRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","GetSource",_e).then(st=>a.GetSourceResponse.decode(new b.Reader(st)))}GetSources(k){const _e=a.GetSourcesRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","GetSources",_e).then(st=>a.GetSourcesResponse.decode(new b.Reader(st)))}AddSourceToProject(k){const _e=a.AddSourceToProjectRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","AddSourceToProject",_e).then(st=>a.AddSourceToProjectResponse.decode(new b.Reader(st)))}RemoveSourceFromProject(k){const _e=a.RemoveSourceFromProjectRequest.encode(k).finish();return this.rpc.request("live.v21.SourceService","RemoveSourceFromProject",_e).then(st=>a.RemoveSourceFromProjectResponse.decode(new b.Reader(st)))}}a.SourceServiceClientImpl=rs,a.SourceServiceDefinition={name:"SourceService",fullName:"live.v21.SourceService",methods:{createSource:{name:"CreateSource",requestType:a.CreateSourceRequest,requestStream:!1,responseType:a.CreateSourceResponse,responseStream:!1,options:{}},deleteSource:{name:"DeleteSource",requestType:a.DeleteSourceRequest,requestStream:!1,responseType:a.DeleteSourceResponse,responseStream:!1,options:{}},updateSource:{name:"UpdateSource",requestType:a.UpdateSourceRequest,requestStream:!1,responseType:a.UpdateSourceResponse,responseStream:!1,options:{}},updateSourceInProject:{name:"UpdateSourceInProject",requestType:a.UpdateSourceInProjectRequest,requestStream:!1,responseType:a.UpdateSourceInProjectResponse,responseStream:!1,options:{}},getSource:{name:"GetSource",requestType:a.GetSourceRequest,requestStream:!1,responseType:a.GetSourceResponse,responseStream:!1,options:{}},getSources:{name:"GetSources",requestType:a.GetSourcesRequest,requestStream:!1,responseType:a.GetSourcesResponse,responseStream:!1,options:{}},addSourceToProject:{name:"AddSourceToProject",requestType:a.AddSourceToProjectRequest,requestStream:!1,responseType:a.AddSourceToProjectResponse,responseStream:!1,options:{}},removeSourceFromProject:{name:"RemoveSourceFromProject",requestType:a.RemoveSourceFromProjectRequest,requestStream:!1,responseType:a.RemoveSourceFromProjectResponse,responseStream:!1,options:{}}}};class is{constructor(k){this.rpc=k,this.CreateAccessToken=this.CreateAccessToken.bind(this)}CreateAccessToken(k){const _e=a.CreateAccessTokenRequest.encode(k).finish();return this.rpc.request("live.v21.BackendAuthenticationService","CreateAccessToken",_e).then(st=>a.CreateAccessTokenResponse.decode(new b.Reader(st)))}}a.BackendAuthenticationServiceClientImpl=is,a.BackendAuthenticationServiceDefinition={name:"BackendAuthenticationService",fullName:"live.v21.BackendAuthenticationService",methods:{createAccessToken:{name:"CreateAccessToken",requestType:a.CreateAccessTokenRequest,requestStream:!1,responseType:a.CreateAccessTokenResponse,responseStream:!1,options:{}}}};class os{constructor(k){this.rpc=k,this.CreateGuestAccessToken=this.CreateGuestAccessToken.bind(this),this.RefreshAccessToken=this.RefreshAccessToken.bind(this),this.CreateWebRtcAccessToken=this.CreateWebRtcAccessToken.bind(this)}CreateGuestAccessToken(k){const _e=a.CreateGuestAccessTokenRequest.encode(k).finish();return this.rpc.request("live.v21.AuthenticationService","CreateGuestAccessToken",_e).then(st=>a.CreateGuestAccessTokenResponse.decode(new b.Reader(st)))}RefreshAccessToken(k){const _e=a.RefreshAccessTokenRequest.encode(k).finish();return this.rpc.request("live.v21.AuthenticationService","RefreshAccessToken",_e).then(st=>a.RefreshAccessTokenResponse.decode(new b.Reader(st)))}CreateWebRtcAccessToken(k){const _e=a.CreateWebRtcAccessTokenRequest.encode(k).finish();return this.rpc.request("live.v21.AuthenticationService","CreateWebRtcAccessToken",_e).then(st=>a.CreateWebRtcAccessTokenResponse.decode(new b.Reader(st)))}}a.AuthenticationServiceClientImpl=os,a.AuthenticationServiceDefinition={name:"AuthenticationService",fullName:"live.v21.AuthenticationService",methods:{createGuestAccessToken:{name:"CreateGuestAccessToken",requestType:a.CreateGuestAccessTokenRequest,requestStream:!1,responseType:a.CreateGuestAccessTokenResponse,responseStream:!1,options:{}},refreshAccessToken:{name:"RefreshAccessToken",requestType:a.RefreshAccessTokenRequest,requestStream:!1,responseType:a.RefreshAccessTokenResponse,responseStream:!1,options:{}},createWebRtcAccessToken:{name:"CreateWebRtcAccessToken",requestType:a.CreateWebRtcAccessTokenRequest,requestStream:!1,responseType:a.CreateWebRtcAccessTokenResponse,responseStream:!1,options:{}}}};class as{constructor(k){this.rpc=k,this.GetJsonWebKeySet=this.GetJsonWebKeySet.bind(this),this.GuestCodeRedirect=this.GuestCodeRedirect.bind(this)}GetJsonWebKeySet(k){const _e=a.GetJsonWebKeySetRequest.encode(k).finish();return this.rpc.request("live.v21.PublicAuthenticationService","GetJsonWebKeySet",_e).then(st=>a.GetJsonWebKeySetResponse.decode(new b.Reader(st)))}GuestCodeRedirect(k){const _e=a.GuestCodeRedirectRequest.encode(k).finish();return this.rpc.request("live.v21.PublicAuthenticationService","GuestCodeRedirect",_e).then(st=>a.GuestCodeRedirectResponse.decode(new b.Reader(st)))}}a.PublicAuthenticationServiceClientImpl=as,a.PublicAuthenticationServiceDefinition={name:"PublicAuthenticationService",fullName:"live.v21.PublicAuthenticationService",methods:{getJsonWebKeySet:{name:"GetJsonWebKeySet",requestType:a.GetJsonWebKeySetRequest,requestStream:!1,responseType:a.GetJsonWebKeySetResponse,responseStream:!1,options:{}},guestCodeRedirect:{name:"GuestCodeRedirect",requestType:a.GuestCodeRedirectRequest,requestStream:!1,responseType:a.GuestCodeRedirectResponse,responseStream:!1,options:{}}}};var _n=(()=>{if(typeof _n!="undefined")return _n;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();const ss=_n.atob||(h=>_n.Buffer.from(h,"base64").toString("binary"));function us(h){const k=ss(h),_e=new Uint8Array(k.length);for(let Et=0;Et<k.length;++Et)_e[Et]=k.charCodeAt(Et);return _e}const ds=_n.btoa||(h=>_n.Buffer.from(h,"binary").toString("base64"));function cs(h){const k=[];return h.forEach(_e=>{k.push(String.fromCharCode(_e))}),ds(k.join(""))}function qn(h){const k=new Date(h),_e=k.getTime()/1e3,Et=k.getTime()%1e3*1e6;return{seconds:_e,nanos:Et}}function Wn(h){let k=h.seconds*1e3;return k+=h.nanos/1e6,new Date(k).toISOString()}b.util.Long!==_.default&&(b.util.Long=_.default,b.configure());function wt(h){return h!=null}})(api$1);(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ut,lt,Tt,yt){yt===void 0&&(yt=Tt);var pt=Object.getOwnPropertyDescriptor(lt,Tt);(!pt||("get"in pt?!lt.__esModule:pt.writable||pt.configurable))&&(pt={enumerable:!0,get:function(){return lt[Tt]}}),Object.defineProperty(ut,yt,pt)}:function(ut,lt,Tt,yt){yt===void 0&&(yt=Tt),ut[yt]=lt[Tt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ut,lt){Object.defineProperty(ut,"default",{enumerable:!0,value:lt})}:function(ut,lt){ut.default=lt}),c=commonjsGlobal&&commonjsGlobal.__decorate||function(ut,lt,Tt,yt){var pt=arguments.length,vt=pt<3?lt:yt===null?yt=Object.getOwnPropertyDescriptor(lt,Tt):yt,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")vt=Reflect.decorate(ut,lt,Tt,yt);else for(var ct=ut.length-1;ct>=0;ct--)(it=ut[ct])&&(vt=(pt<3?it(vt):pt>3?it(lt,Tt,vt):it(lt,Tt))||vt);return pt>3&&vt&&Object.defineProperty(lt,Tt,vt),vt},g=commonjsGlobal&&commonjsGlobal.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var lt={};if(ut!=null)for(var Tt in ut)Tt!=="default"&&Object.prototype.hasOwnProperty.call(ut,Tt)&&s(lt,ut,Tt);return d(lt,ut),lt},_=commonjsGlobal&&commonjsGlobal.__metadata||function(ut,lt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ut,lt)};Object.defineProperty(a,"__esModule",{value:!0}),a.LiveApi=void 0;const b=g(lib$1),$=api$2,tt=g(api$1),nt=decorator,ot="LiveApi";class dt extends $.ApiClient{constructor(lt,Tt,yt,pt,vt,it,ct){super(lt,yt,it,ot,ct),this.handlers={},this.eventApi=Tt,this.accessTokenRefreshCallback=pt,this.publicAuthentication=this.clientFactory.create(tt.PublicAuthenticationServiceDefinition,this.channel),vt!=null&&(this.backendAuthentication=this.clientFactory.create(tt.BackendAuthenticationServiceDefinition,this.channel,{"*":{metadata:b.Metadata({"X-Api-Key":vt})}})),this.eventApi.on("event",{name:`${dt.LIVEAPI_EVENT_PREFIX}:*`,ignoreSessionEvents:!0,allowedSessionEvents:[`${dt.LIVEAPI_EVENT_PREFIX}:EVENT_TYPE_PROJECT:EVENT_SUB_TYPE_STATE`]},this.eventCallback.bind(this))}on(lt,Tt){var yt;this.handlers[lt]=(yt=this.handlers[lt])!==null&&yt!==void 0?yt:[],this.handlers[lt].push(Tt)}off(lt,Tt){this.handlers[lt]=this.handlers[lt].filter(yt=>yt!==Tt)}emitToHandlers(lt,Tt,yt){var pt;for(const vt of(pt=this.handlers[lt])!==null&&pt!==void 0?pt:[])vt(Object.values(yt).find(it=>!!it),Tt)}async subscribeToCollection(lt){await this.eventApi.subscribe(`${dt.LIVEAPI_EVENT_PREFIX}:*`,{target:{collectionId:lt}})}async unsubscribeFromCollection(lt){await this.eventApi.unsubscribe(`${dt.LIVEAPI_EVENT_PREFIX}:*`,{target:{collectionId:lt}})}async subscribeToProject(lt,Tt){await this.eventApi.subscribe(`${dt.LIVEAPI_EVENT_PREFIX}:*`,{target:{collectionId:lt,projectId:Tt}})}async unsubscribeFromProject(lt,Tt){await this.eventApi.unsubscribe(`${dt.LIVEAPI_EVENT_PREFIX}:*`,{target:{collectionId:lt,projectId:Tt}})}eventCallback(lt){let yt=lt.name.split(`${dt.LIVEAPI_EVENT_PREFIX}:`)[1].split(":"),pt=tt.eventTypeFromJSON(yt[0]),vt=tt.eventSubTypeFromJSON(yt[1]);this.log.info("processing event: "+pt+"/"+vt),dt.liveApiEventMap[pt]&&this.emitToHandlers(pt,vt,lt.payload)}_setup(lt){let Tt=this;lt.onHeader=function(yt){let pt=yt.get("Authorization");if(pt!=null){const vt=pt.split(" ");if(vt.length==2&&vt[0]=="Bearer"){let it=vt[1];Tt.log.info("received refresh token"),Tt.accessTokenRefreshCallback(it)}}},this.collection=this.clientFactory.create(tt.CollectionServiceDefinition,this.channel,{"*":lt}),this.project=this.clientFactory.create(tt.ProjectServiceDefinition,this.channel,{"*":lt}),this.source=this.clientFactory.create(tt.SourceServiceDefinition,this.channel,{"*":lt}),this.destination=this.clientFactory.create(tt.DestinationServiceDefinition,this.channel,{"*":lt}),this.authentication=this.clientFactory.create(tt.AuthenticationServiceDefinition,this.channel,{"*":lt})}}dt.LIVEAPI_EVENT_PREFIX="apistream:live",c([(0,nt.RequiresSdkAuthentication)(),_("design:type",Object)],dt.prototype,"collection",void 0),c([(0,nt.RequiresSdkAuthentication)(),_("design:type",Object)],dt.prototype,"project",void 0),c([(0,nt.RequiresSdkAuthentication)(),_("design:type",Object)],dt.prototype,"source",void 0),c([(0,nt.RequiresSdkAuthentication)(),_("design:type",Object)],dt.prototype,"destination",void 0),c([(0,nt.RequiresSdkAuthentication)(),_("design:type",Object)],dt.prototype,"authentication",void 0),a.LiveApi=dt,function(ut){ut.liveApiEventMap={[tt.EventType.EVENT_TYPE_COLLECTION]:"collection",[tt.EventType.EVENT_TYPE_PROJECT]:"project",[tt.EventType.EVENT_TYPE_SOURCE]:"source",[tt.EventType.EVENT_TYPE_DESTINATION]:"destination",[tt.EventType.EVENT_TYPE_UNSPECIFIED]:"unspecified"}}(dt=a.LiveApi||(a.LiveApi={}))})(liveapi);var eventapi={},dist$2={},api={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(a,s){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var g in c)c.hasOwnProperty(g)&&(d[g]=c[g])},extendStatics(a,s)};function __extends(a,s){extendStatics(a,s);function d(){this.constructor=a}a.prototype=s===null?Object.create(s):(d.prototype=s.prototype,new d)}function isFunction$1(a){return typeof a=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config$2={Promise:void 0,set useDeprecatedSynchronousErrorHandling(a){if(a){var s=new Error;""+s.stack}_enable_super_gross_mode_that_will_cause_bad_things=a},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(a){setTimeout(function(){throw a},0)}var empty$2={closed:!0,next:function(a){},error:function(a){if(config$2.useDeprecatedSynchronousErrorHandling)throw a;hostReportError(a)},complete:function(){}},isArray$2=function(){return Array.isArray||function(a){return a&&typeof a.length=="number"}}();function isObject$4(a){return a!==null&&typeof a=="object"}var UnsubscriptionErrorImpl=function(){function a(s){return Error.call(this),this.message=s?s.length+` errors occurred during unsubscription:
`+s.map(function(d,c){return c+1+") "+d.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=s,this}return a.prototype=Object.create(Error.prototype),a}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function a(s){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,s&&(this._ctorUnsubscribe=!0,this._unsubscribe=s)}return a.prototype.unsubscribe=function(){var s;if(!this.closed){var d=this,c=d._parentOrParents,g=d._ctorUnsubscribe,_=d._unsubscribe,b=d._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,c instanceof a)c.remove(this);else if(c!==null)for(var $=0;$<c.length;++$){var tt=c[$];tt.remove(this)}if(isFunction$1(_)){g&&(this._unsubscribe=void 0);try{_.call(this)}catch(dt){s=dt instanceof UnsubscriptionError?flattenUnsubscriptionErrors(dt.errors):[dt]}}if(isArray$2(b))for(var $=-1,nt=b.length;++$<nt;){var ot=b[$];if(isObject$4(ot))try{ot.unsubscribe()}catch(ut){s=s||[],ut instanceof UnsubscriptionError?s=s.concat(flattenUnsubscriptionErrors(ut.errors)):s.push(ut)}}if(s)throw new UnsubscriptionError(s)}},a.prototype.add=function(s){var d=s;if(!s)return a.EMPTY;switch(typeof s){case"function":d=new a(s);case"object":if(d===this||d.closed||typeof d.unsubscribe!="function")return d;if(this.closed)return d.unsubscribe(),d;if(!(d instanceof a)){var c=d;d=new a,d._subscriptions=[c]}break;default:throw new Error("unrecognized teardown "+s+" added to Subscription.")}var g=d._parentOrParents;if(g===null)d._parentOrParents=this;else if(g instanceof a){if(g===this)return d;d._parentOrParents=[g,this]}else if(g.indexOf(this)===-1)g.push(this);else return d;var _=this._subscriptions;return _===null?this._subscriptions=[d]:_.push(d),d},a.prototype.remove=function(s){var d=this._subscriptions;if(d){var c=d.indexOf(s);c!==-1&&d.splice(c,1)}},a.EMPTY=function(s){return s.closed=!0,s}(new a),a}();function flattenUnsubscriptionErrors(a){return a.reduce(function(s,d){return s.concat(d instanceof UnsubscriptionError?d.errors:d)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this)||this;switch(_.syncErrorValue=null,_.syncErrorThrown=!1,_.syncErrorThrowable=!1,_.isStopped=!1,arguments.length){case 0:_.destination=empty$2;break;case 1:if(!d){_.destination=empty$2;break}if(typeof d=="object"){d instanceof s?(_.syncErrorThrowable=d.syncErrorThrowable,_.destination=d,d.add(_)):(_.syncErrorThrowable=!0,_.destination=new SafeSubscriber(_,d));break}default:_.syncErrorThrowable=!0,_.destination=new SafeSubscriber(_,d,c,g);break}return _}return s.prototype[rxSubscriber]=function(){return this},s.create=function(d,c,g){var _=new s(d,c,g);return _.syncErrorThrowable=!1,_},s.prototype.next=function(d){this.isStopped||this._next(d)},s.prototype.error=function(d){this.isStopped||(this.isStopped=!0,this._error(d))},s.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},s.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},s.prototype._next=function(d){this.destination.next(d)},s.prototype._error=function(d){this.destination.error(d),this.unsubscribe()},s.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},s.prototype._unsubscribeAndRecycle=function(){var d=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=d,this},s}(Subscription),SafeSubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this)||this;b._parentSubscriber=d;var $,tt=b;return isFunction$1(c)?$=c:c&&($=c.next,g=c.error,_=c.complete,c!==empty$2&&(tt=Object.create(c),isFunction$1(tt.unsubscribe)&&b.add(tt.unsubscribe.bind(tt)),tt.unsubscribe=b.unsubscribe.bind(b))),b._context=tt,b._next=$,b._error=g,b._complete=_,b}return s.prototype.next=function(d){if(!this.isStopped&&this._next){var c=this._parentSubscriber;!config$2.useDeprecatedSynchronousErrorHandling||!c.syncErrorThrowable?this.__tryOrUnsub(this._next,d):this.__tryOrSetError(c,this._next,d)&&this.unsubscribe()}},s.prototype.error=function(d){if(!this.isStopped){var c=this._parentSubscriber,g=config$2.useDeprecatedSynchronousErrorHandling;if(this._error)!g||!c.syncErrorThrowable?(this.__tryOrUnsub(this._error,d),this.unsubscribe()):(this.__tryOrSetError(c,this._error,d),this.unsubscribe());else if(c.syncErrorThrowable)g?(c.syncErrorValue=d,c.syncErrorThrown=!0):hostReportError(d),this.unsubscribe();else{if(this.unsubscribe(),g)throw d;hostReportError(d)}}},s.prototype.complete=function(){var d=this;if(!this.isStopped){var c=this._parentSubscriber;if(this._complete){var g=function(){return d._complete.call(d._context)};!config$2.useDeprecatedSynchronousErrorHandling||!c.syncErrorThrowable?(this.__tryOrUnsub(g),this.unsubscribe()):(this.__tryOrSetError(c,g),this.unsubscribe())}else this.unsubscribe()}},s.prototype.__tryOrUnsub=function(d,c){try{d.call(this._context,c)}catch(g){if(this.unsubscribe(),config$2.useDeprecatedSynchronousErrorHandling)throw g;hostReportError(g)}},s.prototype.__tryOrSetError=function(d,c,g){if(!config$2.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{c.call(this._context,g)}catch(_){return config$2.useDeprecatedSynchronousErrorHandling?(d.syncErrorValue=_,d.syncErrorThrown=!0,!0):(hostReportError(_),!0)}return!1},s.prototype._unsubscribe=function(){var d=this._parentSubscriber;this._context=null,this._parentSubscriber=null,d.unsubscribe()},s}(Subscriber);function canReportError(a){for(;a;){var s=a,d=s.closed,c=s.destination,g=s.isStopped;if(d||g)return!1;c&&c instanceof Subscriber?a=c:a=null}return!0}function toSubscriber(a,s,d){if(a){if(a instanceof Subscriber)return a;if(a[rxSubscriber])return a[rxSubscriber]()}return!a&&!s&&!d?new Subscriber(empty$2):new Subscriber(a,s,d)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(a){return a}function pipe(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return pipeFromArray(a)}function pipeFromArray(a){return a.length===0?identity:a.length===1?a[0]:function(d){return a.reduce(function(c,g){return g(c)},d)}}var Observable=function(){function a(s){this._isScalar=!1,s&&(this._subscribe=s)}return a.prototype.lift=function(s){var d=new a;return d.source=this,d.operator=s,d},a.prototype.subscribe=function(s,d,c){var g=this.operator,_=toSubscriber(s,d,c);if(g?_.add(g.call(_,this.source)):_.add(this.source||config$2.useDeprecatedSynchronousErrorHandling&&!_.syncErrorThrowable?this._subscribe(_):this._trySubscribe(_)),config$2.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable&&(_.syncErrorThrowable=!1,_.syncErrorThrown))throw _.syncErrorValue;return _},a.prototype._trySubscribe=function(s){try{return this._subscribe(s)}catch(d){config$2.useDeprecatedSynchronousErrorHandling&&(s.syncErrorThrown=!0,s.syncErrorValue=d),canReportError(s)?s.error(d):console.warn(d)}},a.prototype.forEach=function(s,d){var c=this;return d=getPromiseCtor(d),new d(function(g,_){var b;b=c.subscribe(function($){try{s($)}catch(tt){_(tt),b&&b.unsubscribe()}},_,g)})},a.prototype._subscribe=function(s){var d=this.source;return d&&d.subscribe(s)},a.prototype[observable]=function(){return this},a.prototype.pipe=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return s.length===0?this:pipeFromArray(s)(this)},a.prototype.toPromise=function(s){var d=this;return s=getPromiseCtor(s),new s(function(c,g){var _;d.subscribe(function(b){return _=b},function(b){return g(b)},function(){return c(_)})})},a.create=function(s){return new a(s)},a}();function getPromiseCtor(a){if(a||(a=config$2.Promise||Promise),!a)throw new Error("no Promise impl found");return a}var subscribeToArray=function(a){return function(s){for(var d=0,c=a.length;d<c&&!s.closed;d++)s.next(a[d]);s.complete()}},subscribeToPromise=function(a){return function(s){return a.then(function(d){s.closed||(s.next(d),s.complete())},function(d){return s.error(d)}).then(null,hostReportError),s}};function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator(),subscribeToIterable=function(a){return function(s){var d=a[iterator]();do{var c=void 0;try{c=d.next()}catch(g){return s.error(g),s}if(c.done){s.complete();break}if(s.next(c.value),s.closed)break}while(!0);return typeof d.return=="function"&&s.add(function(){d.return&&d.return()}),s}},subscribeToObservable=function(a){return function(s){var d=a[observable]();if(typeof d.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return d.subscribe(s)}},isArrayLike=function(a){return a&&typeof a.length=="number"&&typeof a!="function"};function isPromise(a){return!!a&&typeof a.subscribe!="function"&&typeof a.then=="function"}var subscribeTo=function(a){if(!!a&&typeof a[observable]=="function")return subscribeToObservable(a);if(isArrayLike(a))return subscribeToArray(a);if(isPromise(a))return subscribeToPromise(a);if(!!a&&typeof a[iterator]=="function")return subscribeToIterable(a);var s=isObject$4(a)?"an invalid object":"'"+a+"'",d="You provided "+s+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(d)},SimpleInnerSubscriber=function(a){__extends(s,a);function s(d){var c=a.call(this)||this;return c.parent=d,c}return s.prototype._next=function(d){this.parent.notifyNext(d)},s.prototype._error=function(d){this.parent.notifyError(d),this.unsubscribe()},s.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},s}(Subscriber),SimpleOuterSubscriber=function(a){__extends(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.notifyNext=function(d){this.destination.next(d)},s.prototype.notifyError=function(d){this.destination.error(d)},s.prototype.notifyComplete=function(){this.destination.complete()},s}(Subscriber);function innerSubscribe(a,s){if(!s.closed){if(a instanceof Observable)return a.subscribe(s);var d;try{d=subscribeTo(a)(s)}catch(c){s.error(c)}return d}}function audit(a){return function(d){return d.lift(new AuditOperator(a))}}var AuditOperator=function(){function a(s){this.durationSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new AuditSubscriber(s,this.durationSelector))},a}(),AuditSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.durationSelector=c,g.hasValue=!1,g}return s.prototype._next=function(d){if(this.value=d,this.hasValue=!0,!this.throttled){var c=void 0;try{var g=this.durationSelector;c=g(d)}catch(b){return this.destination.error(b)}var _=innerSubscribe(c,new SimpleInnerSubscriber(this));!_||_.closed?this.clearThrottle():this.add(this.throttled=_)}},s.prototype.clearThrottle=function(){var d=this,c=d.value,g=d.hasValue,_=d.throttled;_&&(this.remove(_),this.throttled=void 0,_.unsubscribe()),g&&(this.value=void 0,this.hasValue=!1,this.destination.next(c))},s.prototype.notifyNext=function(){this.clearThrottle()},s.prototype.notifyComplete=function(){this.clearThrottle()},s}(SimpleOuterSubscriber),Action=function(a){__extends(s,a);function s(d,c){return a.call(this)||this}return s.prototype.schedule=function(d,c){return this},s}(Subscription),AsyncAction=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d,c)||this;return g.scheduler=d,g.work=c,g.pending=!1,g}return s.prototype.schedule=function(d,c){if(c===void 0&&(c=0),this.closed)return this;this.state=d;var g=this.id,_=this.scheduler;return g!=null&&(this.id=this.recycleAsyncId(_,g,c)),this.pending=!0,this.delay=c,this.id=this.id||this.requestAsyncId(_,this.id,c),this},s.prototype.requestAsyncId=function(d,c,g){return g===void 0&&(g=0),setInterval(d.flush.bind(d,this),g)},s.prototype.recycleAsyncId=function(d,c,g){if(g===void 0&&(g=0),g!==null&&this.delay===g&&this.pending===!1)return c;clearInterval(c)},s.prototype.execute=function(d,c){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var g=this._execute(d,c);if(g)return g;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},s.prototype._execute=function(d,c){var g=!1,_=void 0;try{this.work(d)}catch(b){g=!0,_=!!b&&b||new Error(b)}if(g)return this.unsubscribe(),_},s.prototype._unsubscribe=function(){var d=this.id,c=this.scheduler,g=c.actions,_=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,_!==-1&&g.splice(_,1),d!=null&&(this.id=this.recycleAsyncId(c,d,null)),this.delay=null},s}(Action),Scheduler=function(){function a(s,d){d===void 0&&(d=a.now),this.SchedulerAction=s,this.now=d}return a.prototype.schedule=function(s,d,c){return d===void 0&&(d=0),new this.SchedulerAction(this,s).schedule(c,d)},a.now=function(){return Date.now()},a}(),AsyncScheduler=function(a){__extends(s,a);function s(d,c){c===void 0&&(c=Scheduler.now);var g=a.call(this,d,function(){return s.delegate&&s.delegate!==g?s.delegate.now():c()})||this;return g.actions=[],g.active=!1,g.scheduled=void 0,g}return s.prototype.schedule=function(d,c,g){return c===void 0&&(c=0),s.delegate&&s.delegate!==this?s.delegate.schedule(d,c,g):a.prototype.schedule.call(this,d,c,g)},s.prototype.flush=function(d){var c=this.actions;if(this.active){c.push(d);return}var g;this.active=!0;do if(g=d.execute(d.state,d.delay))break;while(d=c.shift());if(this.active=!1,g){for(;d=c.shift();)d.unsubscribe();throw g}},s}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler;function isNumeric(a){return!isArray$2(a)&&a-parseFloat(a)+1>=0}function isScheduler(a){return a&&typeof a.schedule=="function"}function timer(a,s,d){a===void 0&&(a=0);var c=-1;return isNumeric(s)?c=Number(s)<1&&1||Number(s):isScheduler(s)&&(d=s),isScheduler(d)||(d=async),new Observable(function(g){var _=isNumeric(a)?a:+a-d.now();return d.schedule(dispatch$1,_,{index:0,period:c,subscriber:g})})}function dispatch$1(a){var s=a.index,d=a.period,c=a.subscriber;if(c.next(s),!c.closed){if(d===-1)return c.complete();a.index=s+1,this.schedule(a,d)}}function auditTime(a,s){return s===void 0&&(s=async),audit(function(){return timer(a,s)})}function buffer(a){return function(d){return d.lift(new BufferOperator(a))}}var BufferOperator=function(){function a(s){this.closingNotifier=s}return a.prototype.call=function(s,d){return d.subscribe(new BufferSubscriber(s,this.closingNotifier))},a}(),BufferSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.buffer=[],g.add(innerSubscribe(c,new SimpleInnerSubscriber(g))),g}return s.prototype._next=function(d){this.buffer.push(d)},s.prototype.notifyNext=function(){var d=this.buffer;this.buffer=[],this.destination.next(d)},s}(SimpleOuterSubscriber);function bufferCount(a,s){return s===void 0&&(s=null),function(c){return c.lift(new BufferCountOperator(a,s))}}var BufferCountOperator=function(){function a(s,d){this.bufferSize=s,this.startBufferEvery=d,!d||s===d?this.subscriberClass=BufferCountSubscriber:this.subscriberClass=BufferSkipCountSubscriber}return a.prototype.call=function(s,d){return d.subscribe(new this.subscriberClass(s,this.bufferSize,this.startBufferEvery))},a}(),BufferCountSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.bufferSize=c,g.buffer=[],g}return s.prototype._next=function(d){var c=this.buffer;c.push(d),c.length==this.bufferSize&&(this.destination.next(c),this.buffer=[])},s.prototype._complete=function(){var d=this.buffer;d.length>0&&this.destination.next(d),a.prototype._complete.call(this)},s}(Subscriber),BufferSkipCountSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.bufferSize=c,_.startBufferEvery=g,_.buffers=[],_.count=0,_}return s.prototype._next=function(d){var c=this,g=c.bufferSize,_=c.startBufferEvery,b=c.buffers,$=c.count;this.count++,$%_===0&&b.push([]);for(var tt=b.length;tt--;){var nt=b[tt];nt.push(d),nt.length===g&&(b.splice(tt,1),this.destination.next(nt))}},s.prototype._complete=function(){for(var d=this,c=d.buffers,g=d.destination;c.length>0;){var _=c.shift();_.length>0&&g.next(_)}a.prototype._complete.call(this)},s}(Subscriber);function bufferTime(a){var s=arguments.length,d=async;isScheduler(arguments[arguments.length-1])&&(d=arguments[arguments.length-1],s--);var c=null;s>=2&&(c=arguments[1]);var g=Number.POSITIVE_INFINITY;return s>=3&&(g=arguments[2]),function(b){return b.lift(new BufferTimeOperator(a,c,g,d))}}var BufferTimeOperator=function(){function a(s,d,c,g){this.bufferTimeSpan=s,this.bufferCreationInterval=d,this.maxBufferSize=c,this.scheduler=g}return a.prototype.call=function(s,d){return d.subscribe(new BufferTimeSubscriber(s,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},a}(),Context=function(){function a(){this.buffer=[]}return a}(),BufferTimeSubscriber=function(a){__extends(s,a);function s(d,c,g,_,b){var $=a.call(this,d)||this;$.bufferTimeSpan=c,$.bufferCreationInterval=g,$.maxBufferSize=_,$.scheduler=b,$.contexts=[];var tt=$.openContext();if($.timespanOnly=g==null||g<0,$.timespanOnly){var nt={subscriber:$,context:tt,bufferTimeSpan:c};$.add(tt.closeAction=b.schedule(dispatchBufferTimeSpanOnly,c,nt))}else{var ot={subscriber:$,context:tt},dt={bufferTimeSpan:c,bufferCreationInterval:g,subscriber:$,scheduler:b};$.add(tt.closeAction=b.schedule(dispatchBufferClose,c,ot)),$.add(b.schedule(dispatchBufferCreation,g,dt))}return $}return s.prototype._next=function(d){for(var c=this.contexts,g=c.length,_,b=0;b<g;b++){var $=c[b],tt=$.buffer;tt.push(d),tt.length==this.maxBufferSize&&(_=$)}_&&this.onBufferFull(_)},s.prototype._error=function(d){this.contexts.length=0,a.prototype._error.call(this,d)},s.prototype._complete=function(){for(var d=this,c=d.contexts,g=d.destination;c.length>0;){var _=c.shift();g.next(_.buffer)}a.prototype._complete.call(this)},s.prototype._unsubscribe=function(){this.contexts=null},s.prototype.onBufferFull=function(d){this.closeContext(d);var c=d.closeAction;if(c.unsubscribe(),this.remove(c),!this.closed&&this.timespanOnly){d=this.openContext();var g=this.bufferTimeSpan,_={subscriber:this,context:d,bufferTimeSpan:g};this.add(d.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,g,_))}},s.prototype.openContext=function(){var d=new Context;return this.contexts.push(d),d},s.prototype.closeContext=function(d){this.destination.next(d.buffer);var c=this.contexts,g=c?c.indexOf(d):-1;g>=0&&c.splice(c.indexOf(d),1)},s}(Subscriber);function dispatchBufferTimeSpanOnly(a){var s=a.subscriber,d=a.context;d&&s.closeContext(d),s.closed||(a.context=s.openContext(),a.context.closeAction=this.schedule(a,a.bufferTimeSpan))}function dispatchBufferCreation(a){var s=a.bufferCreationInterval,d=a.bufferTimeSpan,c=a.subscriber,g=a.scheduler,_=c.openContext(),b=this;c.closed||(c.add(_.closeAction=g.schedule(dispatchBufferClose,d,{subscriber:c,context:_})),b.schedule(a,s))}function dispatchBufferClose(a){var s=a.subscriber,d=a.context;s.closeContext(d)}var InnerSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this)||this;return _.parent=d,_.outerValue=c,_.outerIndex=g,_.index=0,_}return s.prototype._next=function(d){this.parent.notifyNext(this.outerValue,d,this.outerIndex,this.index++,this)},s.prototype._error=function(d){this.parent.notifyError(d,this),this.unsubscribe()},s.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},s}(Subscriber);function subscribeToResult(a,s,d,c,g){if(g===void 0&&(g=new InnerSubscriber(a,d,c)),!g.closed)return s instanceof Observable?s.subscribe(g):subscribeTo(s)(g)}var OuterSubscriber=function(a){__extends(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.notifyNext=function(d,c,g,_,b){this.destination.next(c)},s.prototype.notifyError=function(d,c){this.destination.error(d)},s.prototype.notifyComplete=function(d){this.destination.complete()},s}(Subscriber);function bufferToggle(a,s){return function(c){return c.lift(new BufferToggleOperator(a,s))}}var BufferToggleOperator=function(){function a(s,d){this.openings=s,this.closingSelector=d}return a.prototype.call=function(s,d){return d.subscribe(new BufferToggleSubscriber(s,this.openings,this.closingSelector))},a}(),BufferToggleSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.closingSelector=g,_.contexts=[],_.add(subscribeToResult(_,c)),_}return s.prototype._next=function(d){for(var c=this.contexts,g=c.length,_=0;_<g;_++)c[_].buffer.push(d)},s.prototype._error=function(d){for(var c=this.contexts;c.length>0;){var g=c.shift();g.subscription.unsubscribe(),g.buffer=null,g.subscription=null}this.contexts=null,a.prototype._error.call(this,d)},s.prototype._complete=function(){for(var d=this.contexts;d.length>0;){var c=d.shift();this.destination.next(c.buffer),c.subscription.unsubscribe(),c.buffer=null,c.subscription=null}this.contexts=null,a.prototype._complete.call(this)},s.prototype.notifyNext=function(d,c){d?this.closeBuffer(d):this.openBuffer(c)},s.prototype.notifyComplete=function(d){this.closeBuffer(d.context)},s.prototype.openBuffer=function(d){try{var c=this.closingSelector,g=c.call(this,d);g&&this.trySubscribe(g)}catch(_){this._error(_)}},s.prototype.closeBuffer=function(d){var c=this.contexts;if(c&&d){var g=d.buffer,_=d.subscription;this.destination.next(g),c.splice(c.indexOf(d),1),this.remove(_),_.unsubscribe()}},s.prototype.trySubscribe=function(d){var c=this.contexts,g=[],_=new Subscription,b={buffer:g,subscription:_};c.push(b);var $=subscribeToResult(this,d,b);!$||$.closed?this.closeBuffer(b):($.context=b,this.add($),_.add($))},s}(OuterSubscriber);function bufferWhen(a){return function(s){return s.lift(new BufferWhenOperator(a))}}var BufferWhenOperator=function(){function a(s){this.closingSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new BufferWhenSubscriber(s,this.closingSelector))},a}(),BufferWhenSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.closingSelector=c,g.subscribing=!1,g.openBuffer(),g}return s.prototype._next=function(d){this.buffer.push(d)},s.prototype._complete=function(){var d=this.buffer;d&&this.destination.next(d),a.prototype._complete.call(this)},s.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},s.prototype.notifyNext=function(){this.openBuffer()},s.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},s.prototype.openBuffer=function(){var d=this.closingSubscription;d&&(this.remove(d),d.unsubscribe());var c=this.buffer;this.buffer&&this.destination.next(c),this.buffer=[];var g;try{var _=this.closingSelector;g=_()}catch(b){return this.error(b)}d=new Subscription,this.closingSubscription=d,this.add(d),this.subscribing=!0,d.add(innerSubscribe(g,new SimpleInnerSubscriber(this))),this.subscribing=!1},s}(SimpleOuterSubscriber);function catchError(a){return function(d){var c=new CatchOperator(a),g=d.lift(c);return c.caught=g}}var CatchOperator=function(){function a(s){this.selector=s}return a.prototype.call=function(s,d){return d.subscribe(new CatchSubscriber(s,this.selector,this.caught))},a}(),CatchSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.selector=c,_.caught=g,_}return s.prototype.error=function(d){if(!this.isStopped){var c=void 0;try{c=this.selector(d,this.caught)}catch(b){a.prototype.error.call(this,b);return}this._unsubscribeAndRecycle();var g=new SimpleInnerSubscriber(this);this.add(g);var _=innerSubscribe(c,g);_!==g&&this.add(_)}},s}(SimpleOuterSubscriber);function scheduleArray(a,s){return new Observable(function(d){var c=new Subscription,g=0;return c.add(s.schedule(function(){if(g===a.length){d.complete();return}d.next(a[g++]),d.closed||c.add(this.schedule())})),c})}function fromArray(a,s){return s?scheduleArray(a,s):new Observable(subscribeToArray(a))}var NONE={},CombineLatestOperator=function(){function a(s){this.resultSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new CombineLatestSubscriber(s,this.resultSelector))},a}(),CombineLatestSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.resultSelector=c,g.active=0,g.values=[],g.observables=[],g}return s.prototype._next=function(d){this.values.push(NONE),this.observables.push(d)},s.prototype._complete=function(){var d=this.observables,c=d.length;if(c===0)this.destination.complete();else{this.active=c,this.toRespond=c;for(var g=0;g<c;g++){var _=d[g];this.add(subscribeToResult(this,_,void 0,g))}}},s.prototype.notifyComplete=function(d){(this.active-=1)===0&&this.destination.complete()},s.prototype.notifyNext=function(d,c,g){var _=this.values,b=_[g],$=this.toRespond?b===NONE?--this.toRespond:this.toRespond:0;_[g]=c,$===0&&(this.resultSelector?this._tryResultSelector(_):this.destination.next(_.slice()))},s.prototype._tryResultSelector=function(d){var c;try{c=this.resultSelector.apply(this,d)}catch(g){this.destination.error(g);return}this.destination.next(c)},s}(OuterSubscriber);function combineAll(a){return function(s){return s.lift(new CombineLatestOperator(a))}}function scheduleObservable(a,s){return new Observable(function(d){var c=new Subscription;return c.add(s.schedule(function(){var g=a[observable]();c.add(g.subscribe({next:function(_){c.add(s.schedule(function(){return d.next(_)}))},error:function(_){c.add(s.schedule(function(){return d.error(_)}))},complete:function(){c.add(s.schedule(function(){return d.complete()}))}}))})),c})}function schedulePromise(a,s){return new Observable(function(d){var c=new Subscription;return c.add(s.schedule(function(){return a.then(function(g){c.add(s.schedule(function(){d.next(g),c.add(s.schedule(function(){return d.complete()}))}))},function(g){c.add(s.schedule(function(){return d.error(g)}))})})),c})}function scheduleIterable(a,s){if(!a)throw new Error("Iterable cannot be null");return new Observable(function(d){var c=new Subscription,g;return c.add(function(){g&&typeof g.return=="function"&&g.return()}),c.add(s.schedule(function(){g=a[iterator](),c.add(s.schedule(function(){if(!d.closed){var _,b;try{var $=g.next();_=$.value,b=$.done}catch(tt){d.error(tt);return}b?d.complete():(d.next(_),this.schedule())}}))})),c})}function isInteropObservable(a){return a&&typeof a[observable]=="function"}function isIterable(a){return a&&typeof a[iterator]=="function"}function scheduled(a,s){if(a!=null){if(isInteropObservable(a))return scheduleObservable(a,s);if(isPromise(a))return schedulePromise(a,s);if(isArrayLike(a))return scheduleArray(a,s);if(isIterable(a)||typeof a=="string")return scheduleIterable(a,s)}throw new TypeError((a!==null&&typeof a||a)+" is not observable")}function from(a,s){return s?scheduled(a,s):a instanceof Observable?a:new Observable(subscribeTo(a))}function combineLatest(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var d=null;return typeof a[a.length-1]=="function"&&(d=a.pop()),a.length===1&&isArray$2(a[0])&&(a=a[0].slice()),function(c){return c.lift.call(from([c].concat(a)),new CombineLatestOperator(d))}}function of$1(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var d=a[a.length-1];return isScheduler(d)?(a.pop(),scheduleArray(a,d)):fromArray(a)}function map(a,s){return function(c){if(typeof a!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.lift(new MapOperator(a,s))}}var MapOperator=function(){function a(s,d){this.project=s,this.thisArg=d}return a.prototype.call=function(s,d){return d.subscribe(new MapSubscriber(s,this.project,this.thisArg))},a}(),MapSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.project=c,_.count=0,_.thisArg=g||_,_}return s.prototype._next=function(d){var c;try{c=this.project.call(this.thisArg,d,this.count++)}catch(g){this.destination.error(g);return}this.destination.next(c)},s}(Subscriber);function mergeMap(a,s,d){return d===void 0&&(d=Number.POSITIVE_INFINITY),typeof s=="function"?function(c){return c.pipe(mergeMap(function(g,_){return from(a(g,_)).pipe(map(function(b,$){return s(g,b,_,$)}))},d))}:(typeof s=="number"&&(d=s),function(c){return c.lift(new MergeMapOperator(a,d))})}var MergeMapOperator=function(){function a(s,d){d===void 0&&(d=Number.POSITIVE_INFINITY),this.project=s,this.concurrent=d}return a.prototype.call=function(s,d){return d.subscribe(new MergeMapSubscriber(s,this.project,this.concurrent))},a}(),MergeMapSubscriber=function(a){__extends(s,a);function s(d,c,g){g===void 0&&(g=Number.POSITIVE_INFINITY);var _=a.call(this,d)||this;return _.project=c,_.concurrent=g,_.hasCompleted=!1,_.buffer=[],_.active=0,_.index=0,_}return s.prototype._next=function(d){this.active<this.concurrent?this._tryNext(d):this.buffer.push(d)},s.prototype._tryNext=function(d){var c,g=this.index++;try{c=this.project(d,g)}catch(_){this.destination.error(_);return}this.active++,this._innerSub(c)},s.prototype._innerSub=function(d){var c=new SimpleInnerSubscriber(this),g=this.destination;g.add(c);var _=innerSubscribe(d,c);_!==c&&g.add(_)},s.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},s.prototype.notifyNext=function(d){this.destination.next(d)},s.prototype.notifyComplete=function(){var d=this.buffer;this.active--,d.length>0?this._next(d.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},s}(SimpleOuterSubscriber),flatMap=mergeMap;function mergeAll(a){return a===void 0&&(a=Number.POSITIVE_INFINITY),mergeMap(identity,a)}function concatAll(){return mergeAll(1)}function concat$1(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return concatAll()(of$1.apply(void 0,a))}function concat(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(d){return d.lift.call(concat$1.apply(void 0,[d].concat(a)))}}function concatMap(a,s){return mergeMap(a,s,1)}function concatMapTo(a,s){return concatMap(function(){return a},s)}function count(a){return function(s){return s.lift(new CountOperator(a,s))}}var CountOperator=function(){function a(s,d){this.predicate=s,this.source=d}return a.prototype.call=function(s,d){return d.subscribe(new CountSubscriber(s,this.predicate,this.source))},a}(),CountSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.predicate=c,_.source=g,_.count=0,_.index=0,_}return s.prototype._next=function(d){this.predicate?this._tryPredicate(d):this.count++},s.prototype._tryPredicate=function(d){var c;try{c=this.predicate(d,this.index++,this.source)}catch(g){this.destination.error(g);return}c&&this.count++},s.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},s}(Subscriber);function debounce(a){return function(s){return s.lift(new DebounceOperator(a))}}var DebounceOperator=function(){function a(s){this.durationSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new DebounceSubscriber(s,this.durationSelector))},a}(),DebounceSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.durationSelector=c,g.hasValue=!1,g}return s.prototype._next=function(d){try{var c=this.durationSelector.call(this,d);c&&this._tryNext(d,c)}catch(g){this.destination.error(g)}},s.prototype._complete=function(){this.emitValue(),this.destination.complete()},s.prototype._tryNext=function(d,c){var g=this.durationSubscription;this.value=d,this.hasValue=!0,g&&(g.unsubscribe(),this.remove(g)),g=innerSubscribe(c,new SimpleInnerSubscriber(this)),g&&!g.closed&&this.add(this.durationSubscription=g)},s.prototype.notifyNext=function(){this.emitValue()},s.prototype.notifyComplete=function(){this.emitValue()},s.prototype.emitValue=function(){if(this.hasValue){var d=this.value,c=this.durationSubscription;c&&(this.durationSubscription=void 0,c.unsubscribe(),this.remove(c)),this.value=void 0,this.hasValue=!1,a.prototype._next.call(this,d)}},s}(SimpleOuterSubscriber);function debounceTime(a,s){return s===void 0&&(s=async),function(d){return d.lift(new DebounceTimeOperator(a,s))}}var DebounceTimeOperator=function(){function a(s,d){this.dueTime=s,this.scheduler=d}return a.prototype.call=function(s,d){return d.subscribe(new DebounceTimeSubscriber(s,this.dueTime,this.scheduler))},a}(),DebounceTimeSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.dueTime=c,_.scheduler=g,_.debouncedSubscription=null,_.lastValue=null,_.hasValue=!1,_}return s.prototype._next=function(d){this.clearDebounce(),this.lastValue=d,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},s.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},s.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var d=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(d)}},s.prototype.clearDebounce=function(){var d=this.debouncedSubscription;d!==null&&(this.remove(d),d.unsubscribe(),this.debouncedSubscription=null)},s}(Subscriber);function dispatchNext$1(a){a.debouncedNext()}function defaultIfEmpty(a){return a===void 0&&(a=null),function(s){return s.lift(new DefaultIfEmptyOperator(a))}}var DefaultIfEmptyOperator=function(){function a(s){this.defaultValue=s}return a.prototype.call=function(s,d){return d.subscribe(new DefaultIfEmptySubscriber(s,this.defaultValue))},a}(),DefaultIfEmptySubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.defaultValue=c,g.isEmpty=!0,g}return s.prototype._next=function(d){this.isEmpty=!1,this.destination.next(d)},s.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},s}(Subscriber);function isDate$1(a){return a instanceof Date&&!isNaN(+a)}var EMPTY=new Observable(function(a){return a.complete()});function empty$1(a){return a?emptyScheduled(a):EMPTY}function emptyScheduled(a){return new Observable(function(s){return a.schedule(function(){return s.complete()})})}function throwError(a,s){return s?new Observable(function(d){return s.schedule(dispatch,0,{error:a,subscriber:d})}):new Observable(function(d){return d.error(a)})}function dispatch(a){var s=a.error,d=a.subscriber;d.error(s)}var Notification=function(){function a(s,d,c){this.kind=s,this.value=d,this.error=c,this.hasValue=s==="N"}return a.prototype.observe=function(s){switch(this.kind){case"N":return s.next&&s.next(this.value);case"E":return s.error&&s.error(this.error);case"C":return s.complete&&s.complete()}},a.prototype.do=function(s,d,c){var g=this.kind;switch(g){case"N":return s&&s(this.value);case"E":return d&&d(this.error);case"C":return c&&c()}},a.prototype.accept=function(s,d,c){return s&&typeof s.next=="function"?this.observe(s):this.do(s,d,c)},a.prototype.toObservable=function(){var s=this.kind;switch(s){case"N":return of$1(this.value);case"E":return throwError(this.error);case"C":return empty$1()}throw new Error("unexpected notification kind value")},a.createNext=function(s){return typeof s!="undefined"?new a("N",s):a.undefinedValueNotification},a.createError=function(s){return new a("E",void 0,s)},a.createComplete=function(){return a.completeNotification},a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0),a}();function delay(a,s){s===void 0&&(s=async);var d=isDate$1(a),c=d?+a-s.now():Math.abs(a);return function(g){return g.lift(new DelayOperator(c,s))}}var DelayOperator=function(){function a(s,d){this.delay=s,this.scheduler=d}return a.prototype.call=function(s,d){return d.subscribe(new DelaySubscriber(s,this.delay,this.scheduler))},a}(),DelaySubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.delay=c,_.scheduler=g,_.queue=[],_.active=!1,_.errored=!1,_}return s.dispatch=function(d){for(var c=d.source,g=c.queue,_=d.scheduler,b=d.destination;g.length>0&&g[0].time-_.now()<=0;)g.shift().notification.observe(b);if(g.length>0){var $=Math.max(0,g[0].time-_.now());this.schedule(d,$)}else this.unsubscribe(),c.active=!1},s.prototype._schedule=function(d){this.active=!0;var c=this.destination;c.add(d.schedule(s.dispatch,this.delay,{source:this,destination:this.destination,scheduler:d}))},s.prototype.scheduleNotification=function(d){if(this.errored!==!0){var c=this.scheduler,g=new DelayMessage(c.now()+this.delay,d);this.queue.push(g),this.active===!1&&this._schedule(c)}},s.prototype._next=function(d){this.scheduleNotification(Notification.createNext(d))},s.prototype._error=function(d){this.errored=!0,this.queue=[],this.destination.error(d),this.unsubscribe()},s.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},s}(Subscriber),DelayMessage=function(){function a(s,d){this.time=s,this.notification=d}return a}();function delayWhen(a,s){return s?function(d){return new SubscriptionDelayObservable(d,s).lift(new DelayWhenOperator(a))}:function(d){return d.lift(new DelayWhenOperator(a))}}var DelayWhenOperator=function(){function a(s){this.delayDurationSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new DelayWhenSubscriber(s,this.delayDurationSelector))},a}(),DelayWhenSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.delayDurationSelector=c,g.completed=!1,g.delayNotifierSubscriptions=[],g.index=0,g}return s.prototype.notifyNext=function(d,c,g,_,b){this.destination.next(d),this.removeSubscription(b),this.tryComplete()},s.prototype.notifyError=function(d,c){this._error(d)},s.prototype.notifyComplete=function(d){var c=this.removeSubscription(d);c&&this.destination.next(c),this.tryComplete()},s.prototype._next=function(d){var c=this.index++;try{var g=this.delayDurationSelector(d,c);g&&this.tryDelay(g,d)}catch(_){this.destination.error(_)}},s.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},s.prototype.removeSubscription=function(d){d.unsubscribe();var c=this.delayNotifierSubscriptions.indexOf(d);return c!==-1&&this.delayNotifierSubscriptions.splice(c,1),d.outerValue},s.prototype.tryDelay=function(d,c){var g=subscribeToResult(this,d,c);if(g&&!g.closed){var _=this.destination;_.add(g),this.delayNotifierSubscriptions.push(g)}},s.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},s}(OuterSubscriber),SubscriptionDelayObservable=function(a){__extends(s,a);function s(d,c){var g=a.call(this)||this;return g.source=d,g.subscriptionDelay=c,g}return s.prototype._subscribe=function(d){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(d,this.source))},s}(Observable),SubscriptionDelaySubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this)||this;return g.parent=d,g.source=c,g.sourceSubscribed=!1,g}return s.prototype._next=function(d){this.subscribeToSource()},s.prototype._error=function(d){this.unsubscribe(),this.parent.error(d)},s.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},s.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},s}(Subscriber);function dematerialize(){return function(s){return s.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new DeMaterializeSubscriber(s))},a}(),DeMaterializeSubscriber=function(a){__extends(s,a);function s(d){return a.call(this,d)||this}return s.prototype._next=function(d){d.observe(this.destination)},s}(Subscriber);function distinct(a,s){return function(d){return d.lift(new DistinctOperator(a,s))}}var DistinctOperator=function(){function a(s,d){this.keySelector=s,this.flushes=d}return a.prototype.call=function(s,d){return d.subscribe(new DistinctSubscriber(s,this.keySelector,this.flushes))},a}(),DistinctSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.keySelector=c,_.values=new Set,g&&_.add(innerSubscribe(g,new SimpleInnerSubscriber(_))),_}return s.prototype.notifyNext=function(){this.values.clear()},s.prototype.notifyError=function(d){this._error(d)},s.prototype._next=function(d){this.keySelector?this._useKeySelector(d):this._finalizeNext(d,d)},s.prototype._useKeySelector=function(d){var c,g=this.destination;try{c=this.keySelector(d)}catch(_){g.error(_);return}this._finalizeNext(c,d)},s.prototype._finalizeNext=function(d,c){var g=this.values;g.has(d)||(g.add(d),this.destination.next(c))},s}(SimpleOuterSubscriber);function distinctUntilChanged(a,s){return function(d){return d.lift(new DistinctUntilChangedOperator(a,s))}}var DistinctUntilChangedOperator=function(){function a(s,d){this.compare=s,this.keySelector=d}return a.prototype.call=function(s,d){return d.subscribe(new DistinctUntilChangedSubscriber(s,this.compare,this.keySelector))},a}(),DistinctUntilChangedSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.keySelector=g,_.hasKey=!1,typeof c=="function"&&(_.compare=c),_}return s.prototype.compare=function(d,c){return d===c},s.prototype._next=function(d){var c;try{var g=this.keySelector;c=g?g(d):d}catch($){return this.destination.error($)}var _=!1;if(this.hasKey)try{var b=this.compare;_=b(this.key,c)}catch($){return this.destination.error($)}else this.hasKey=!0;_||(this.key=c,this.destination.next(d))},s}(Subscriber);function distinctUntilKeyChanged(a,s){return distinctUntilChanged(function(d,c){return s?s(d[a],c[a]):d[a]===c[a]})}var ArgumentOutOfRangeErrorImpl=function(){function a(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return a.prototype=Object.create(Error.prototype),a}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl;function filter(a,s){return function(c){return c.lift(new FilterOperator(a,s))}}var FilterOperator=function(){function a(s,d){this.predicate=s,this.thisArg=d}return a.prototype.call=function(s,d){return d.subscribe(new FilterSubscriber(s,this.predicate,this.thisArg))},a}(),FilterSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.predicate=c,_.thisArg=g,_.count=0,_}return s.prototype._next=function(d){var c;try{c=this.predicate.call(this.thisArg,d,this.count++)}catch(g){this.destination.error(g);return}c&&this.destination.next(d)},s}(Subscriber),EmptyErrorImpl=function(){function a(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return a.prototype=Object.create(Error.prototype),a}(),EmptyError=EmptyErrorImpl;function throwIfEmpty(a){return a===void 0&&(a=defaultErrorFactory),function(s){return s.lift(new ThrowIfEmptyOperator(a))}}var ThrowIfEmptyOperator=function(){function a(s){this.errorFactory=s}return a.prototype.call=function(s,d){return d.subscribe(new ThrowIfEmptySubscriber(s,this.errorFactory))},a}(),ThrowIfEmptySubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.errorFactory=c,g.hasValue=!1,g}return s.prototype._next=function(d){this.hasValue=!0,this.destination.next(d)},s.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var d=void 0;try{d=this.errorFactory()}catch(c){d=c}this.destination.error(d)},s}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(a){return function(s){return a===0?empty$1():s.lift(new TakeOperator(a))}}var TakeOperator=function(){function a(s){if(this.total=s,this.total<0)throw new ArgumentOutOfRangeError}return a.prototype.call=function(s,d){return d.subscribe(new TakeSubscriber(s,this.total))},a}(),TakeSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.total=c,g.count=0,g}return s.prototype._next=function(d){var c=this.total,g=++this.count;g<=c&&(this.destination.next(d),g===c&&(this.destination.complete(),this.unsubscribe()))},s}(Subscriber);function elementAt(a,s){if(a<0)throw new ArgumentOutOfRangeError;var d=arguments.length>=2;return function(c){return c.pipe(filter(function(g,_){return _===a}),take(1),d?defaultIfEmpty(s):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(d){return concat$1(d,of$1.apply(void 0,a))}}function every(a,s){return function(d){return d.lift(new EveryOperator(a,s,d))}}var EveryOperator=function(){function a(s,d,c){this.predicate=s,this.thisArg=d,this.source=c}return a.prototype.call=function(s,d){return d.subscribe(new EverySubscriber(s,this.predicate,this.thisArg,this.source))},a}(),EverySubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this,d)||this;return b.predicate=c,b.thisArg=g,b.source=_,b.index=0,b.thisArg=g||b,b}return s.prototype.notifyComplete=function(d){this.destination.next(d),this.destination.complete()},s.prototype._next=function(d){var c=!1;try{c=this.predicate.call(this.thisArg,d,this.index++,this.source)}catch(g){this.destination.error(g);return}c||this.notifyComplete(!1)},s.prototype._complete=function(){this.notifyComplete(!0)},s}(Subscriber);function exhaust(){return function(a){return a.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new SwitchFirstSubscriber(s))},a}(),SwitchFirstSubscriber=function(a){__extends(s,a);function s(d){var c=a.call(this,d)||this;return c.hasCompleted=!1,c.hasSubscription=!1,c}return s.prototype._next=function(d){this.hasSubscription||(this.hasSubscription=!0,this.add(innerSubscribe(d,new SimpleInnerSubscriber(this))))},s.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},s.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},s}(SimpleOuterSubscriber);function exhaustMap(a,s){return s?function(d){return d.pipe(exhaustMap(function(c,g){return from(a(c,g)).pipe(map(function(_,b){return s(c,_,g,b)}))}))}:function(d){return d.lift(new ExhaustMapOperator(a))}}var ExhaustMapOperator=function(){function a(s){this.project=s}return a.prototype.call=function(s,d){return d.subscribe(new ExhaustMapSubscriber(s,this.project))},a}(),ExhaustMapSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.project=c,g.hasSubscription=!1,g.hasCompleted=!1,g.index=0,g}return s.prototype._next=function(d){this.hasSubscription||this.tryNext(d)},s.prototype.tryNext=function(d){var c,g=this.index++;try{c=this.project(d,g)}catch(_){this.destination.error(_);return}this.hasSubscription=!0,this._innerSub(c)},s.prototype._innerSub=function(d){var c=new SimpleInnerSubscriber(this),g=this.destination;g.add(c);var _=innerSubscribe(d,c);_!==c&&g.add(_)},s.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},s.prototype.notifyNext=function(d){this.destination.next(d)},s.prototype.notifyError=function(d){this.destination.error(d)},s.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},s}(SimpleOuterSubscriber);function expand(a,s,d){return s===void 0&&(s=Number.POSITIVE_INFINITY),s=(s||0)<1?Number.POSITIVE_INFINITY:s,function(c){return c.lift(new ExpandOperator(a,s,d))}}var ExpandOperator=function(){function a(s,d,c){this.project=s,this.concurrent=d,this.scheduler=c}return a.prototype.call=function(s,d){return d.subscribe(new ExpandSubscriber(s,this.project,this.concurrent,this.scheduler))},a}(),ExpandSubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this,d)||this;return b.project=c,b.concurrent=g,b.scheduler=_,b.index=0,b.active=0,b.hasCompleted=!1,g<Number.POSITIVE_INFINITY&&(b.buffer=[]),b}return s.dispatch=function(d){var c=d.subscriber,g=d.result,_=d.value,b=d.index;c.subscribeToProjection(g,_,b)},s.prototype._next=function(d){var c=this.destination;if(c.closed){this._complete();return}var g=this.index++;if(this.active<this.concurrent){c.next(d);try{var _=this.project,b=_(d,g);if(!this.scheduler)this.subscribeToProjection(b,d,g);else{var $={subscriber:this,result:b,value:d,index:g},tt=this.destination;tt.add(this.scheduler.schedule(s.dispatch,0,$))}}catch(nt){c.error(nt)}}else this.buffer.push(d)},s.prototype.subscribeToProjection=function(d,c,g){this.active++;var _=this.destination;_.add(innerSubscribe(d,new SimpleInnerSubscriber(this)))},s.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},s.prototype.notifyNext=function(d){this._next(d)},s.prototype.notifyComplete=function(){var d=this.buffer;this.active--,d&&d.length>0&&this._next(d.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},s}(SimpleOuterSubscriber);function finalize(a){return function(s){return s.lift(new FinallyOperator(a))}}var FinallyOperator=function(){function a(s){this.callback=s}return a.prototype.call=function(s,d){return d.subscribe(new FinallySubscriber(s,this.callback))},a}(),FinallySubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.add(new Subscription(c)),g}return s}(Subscriber);function find$1(a,s){if(typeof a!="function")throw new TypeError("predicate is not a function");return function(d){return d.lift(new FindValueOperator(a,d,!1,s))}}var FindValueOperator=function(){function a(s,d,c,g){this.predicate=s,this.source=d,this.yieldIndex=c,this.thisArg=g}return a.prototype.call=function(s,d){return d.subscribe(new FindValueSubscriber(s,this.predicate,this.source,this.yieldIndex,this.thisArg))},a}(),FindValueSubscriber=function(a){__extends(s,a);function s(d,c,g,_,b){var $=a.call(this,d)||this;return $.predicate=c,$.source=g,$.yieldIndex=_,$.thisArg=b,$.index=0,$}return s.prototype.notifyComplete=function(d){var c=this.destination;c.next(d),c.complete(),this.unsubscribe()},s.prototype._next=function(d){var c=this,g=c.predicate,_=c.thisArg,b=this.index++;try{var $=g.call(_||this,d,b,this.source);$&&this.notifyComplete(this.yieldIndex?b:d)}catch(tt){this.destination.error(tt)}},s.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},s}(Subscriber);function findIndex(a,s){return function(d){return d.lift(new FindValueOperator(a,d,!0,s))}}function first(a,s){var d=arguments.length>=2;return function(c){return c.pipe(a?filter(function(g,_){return a(g,_,c)}):identity,take(1),d?defaultIfEmpty(s):throwIfEmpty(function(){return new EmptyError}))}}var ObjectUnsubscribedErrorImpl=function(){function a(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return a.prototype=Object.create(Error.prototype),a}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(a){__extends(s,a);function s(d,c){var g=a.call(this)||this;return g.subject=d,g.subscriber=c,g.closed=!1,g}return s.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var d=this.subject,c=d.observers;if(this.subject=null,!(!c||c.length===0||d.isStopped||d.closed)){var g=c.indexOf(this.subscriber);g!==-1&&c.splice(g,1)}}},s}(Subscription),SubjectSubscriber=function(a){__extends(s,a);function s(d){var c=a.call(this,d)||this;return c.destination=d,c}return s}(Subscriber),Subject=function(a){__extends(s,a);function s(){var d=a.call(this)||this;return d.observers=[],d.closed=!1,d.isStopped=!1,d.hasError=!1,d.thrownError=null,d}return s.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},s.prototype.lift=function(d){var c=new AnonymousSubject(this,this);return c.operator=d,c},s.prototype.next=function(d){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var c=this.observers,g=c.length,_=c.slice(),b=0;b<g;b++)_[b].next(d)},s.prototype.error=function(d){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=d,this.isStopped=!0;for(var c=this.observers,g=c.length,_=c.slice(),b=0;b<g;b++)_[b].error(d);this.observers.length=0},s.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var d=this.observers,c=d.length,g=d.slice(),_=0;_<c;_++)g[_].complete();this.observers.length=0},s.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},s.prototype._trySubscribe=function(d){if(this.closed)throw new ObjectUnsubscribedError;return a.prototype._trySubscribe.call(this,d)},s.prototype._subscribe=function(d){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(d.error(this.thrownError),Subscription.EMPTY):this.isStopped?(d.complete(),Subscription.EMPTY):(this.observers.push(d),new SubjectSubscription(this,d))},s.prototype.asObservable=function(){var d=new Observable;return d.source=this,d},s.create=function(d,c){return new AnonymousSubject(d,c)},s}(Observable),AnonymousSubject=function(a){__extends(s,a);function s(d,c){var g=a.call(this)||this;return g.destination=d,g.source=c,g}return s.prototype.next=function(d){var c=this.destination;c&&c.next&&c.next(d)},s.prototype.error=function(d){var c=this.destination;c&&c.error&&this.destination.error(d)},s.prototype.complete=function(){var d=this.destination;d&&d.complete&&this.destination.complete()},s.prototype._subscribe=function(d){var c=this.source;return c?this.source.subscribe(d):Subscription.EMPTY},s}(Subject);function groupBy(a,s,d,c){return function(g){return g.lift(new GroupByOperator(a,s,d,c))}}var GroupByOperator=function(){function a(s,d,c,g){this.keySelector=s,this.elementSelector=d,this.durationSelector=c,this.subjectSelector=g}return a.prototype.call=function(s,d){return d.subscribe(new GroupBySubscriber(s,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},a}(),GroupBySubscriber=function(a){__extends(s,a);function s(d,c,g,_,b){var $=a.call(this,d)||this;return $.keySelector=c,$.elementSelector=g,$.durationSelector=_,$.subjectSelector=b,$.groups=null,$.attemptedToUnsubscribe=!1,$.count=0,$}return s.prototype._next=function(d){var c;try{c=this.keySelector(d)}catch(g){this.error(g);return}this._group(d,c)},s.prototype._group=function(d,c){var g=this.groups;g||(g=this.groups=new Map);var _=g.get(c),b;if(this.elementSelector)try{b=this.elementSelector(d)}catch(nt){this.error(nt)}else b=d;if(!_){_=this.subjectSelector?this.subjectSelector():new Subject,g.set(c,_);var $=new GroupedObservable(c,_,this);if(this.destination.next($),this.durationSelector){var tt=void 0;try{tt=this.durationSelector(new GroupedObservable(c,_))}catch(nt){this.error(nt);return}this.add(tt.subscribe(new GroupDurationSubscriber(c,_,this)))}}_.closed||_.next(b)},s.prototype._error=function(d){var c=this.groups;c&&(c.forEach(function(g,_){g.error(d)}),c.clear()),this.destination.error(d)},s.prototype._complete=function(){var d=this.groups;d&&(d.forEach(function(c,g){c.complete()}),d.clear()),this.destination.complete()},s.prototype.removeGroup=function(d){this.groups.delete(d)},s.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&a.prototype.unsubscribe.call(this))},s}(Subscriber),GroupDurationSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,c)||this;return _.key=d,_.group=c,_.parent=g,_}return s.prototype._next=function(d){this.complete()},s.prototype._unsubscribe=function(){var d=this,c=d.parent,g=d.key;this.key=this.parent=null,c&&c.removeGroup(g)},s}(Subscriber),GroupedObservable=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this)||this;return _.key=d,_.groupSubject=c,_.refCountSubscription=g,_}return s.prototype._subscribe=function(d){var c=new Subscription,g=this,_=g.refCountSubscription,b=g.groupSubject;return _&&!_.closed&&c.add(new InnerRefCountSubscription(_)),c.add(b.subscribe(d)),c},s}(Observable),InnerRefCountSubscription=function(a){__extends(s,a);function s(d){var c=a.call(this)||this;return c.parent=d,d.count++,c}return s.prototype.unsubscribe=function(){var d=this.parent;!d.closed&&!this.closed&&(a.prototype.unsubscribe.call(this),d.count-=1,d.count===0&&d.attemptedToUnsubscribe&&d.unsubscribe())},s}(Subscription);function ignoreElements(){return function(s){return s.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new IgnoreElementsSubscriber(s))},a}(),IgnoreElementsSubscriber=function(a){__extends(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype._next=function(d){},s}(Subscriber);function isEmpty(){return function(a){return a.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new IsEmptySubscriber(s))},a}(),IsEmptySubscriber=function(a){__extends(s,a);function s(d){return a.call(this,d)||this}return s.prototype.notifyComplete=function(d){var c=this.destination;c.next(d),c.complete()},s.prototype._next=function(d){this.notifyComplete(!1)},s.prototype._complete=function(){this.notifyComplete(!0)},s}(Subscriber);function takeLast(a){return function(d){return a===0?empty$1():d.lift(new TakeLastOperator(a))}}var TakeLastOperator=function(){function a(s){if(this.total=s,this.total<0)throw new ArgumentOutOfRangeError}return a.prototype.call=function(s,d){return d.subscribe(new TakeLastSubscriber(s,this.total))},a}(),TakeLastSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.total=c,g.ring=new Array,g.count=0,g}return s.prototype._next=function(d){var c=this.ring,g=this.total,_=this.count++;if(c.length<g)c.push(d);else{var b=_%g;c[b]=d}},s.prototype._complete=function(){var d=this.destination,c=this.count;if(c>0)for(var g=this.count>=this.total?this.total:this.count,_=this.ring,b=0;b<g;b++){var $=c++%g;d.next(_[$])}d.complete()},s}(Subscriber);function last(a,s){var d=arguments.length>=2;return function(c){return c.pipe(a?filter(function(g,_){return a(g,_,c)}):identity,takeLast(1),d?defaultIfEmpty(s):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(a){return function(s){return s.lift(new MapToOperator(a))}}var MapToOperator=function(){function a(s){this.value=s}return a.prototype.call=function(s,d){return d.subscribe(new MapToSubscriber(s,this.value))},a}(),MapToSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.value=c,g}return s.prototype._next=function(d){this.destination.next(this.value)},s}(Subscriber);function materialize(){return function(s){return s.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new MaterializeSubscriber(s))},a}(),MaterializeSubscriber=function(a){__extends(s,a);function s(d){return a.call(this,d)||this}return s.prototype._next=function(d){this.destination.next(Notification.createNext(d))},s.prototype._error=function(d){var c=this.destination;c.next(Notification.createError(d)),c.complete()},s.prototype._complete=function(){var d=this.destination;d.next(Notification.createComplete()),d.complete()},s}(Subscriber);function scan(a,s){var d=!1;return arguments.length>=2&&(d=!0),function(g){return g.lift(new ScanOperator(a,s,d))}}var ScanOperator=function(){function a(s,d,c){c===void 0&&(c=!1),this.accumulator=s,this.seed=d,this.hasSeed=c}return a.prototype.call=function(s,d){return d.subscribe(new ScanSubscriber(s,this.accumulator,this.seed,this.hasSeed))},a}(),ScanSubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this,d)||this;return b.accumulator=c,b._seed=g,b.hasSeed=_,b.index=0,b}return Object.defineProperty(s.prototype,"seed",{get:function(){return this._seed},set:function(d){this.hasSeed=!0,this._seed=d},enumerable:!0,configurable:!0}),s.prototype._next=function(d){if(!this.hasSeed)this.seed=d,this.destination.next(d);else return this._tryNext(d)},s.prototype._tryNext=function(d){var c=this.index++,g;try{g=this.accumulator(this.seed,d,c)}catch(_){this.destination.error(_)}this.seed=g,this.destination.next(g)},s}(Subscriber);function reduce(a,s){return arguments.length>=2?function(c){return pipe(scan(a,s),takeLast(1),defaultIfEmpty(s))(c)}:function(c){return pipe(scan(function(g,_,b){return a(g,_,b+1)}),takeLast(1))(c)}}function max(a){var s=typeof a=="function"?function(d,c){return a(d,c)>0?d:c}:function(d,c){return d>c?d:c};return reduce(s)}function merge$2(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var d=Number.POSITIVE_INFINITY,c=null,g=a[a.length-1];return isScheduler(g)?(c=a.pop(),a.length>1&&typeof a[a.length-1]=="number"&&(d=a.pop())):typeof g=="number"&&(d=a.pop()),c===null&&a.length===1&&a[0]instanceof Observable?a[0]:mergeAll(d)(fromArray(a,c))}function merge$1(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(d){return d.lift.call(merge$2.apply(void 0,[d].concat(a)))}}function mergeMapTo(a,s,d){return d===void 0&&(d=Number.POSITIVE_INFINITY),typeof s=="function"?mergeMap(function(){return a},s,d):(typeof s=="number"&&(d=s),mergeMap(function(){return a},d))}function mergeScan(a,s,d){return d===void 0&&(d=Number.POSITIVE_INFINITY),function(c){return c.lift(new MergeScanOperator(a,s,d))}}var MergeScanOperator=function(){function a(s,d,c){this.accumulator=s,this.seed=d,this.concurrent=c}return a.prototype.call=function(s,d){return d.subscribe(new MergeScanSubscriber(s,this.accumulator,this.seed,this.concurrent))},a}(),MergeScanSubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this,d)||this;return b.accumulator=c,b.acc=g,b.concurrent=_,b.hasValue=!1,b.hasCompleted=!1,b.buffer=[],b.active=0,b.index=0,b}return s.prototype._next=function(d){if(this.active<this.concurrent){var c=this.index++,g=this.destination,_=void 0;try{var b=this.accumulator;_=b(this.acc,d,c)}catch($){return g.error($)}this.active++,this._innerSub(_)}else this.buffer.push(d)},s.prototype._innerSub=function(d){var c=new SimpleInnerSubscriber(this),g=this.destination;g.add(c);var _=innerSubscribe(d,c);_!==c&&g.add(_)},s.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},s.prototype.notifyNext=function(d){var c=this.destination;this.acc=d,this.hasValue=!0,c.next(d)},s.prototype.notifyComplete=function(){var d=this.buffer;this.active--,d.length>0?this._next(d.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},s}(SimpleOuterSubscriber);function min(a){var s=typeof a=="function"?function(d,c){return a(d,c)<0?d:c}:function(d,c){return d<c?d:c};return reduce(s)}function refCount(){return function(s){return s.lift(new RefCountOperator(s))}}var RefCountOperator=function(){function a(s){this.connectable=s}return a.prototype.call=function(s,d){var c=this.connectable;c._refCount++;var g=new RefCountSubscriber(s,c),_=d.subscribe(g);return g.closed||(g.connection=c.connect()),_},a}(),RefCountSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.connectable=c,g}return s.prototype._unsubscribe=function(){var d=this.connectable;if(!d){this.connection=null;return}this.connectable=null;var c=d._refCount;if(c<=0){this.connection=null;return}if(d._refCount=c-1,c>1){this.connection=null;return}var g=this.connection,_=d._connection;this.connection=null,_&&(!g||_===g)&&_.unsubscribe()},s}(Subscriber),ConnectableObservable=function(a){__extends(s,a);function s(d,c){var g=a.call(this)||this;return g.source=d,g.subjectFactory=c,g._refCount=0,g._isComplete=!1,g}return s.prototype._subscribe=function(d){return this.getSubject().subscribe(d)},s.prototype.getSubject=function(){var d=this._subject;return(!d||d.isStopped)&&(this._subject=this.subjectFactory()),this._subject},s.prototype.connect=function(){var d=this._connection;return d||(this._isComplete=!1,d=this._connection=new Subscription,d.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),d.closed&&(this._connection=null,d=Subscription.EMPTY)),d},s.prototype.refCount=function(){return refCount()(this)},s}(Observable),connectableObservableDescriptor=function(){var a=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}}}(),ConnectableSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.connectable=c,g}return s.prototype._error=function(d){this._unsubscribe(),a.prototype._error.call(this,d)},s.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),a.prototype._complete.call(this)},s.prototype._unsubscribe=function(){var d=this.connectable;if(d){this.connectable=null;var c=d._connection;d._refCount=0,d._subject=null,d._connection=null,c&&c.unsubscribe()}},s}(SubjectSubscriber);function multicast(a,s){return function(c){var g;if(typeof a=="function"?g=a:g=function(){return a},typeof s=="function")return c.lift(new MulticastOperator(g,s));var _=Object.create(c,connectableObservableDescriptor);return _.source=c,_.subjectFactory=g,_}}var MulticastOperator=function(){function a(s,d){this.subjectFactory=s,this.selector=d}return a.prototype.call=function(s,d){var c=this.selector,g=this.subjectFactory(),_=c(g).subscribe(s);return _.add(d.subscribe(g)),_},a}();function observeOn(a,s){return s===void 0&&(s=0),function(c){return c.lift(new ObserveOnOperator(a,s))}}var ObserveOnOperator=function(){function a(s,d){d===void 0&&(d=0),this.scheduler=s,this.delay=d}return a.prototype.call=function(s,d){return d.subscribe(new ObserveOnSubscriber(s,this.scheduler,this.delay))},a}(),ObserveOnSubscriber=function(a){__extends(s,a);function s(d,c,g){g===void 0&&(g=0);var _=a.call(this,d)||this;return _.scheduler=c,_.delay=g,_}return s.dispatch=function(d){var c=d.notification,g=d.destination;c.observe(g),this.unsubscribe()},s.prototype.scheduleMessage=function(d){var c=this.destination;c.add(this.scheduler.schedule(s.dispatch,this.delay,new ObserveOnMessage(d,this.destination)))},s.prototype._next=function(d){this.scheduleMessage(Notification.createNext(d))},s.prototype._error=function(d){this.scheduleMessage(Notification.createError(d)),this.unsubscribe()},s.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},s}(Subscriber),ObserveOnMessage=function(){function a(s,d){this.notification=s,this.destination=d}return a}();function onErrorResumeNext(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return a.length===1&&isArray$2(a[0])&&(a=a[0]),function(d){return d.lift(new OnErrorResumeNextOperator(a))}}var OnErrorResumeNextOperator=function(){function a(s){this.nextSources=s}return a.prototype.call=function(s,d){return d.subscribe(new OnErrorResumeNextSubscriber(s,this.nextSources))},a}(),OnErrorResumeNextSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.destination=d,g.nextSources=c,g}return s.prototype.notifyError=function(){this.subscribeToNextSource()},s.prototype.notifyComplete=function(){this.subscribeToNextSource()},s.prototype._error=function(d){this.subscribeToNextSource(),this.unsubscribe()},s.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},s.prototype.subscribeToNextSource=function(){var d=this.nextSources.shift();if(d){var c=new SimpleInnerSubscriber(this),g=this.destination;g.add(c);var _=innerSubscribe(d,c);_!==c&&g.add(_)}else this.destination.complete()},s}(SimpleOuterSubscriber);function pairwise(){return function(a){return a.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new PairwiseSubscriber(s))},a}(),PairwiseSubscriber=function(a){__extends(s,a);function s(d){var c=a.call(this,d)||this;return c.hasPrev=!1,c}return s.prototype._next=function(d){var c;this.hasPrev?c=[this.prev,d]:this.hasPrev=!0,this.prev=d,c&&this.destination.next(c)},s}(Subscriber);function not(a,s){function d(){return!d.pred.apply(d.thisArg,arguments)}return d.pred=a,d.thisArg=s,d}function partition(a,s){return function(d){return[filter(a,s)(d),filter(not(a,s))(d)]}}function pluck(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var d=a.length;if(d===0)throw new Error("list of properties cannot be empty.");return function(c){return map(plucker(a,d))(c)}}function plucker(a,s){var d=function(c){for(var g=c,_=0;_<s;_++){var b=g!=null?g[a[_]]:void 0;if(b!==void 0)g=b;else return}return g};return d}function publish(a){return a?multicast(function(){return new Subject},a):multicast(new Subject)}var BehaviorSubject=function(a){__extends(s,a);function s(d){var c=a.call(this)||this;return c._value=d,c}return Object.defineProperty(s.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),s.prototype._subscribe=function(d){var c=a.prototype._subscribe.call(this,d);return c&&!c.closed&&d.next(this._value),c},s.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},s.prototype.next=function(d){a.prototype.next.call(this,this._value=d)},s}(Subject);function publishBehavior(a){return function(s){return multicast(new BehaviorSubject(a))(s)}}var AsyncSubject=function(a){__extends(s,a);function s(){var d=a!==null&&a.apply(this,arguments)||this;return d.value=null,d.hasNext=!1,d.hasCompleted=!1,d}return s.prototype._subscribe=function(d){return this.hasError?(d.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(d.next(this.value),d.complete(),Subscription.EMPTY):a.prototype._subscribe.call(this,d)},s.prototype.next=function(d){this.hasCompleted||(this.value=d,this.hasNext=!0)},s.prototype.error=function(d){this.hasCompleted||a.prototype.error.call(this,d)},s.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&a.prototype.next.call(this,this.value),a.prototype.complete.call(this)},s}(Subject);function publishLast(){return function(a){return multicast(new AsyncSubject)(a)}}var QueueAction=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d,c)||this;return g.scheduler=d,g.work=c,g}return s.prototype.schedule=function(d,c){return c===void 0&&(c=0),c>0?a.prototype.schedule.call(this,d,c):(this.delay=c,this.state=d,this.scheduler.flush(this),this)},s.prototype.execute=function(d,c){return c>0||this.closed?a.prototype.execute.call(this,d,c):this._execute(d,c)},s.prototype.requestAsyncId=function(d,c,g){return g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0?a.prototype.requestAsyncId.call(this,d,c,g):d.flush(this)},s}(AsyncAction),QueueScheduler=function(a){__extends(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,ReplaySubject=function(a){__extends(s,a);function s(d,c,g){d===void 0&&(d=Number.POSITIVE_INFINITY),c===void 0&&(c=Number.POSITIVE_INFINITY);var _=a.call(this)||this;return _.scheduler=g,_._events=[],_._infiniteTimeWindow=!1,_._bufferSize=d<1?1:d,_._windowTime=c<1?1:c,c===Number.POSITIVE_INFINITY?(_._infiniteTimeWindow=!0,_.next=_.nextInfiniteTimeWindow):_.next=_.nextTimeWindow,_}return s.prototype.nextInfiniteTimeWindow=function(d){if(!this.isStopped){var c=this._events;c.push(d),c.length>this._bufferSize&&c.shift()}a.prototype.next.call(this,d)},s.prototype.nextTimeWindow=function(d){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),d)),this._trimBufferThenGetEvents()),a.prototype.next.call(this,d)},s.prototype._subscribe=function(d){var c=this._infiniteTimeWindow,g=c?this._events:this._trimBufferThenGetEvents(),_=this.scheduler,b=g.length,$;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?$=Subscription.EMPTY:(this.observers.push(d),$=new SubjectSubscription(this,d)),_&&d.add(d=new ObserveOnSubscriber(d,_)),c)for(var tt=0;tt<b&&!d.closed;tt++)d.next(g[tt]);else for(var tt=0;tt<b&&!d.closed;tt++)d.next(g[tt].value);return this.hasError?d.error(this.thrownError):this.isStopped&&d.complete(),$},s.prototype._getNow=function(){return(this.scheduler||queue).now()},s.prototype._trimBufferThenGetEvents=function(){for(var d=this._getNow(),c=this._bufferSize,g=this._windowTime,_=this._events,b=_.length,$=0;$<b&&!(d-_[$].time<g);)$++;return b>c&&($=Math.max($,b-c)),$>0&&_.splice(0,$),_},s}(Subject),ReplayEvent=function(){function a(s,d){this.time=s,this.value=d}return a}();function publishReplay(a,s,d,c){d&&typeof d!="function"&&(c=d);var g=typeof d=="function"?d:void 0,_=new ReplaySubject(a,s,c);return function(b){return multicast(function(){return _},g)(b)}}function race$1(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(a.length===1)if(isArray$2(a[0]))a=a[0];else return a[0];return fromArray(a,void 0).lift(new RaceOperator)}var RaceOperator=function(){function a(){}return a.prototype.call=function(s,d){return d.subscribe(new RaceSubscriber(s))},a}(),RaceSubscriber=function(a){__extends(s,a);function s(d){var c=a.call(this,d)||this;return c.hasFirst=!1,c.observables=[],c.subscriptions=[],c}return s.prototype._next=function(d){this.observables.push(d)},s.prototype._complete=function(){var d=this.observables,c=d.length;if(c===0)this.destination.complete();else{for(var g=0;g<c&&!this.hasFirst;g++){var _=d[g],b=subscribeToResult(this,_,void 0,g);this.subscriptions&&this.subscriptions.push(b),this.add(b)}this.observables=null}},s.prototype.notifyNext=function(d,c,g){if(!this.hasFirst){this.hasFirst=!0;for(var _=0;_<this.subscriptions.length;_++)if(_!==g){var b=this.subscriptions[_];b.unsubscribe(),this.remove(b)}this.subscriptions=null}this.destination.next(c)},s}(OuterSubscriber);function race(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(c){return a.length===1&&isArray$2(a[0])&&(a=a[0]),c.lift.call(race$1.apply(void 0,[c].concat(a)))}}function repeat(a){return a===void 0&&(a=-1),function(s){return a===0?empty$1():a<0?s.lift(new RepeatOperator(-1,s)):s.lift(new RepeatOperator(a-1,s))}}var RepeatOperator=function(){function a(s,d){this.count=s,this.source=d}return a.prototype.call=function(s,d){return d.subscribe(new RepeatSubscriber(s,this.count,this.source))},a}(),RepeatSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.count=c,_.source=g,_}return s.prototype.complete=function(){if(!this.isStopped){var d=this,c=d.source,g=d.count;if(g===0)return a.prototype.complete.call(this);g>-1&&(this.count=g-1),c.subscribe(this._unsubscribeAndRecycle())}},s}(Subscriber);function repeatWhen(a){return function(s){return s.lift(new RepeatWhenOperator(a))}}var RepeatWhenOperator=function(){function a(s){this.notifier=s}return a.prototype.call=function(s,d){return d.subscribe(new RepeatWhenSubscriber(s,this.notifier,d))},a}(),RepeatWhenSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.notifier=c,_.source=g,_.sourceIsBeingSubscribedTo=!0,_}return s.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},s.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return a.prototype.complete.call(this)},s.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return a.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},s.prototype._unsubscribe=function(){var d=this,c=d.notifications,g=d.retriesSubscription;c&&(c.unsubscribe(),this.notifications=void 0),g&&(g.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},s.prototype._unsubscribeAndRecycle=function(){var d=this._unsubscribe;return this._unsubscribe=null,a.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=d,this},s.prototype.subscribeToRetries=function(){this.notifications=new Subject;var d;try{var c=this.notifier;d=c(this.notifications)}catch{return a.prototype.complete.call(this)}this.retries=d,this.retriesSubscription=innerSubscribe(d,new SimpleInnerSubscriber(this))},s}(SimpleOuterSubscriber);function retry(a){return a===void 0&&(a=-1),function(s){return s.lift(new RetryOperator(a,s))}}var RetryOperator=function(){function a(s,d){this.count=s,this.source=d}return a.prototype.call=function(s,d){return d.subscribe(new RetrySubscriber(s,this.count,this.source))},a}(),RetrySubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.count=c,_.source=g,_}return s.prototype.error=function(d){if(!this.isStopped){var c=this,g=c.source,_=c.count;if(_===0)return a.prototype.error.call(this,d);_>-1&&(this.count=_-1),g.subscribe(this._unsubscribeAndRecycle())}},s}(Subscriber);function retryWhen(a){return function(s){return s.lift(new RetryWhenOperator(a,s))}}var RetryWhenOperator=function(){function a(s,d){this.notifier=s,this.source=d}return a.prototype.call=function(s,d){return d.subscribe(new RetryWhenSubscriber(s,this.notifier,this.source))},a}(),RetryWhenSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.notifier=c,_.source=g,_}return s.prototype.error=function(d){if(!this.isStopped){var c=this.errors,g=this.retries,_=this.retriesSubscription;if(g)this.errors=void 0,this.retriesSubscription=void 0;else{c=new Subject;try{var b=this.notifier;g=b(c)}catch($){return a.prototype.error.call(this,$)}_=innerSubscribe(g,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=c,this.retries=g,this.retriesSubscription=_,c.next(d)}},s.prototype._unsubscribe=function(){var d=this,c=d.errors,g=d.retriesSubscription;c&&(c.unsubscribe(),this.errors=void 0),g&&(g.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},s.prototype.notifyNext=function(){var d=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=d,this.source.subscribe(this)},s}(SimpleOuterSubscriber);function sample(a){return function(s){return s.lift(new SampleOperator(a))}}var SampleOperator=function(){function a(s){this.notifier=s}return a.prototype.call=function(s,d){var c=new SampleSubscriber(s),g=d.subscribe(c);return g.add(innerSubscribe(this.notifier,new SimpleInnerSubscriber(c))),g},a}(),SampleSubscriber=function(a){__extends(s,a);function s(){var d=a!==null&&a.apply(this,arguments)||this;return d.hasValue=!1,d}return s.prototype._next=function(d){this.value=d,this.hasValue=!0},s.prototype.notifyNext=function(){this.emitValue()},s.prototype.notifyComplete=function(){this.emitValue()},s.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},s}(SimpleOuterSubscriber);function sampleTime(a,s){return s===void 0&&(s=async),function(d){return d.lift(new SampleTimeOperator(a,s))}}var SampleTimeOperator=function(){function a(s,d){this.period=s,this.scheduler=d}return a.prototype.call=function(s,d){return d.subscribe(new SampleTimeSubscriber(s,this.period,this.scheduler))},a}(),SampleTimeSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.period=c,_.scheduler=g,_.hasValue=!1,_.add(g.schedule(dispatchNotification,c,{subscriber:_,period:c})),_}return s.prototype._next=function(d){this.lastValue=d,this.hasValue=!0},s.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},s}(Subscriber);function dispatchNotification(a){var s=a.subscriber,d=a.period;s.notifyNext(),this.schedule(a,d)}function sequenceEqual(a,s){return function(d){return d.lift(new SequenceEqualOperator(a,s))}}var SequenceEqualOperator=function(){function a(s,d){this.compareTo=s,this.comparator=d}return a.prototype.call=function(s,d){return d.subscribe(new SequenceEqualSubscriber(s,this.compareTo,this.comparator))},a}(),SequenceEqualSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.compareTo=c,_.comparator=g,_._a=[],_._b=[],_._oneComplete=!1,_.destination.add(c.subscribe(new SequenceEqualCompareToSubscriber(d,_))),_}return s.prototype._next=function(d){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(d),this.checkValues())},s.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},s.prototype.checkValues=function(){for(var d=this,c=d._a,g=d._b,_=d.comparator;c.length>0&&g.length>0;){var b=c.shift(),$=g.shift(),tt=!1;try{tt=_?_(b,$):b===$}catch(nt){this.destination.error(nt)}tt||this.emit(!1)}},s.prototype.emit=function(d){var c=this.destination;c.next(d),c.complete()},s.prototype.nextB=function(d){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(d),this.checkValues())},s.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},s}(Subscriber),SequenceEqualCompareToSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.parent=c,g}return s.prototype._next=function(d){this.parent.nextB(d)},s.prototype._error=function(d){this.parent.error(d),this.unsubscribe()},s.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},s}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(a){return refCount()(multicast(shareSubjectFactory)(a))}}function shareReplay(a,s,d){var c;return a&&typeof a=="object"?c=a:c={bufferSize:a,windowTime:s,refCount:!1,scheduler:d},function(g){return g.lift(shareReplayOperator(c))}}function shareReplayOperator(a){var s=a.bufferSize,d=s===void 0?Number.POSITIVE_INFINITY:s,c=a.windowTime,g=c===void 0?Number.POSITIVE_INFINITY:c,_=a.refCount,b=a.scheduler,$,tt=0,nt,ot=!1,dt=!1;return function(lt){tt++;var Tt;!$||ot?(ot=!1,$=new ReplaySubject(d,g,b),Tt=$.subscribe(this),nt=lt.subscribe({next:function(yt){$.next(yt)},error:function(yt){ot=!0,$.error(yt)},complete:function(){dt=!0,nt=void 0,$.complete()}}),dt&&(nt=void 0)):Tt=$.subscribe(this),this.add(function(){tt--,Tt.unsubscribe(),Tt=void 0,nt&&!dt&&_&&tt===0&&(nt.unsubscribe(),nt=void 0,$=void 0)})}}function single(a){return function(s){return s.lift(new SingleOperator(a,s))}}var SingleOperator=function(){function a(s,d){this.predicate=s,this.source=d}return a.prototype.call=function(s,d){return d.subscribe(new SingleSubscriber(s,this.predicate,this.source))},a}(),SingleSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.predicate=c,_.source=g,_.seenValue=!1,_.index=0,_}return s.prototype.applySingleValue=function(d){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=d)},s.prototype._next=function(d){var c=this.index++;this.predicate?this.tryNext(d,c):this.applySingleValue(d)},s.prototype.tryNext=function(d,c){try{this.predicate(d,c,this.source)&&this.applySingleValue(d)}catch(g){this.destination.error(g)}},s.prototype._complete=function(){var d=this.destination;this.index>0?(d.next(this.seenValue?this.singleValue:void 0),d.complete()):d.error(new EmptyError)},s}(Subscriber);function skip(a){return function(s){return s.lift(new SkipOperator(a))}}var SkipOperator=function(){function a(s){this.total=s}return a.prototype.call=function(s,d){return d.subscribe(new SkipSubscriber(s,this.total))},a}(),SkipSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.total=c,g.count=0,g}return s.prototype._next=function(d){++this.count>this.total&&this.destination.next(d)},s}(Subscriber);function skipLast(a){return function(s){return s.lift(new SkipLastOperator(a))}}var SkipLastOperator=function(){function a(s){if(this._skipCount=s,this._skipCount<0)throw new ArgumentOutOfRangeError}return a.prototype.call=function(s,d){return this._skipCount===0?d.subscribe(new Subscriber(s)):d.subscribe(new SkipLastSubscriber(s,this._skipCount))},a}(),SkipLastSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g._skipCount=c,g._count=0,g._ring=new Array(c),g}return s.prototype._next=function(d){var c=this._skipCount,g=this._count++;if(g<c)this._ring[g]=d;else{var _=g%c,b=this._ring,$=b[_];b[_]=d,this.destination.next($)}},s}(Subscriber);function skipUntil(a){return function(s){return s.lift(new SkipUntilOperator(a))}}var SkipUntilOperator=function(){function a(s){this.notifier=s}return a.prototype.call=function(s,d){return d.subscribe(new SkipUntilSubscriber(s,this.notifier))},a}(),SkipUntilSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;g.hasValue=!1;var _=new SimpleInnerSubscriber(g);g.add(_),g.innerSubscription=_;var b=innerSubscribe(c,_);return b!==_&&(g.add(b),g.innerSubscription=b),g}return s.prototype._next=function(d){this.hasValue&&a.prototype._next.call(this,d)},s.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},s.prototype.notifyComplete=function(){},s}(SimpleOuterSubscriber);function skipWhile(a){return function(s){return s.lift(new SkipWhileOperator(a))}}var SkipWhileOperator=function(){function a(s){this.predicate=s}return a.prototype.call=function(s,d){return d.subscribe(new SkipWhileSubscriber(s,this.predicate))},a}(),SkipWhileSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.predicate=c,g.skipping=!0,g.index=0,g}return s.prototype._next=function(d){var c=this.destination;this.skipping&&this.tryCallPredicate(d),this.skipping||c.next(d)},s.prototype.tryCallPredicate=function(d){try{var c=this.predicate(d,this.index++);this.skipping=Boolean(c)}catch(g){this.destination.error(g)}},s}(Subscriber);function startWith(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var d=a[a.length-1];return isScheduler(d)?(a.pop(),function(c){return concat$1(a,c,d)}):function(c){return concat$1(a,c)}}var nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(a){return a in activeHandles?(delete activeHandles[a],!0):!1}var Immediate={setImmediate:function(a){var s=nextHandle++;return activeHandles[s]=!0,RESOLVED.then(function(){return findAndClearHandle(s)&&a()}),s},clearImmediate:function(a){findAndClearHandle(a)}},AsapAction=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d,c)||this;return g.scheduler=d,g.work=c,g}return s.prototype.requestAsyncId=function(d,c,g){return g===void 0&&(g=0),g!==null&&g>0?a.prototype.requestAsyncId.call(this,d,c,g):(d.actions.push(this),d.scheduled||(d.scheduled=Immediate.setImmediate(d.flush.bind(d,null))))},s.prototype.recycleAsyncId=function(d,c,g){if(g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0)return a.prototype.recycleAsyncId.call(this,d,c,g);d.actions.length===0&&(Immediate.clearImmediate(c),d.scheduled=void 0)},s}(AsyncAction),AsapScheduler=function(a){__extends(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.flush=function(d){this.active=!0,this.scheduled=void 0;var c=this.actions,g,_=-1,b=c.length;d=d||c.shift();do if(g=d.execute(d.state,d.delay))break;while(++_<b&&(d=c.shift()));if(this.active=!1,g){for(;++_<b&&(d=c.shift());)d.unsubscribe();throw g}},s}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,SubscribeOnObservable=function(a){__extends(s,a);function s(d,c,g){c===void 0&&(c=0),g===void 0&&(g=asap);var _=a.call(this)||this;return _.source=d,_.delayTime=c,_.scheduler=g,(!isNumeric(c)||c<0)&&(_.delayTime=0),(!g||typeof g.schedule!="function")&&(_.scheduler=asap),_}return s.create=function(d,c,g){return c===void 0&&(c=0),g===void 0&&(g=asap),new s(d,c,g)},s.dispatch=function(d){var c=d.source,g=d.subscriber;return this.add(c.subscribe(g))},s.prototype._subscribe=function(d){var c=this.delayTime,g=this.source,_=this.scheduler;return _.schedule(s.dispatch,c,{source:g,subscriber:d})},s}(Observable);function subscribeOn(a,s){return s===void 0&&(s=0),function(c){return c.lift(new SubscribeOnOperator(a,s))}}var SubscribeOnOperator=function(){function a(s,d){this.scheduler=s,this.delay=d}return a.prototype.call=function(s,d){return new SubscribeOnObservable(d,this.delay,this.scheduler).subscribe(s)},a}();function switchMap(a,s){return typeof s=="function"?function(d){return d.pipe(switchMap(function(c,g){return from(a(c,g)).pipe(map(function(_,b){return s(c,_,g,b)}))}))}:function(d){return d.lift(new SwitchMapOperator(a))}}var SwitchMapOperator=function(){function a(s){this.project=s}return a.prototype.call=function(s,d){return d.subscribe(new SwitchMapSubscriber(s,this.project))},a}(),SwitchMapSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.project=c,g.index=0,g}return s.prototype._next=function(d){var c,g=this.index++;try{c=this.project(d,g)}catch(_){this.destination.error(_);return}this._innerSub(c)},s.prototype._innerSub=function(d){var c=this.innerSubscription;c&&c.unsubscribe();var g=new SimpleInnerSubscriber(this),_=this.destination;_.add(g),this.innerSubscription=innerSubscribe(d,g),this.innerSubscription!==g&&_.add(this.innerSubscription)},s.prototype._complete=function(){var d=this.innerSubscription;(!d||d.closed)&&a.prototype._complete.call(this),this.unsubscribe()},s.prototype._unsubscribe=function(){this.innerSubscription=void 0},s.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&a.prototype._complete.call(this)},s.prototype.notifyNext=function(d){this.destination.next(d)},s}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(a,s){return s?switchMap(function(){return a},s):switchMap(function(){return a})}function takeUntil(a){return function(s){return s.lift(new TakeUntilOperator(a))}}var TakeUntilOperator=function(){function a(s){this.notifier=s}return a.prototype.call=function(s,d){var c=new TakeUntilSubscriber(s),g=innerSubscribe(this.notifier,new SimpleInnerSubscriber(c));return g&&!c.seenValue?(c.add(g),d.subscribe(c)):c},a}(),TakeUntilSubscriber=function(a){__extends(s,a);function s(d){var c=a.call(this,d)||this;return c.seenValue=!1,c}return s.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},s.prototype.notifyComplete=function(){},s}(SimpleOuterSubscriber);function takeWhile(a,s){return s===void 0&&(s=!1),function(d){return d.lift(new TakeWhileOperator(a,s))}}var TakeWhileOperator=function(){function a(s,d){this.predicate=s,this.inclusive=d}return a.prototype.call=function(s,d){return d.subscribe(new TakeWhileSubscriber(s,this.predicate,this.inclusive))},a}(),TakeWhileSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.predicate=c,_.inclusive=g,_.index=0,_}return s.prototype._next=function(d){var c=this.destination,g;try{g=this.predicate(d,this.index++)}catch(_){c.error(_);return}this.nextOrComplete(d,g)},s.prototype.nextOrComplete=function(d,c){var g=this.destination;Boolean(c)?g.next(d):(this.inclusive&&g.next(d),g.complete())},s}(Subscriber);function noop$1(){}function tap(a,s,d){return function(g){return g.lift(new DoOperator(a,s,d))}}var DoOperator=function(){function a(s,d,c){this.nextOrObserver=s,this.error=d,this.complete=c}return a.prototype.call=function(s,d){return d.subscribe(new TapSubscriber(s,this.nextOrObserver,this.error,this.complete))},a}(),TapSubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this,d)||this;return b._tapNext=noop$1,b._tapError=noop$1,b._tapComplete=noop$1,b._tapError=g||noop$1,b._tapComplete=_||noop$1,isFunction$1(c)?(b._context=b,b._tapNext=c):c&&(b._context=c,b._tapNext=c.next||noop$1,b._tapError=c.error||noop$1,b._tapComplete=c.complete||noop$1),b}return s.prototype._next=function(d){try{this._tapNext.call(this._context,d)}catch(c){this.destination.error(c);return}this.destination.next(d)},s.prototype._error=function(d){try{this._tapError.call(this._context,d)}catch(c){this.destination.error(c);return}this.destination.error(d)},s.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(d){this.destination.error(d);return}return this.destination.complete()},s}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(a,s){return s===void 0&&(s=defaultThrottleConfig),function(d){return d.lift(new ThrottleOperator(a,!!s.leading,!!s.trailing))}}var ThrottleOperator=function(){function a(s,d,c){this.durationSelector=s,this.leading=d,this.trailing=c}return a.prototype.call=function(s,d){return d.subscribe(new ThrottleSubscriber(s,this.durationSelector,this.leading,this.trailing))},a}(),ThrottleSubscriber=function(a){__extends(s,a);function s(d,c,g,_){var b=a.call(this,d)||this;return b.destination=d,b.durationSelector=c,b._leading=g,b._trailing=_,b._hasValue=!1,b}return s.prototype._next=function(d){this._hasValue=!0,this._sendValue=d,this._throttled||(this._leading?this.send():this.throttle(d))},s.prototype.send=function(){var d=this,c=d._hasValue,g=d._sendValue;c&&(this.destination.next(g),this.throttle(g)),this._hasValue=!1,this._sendValue=void 0},s.prototype.throttle=function(d){var c=this.tryDurationSelector(d);c&&this.add(this._throttled=innerSubscribe(c,new SimpleInnerSubscriber(this)))},s.prototype.tryDurationSelector=function(d){try{return this.durationSelector(d)}catch(c){return this.destination.error(c),null}},s.prototype.throttlingDone=function(){var d=this,c=d._throttled,g=d._trailing;c&&c.unsubscribe(),this._throttled=void 0,g&&this.send()},s.prototype.notifyNext=function(){this.throttlingDone()},s.prototype.notifyComplete=function(){this.throttlingDone()},s}(SimpleOuterSubscriber);function throttleTime(a,s,d){return s===void 0&&(s=async),d===void 0&&(d=defaultThrottleConfig),function(c){return c.lift(new ThrottleTimeOperator(a,s,d.leading,d.trailing))}}var ThrottleTimeOperator=function(){function a(s,d,c,g){this.duration=s,this.scheduler=d,this.leading=c,this.trailing=g}return a.prototype.call=function(s,d){return d.subscribe(new ThrottleTimeSubscriber(s,this.duration,this.scheduler,this.leading,this.trailing))},a}(),ThrottleTimeSubscriber=function(a){__extends(s,a);function s(d,c,g,_,b){var $=a.call(this,d)||this;return $.duration=c,$.scheduler=g,$.leading=_,$.trailing=b,$._hasTrailingValue=!1,$._trailingValue=null,$}return s.prototype._next=function(d){this.throttled?this.trailing&&(this._trailingValue=d,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(d):this.trailing&&(this._trailingValue=d,this._hasTrailingValue=!0))},s.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},s.prototype.clearThrottle=function(){var d=this.throttled;d&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),d.unsubscribe(),this.remove(d),this.throttled=null)},s}(Subscriber);function dispatchNext(a){var s=a.subscriber;s.clearThrottle()}function defer(a){return new Observable(function(s){var d;try{d=a()}catch(g){s.error(g);return}var c=d?from(d):empty$1();return c.subscribe(s)})}function timeInterval(a){return a===void 0&&(a=async),function(s){return defer(function(){return s.pipe(scan(function(d,c){var g=d.current;return{value:c,current:a.now(),last:g}},{current:a.now(),value:void 0,last:void 0}),map(function(d){var c=d.current,g=d.last,_=d.value;return new TimeInterval(_,c-g)}))})}}var TimeInterval=function(){function a(s,d){this.value=s,this.interval=d}return a}(),TimeoutErrorImpl=function(){function a(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return a.prototype=Object.create(Error.prototype),a}(),TimeoutError=TimeoutErrorImpl;function timeoutWith(a,s,d){return d===void 0&&(d=async),function(c){var g=isDate$1(a),_=g?+a-d.now():Math.abs(a);return c.lift(new TimeoutWithOperator(_,g,s,d))}}var TimeoutWithOperator=function(){function a(s,d,c,g){this.waitFor=s,this.absoluteTimeout=d,this.withObservable=c,this.scheduler=g}return a.prototype.call=function(s,d){return d.subscribe(new TimeoutWithSubscriber(s,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},a}(),TimeoutWithSubscriber=function(a){__extends(s,a);function s(d,c,g,_,b){var $=a.call(this,d)||this;return $.absoluteTimeout=c,$.waitFor=g,$.withObservable=_,$.scheduler=b,$.scheduleTimeout(),$}return s.dispatchTimeout=function(d){var c=d.withObservable;d._unsubscribeAndRecycle(),d.add(innerSubscribe(c,new SimpleInnerSubscriber(d)))},s.prototype.scheduleTimeout=function(){var d=this.action;d?this.action=d.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(s.dispatchTimeout,this.waitFor,this))},s.prototype._next=function(d){this.absoluteTimeout||this.scheduleTimeout(),a.prototype._next.call(this,d)},s.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},s}(SimpleOuterSubscriber);function timeout(a,s){return s===void 0&&(s=async),timeoutWith(a,throwError(new TimeoutError),s)}function timestamp(a){return a===void 0&&(a=async),map(function(s){return new Timestamp(s,a.now())})}var Timestamp=function(){function a(s,d){this.value=s,this.timestamp=d}return a}();function toArrayReducer(a,s,d){return d===0?[s]:(a.push(s),a)}function toArray(){return reduce(toArrayReducer,[])}function window$1(a){return function(d){return d.lift(new WindowOperator$1(a))}}var WindowOperator$1=function(){function a(s){this.windowBoundaries=s}return a.prototype.call=function(s,d){var c=new WindowSubscriber$1(s),g=d.subscribe(c);return g.closed||c.add(innerSubscribe(this.windowBoundaries,new SimpleInnerSubscriber(c))),g},a}(),WindowSubscriber$1=function(a){__extends(s,a);function s(d){var c=a.call(this,d)||this;return c.window=new Subject,d.next(c.window),c}return s.prototype.notifyNext=function(){this.openWindow()},s.prototype.notifyError=function(d){this._error(d)},s.prototype.notifyComplete=function(){this._complete()},s.prototype._next=function(d){this.window.next(d)},s.prototype._error=function(d){this.window.error(d),this.destination.error(d)},s.prototype._complete=function(){this.window.complete(),this.destination.complete()},s.prototype._unsubscribe=function(){this.window=null},s.prototype.openWindow=function(){var d=this.window;d&&d.complete();var c=this.destination,g=this.window=new Subject;c.next(g)},s}(SimpleOuterSubscriber);function windowCount(a,s){return s===void 0&&(s=0),function(c){return c.lift(new WindowCountOperator(a,s))}}var WindowCountOperator=function(){function a(s,d){this.windowSize=s,this.startWindowEvery=d}return a.prototype.call=function(s,d){return d.subscribe(new WindowCountSubscriber(s,this.windowSize,this.startWindowEvery))},a}(),WindowCountSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.destination=d,_.windowSize=c,_.startWindowEvery=g,_.windows=[new Subject],_.count=0,d.next(_.windows[0]),_}return s.prototype._next=function(d){for(var c=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,g=this.destination,_=this.windowSize,b=this.windows,$=b.length,tt=0;tt<$&&!this.closed;tt++)b[tt].next(d);var nt=this.count-_+1;if(nt>=0&&nt%c===0&&!this.closed&&b.shift().complete(),++this.count%c===0&&!this.closed){var ot=new Subject;b.push(ot),g.next(ot)}},s.prototype._error=function(d){var c=this.windows;if(c)for(;c.length>0&&!this.closed;)c.shift().error(d);this.destination.error(d)},s.prototype._complete=function(){var d=this.windows;if(d)for(;d.length>0&&!this.closed;)d.shift().complete();this.destination.complete()},s.prototype._unsubscribe=function(){this.count=0,this.windows=null},s}(Subscriber);function windowTime(a){var s=async,d=null,c=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(s=arguments[3]),isScheduler(arguments[2])?s=arguments[2]:isNumeric(arguments[2])&&(c=Number(arguments[2])),isScheduler(arguments[1])?s=arguments[1]:isNumeric(arguments[1])&&(d=Number(arguments[1])),function(_){return _.lift(new WindowTimeOperator(a,d,c,s))}}var WindowTimeOperator=function(){function a(s,d,c,g){this.windowTimeSpan=s,this.windowCreationInterval=d,this.maxWindowSize=c,this.scheduler=g}return a.prototype.call=function(s,d){return d.subscribe(new WindowTimeSubscriber(s,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},a}(),CountedSubject=function(a){__extends(s,a);function s(){var d=a!==null&&a.apply(this,arguments)||this;return d._numberOfNextedValues=0,d}return s.prototype.next=function(d){this._numberOfNextedValues++,a.prototype.next.call(this,d)},Object.defineProperty(s.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),s}(Subject),WindowTimeSubscriber=function(a){__extends(s,a);function s(d,c,g,_,b){var $=a.call(this,d)||this;$.destination=d,$.windowTimeSpan=c,$.windowCreationInterval=g,$.maxWindowSize=_,$.scheduler=b,$.windows=[];var tt=$.openWindow();if(g!==null&&g>=0){var nt={subscriber:$,window:tt,context:null},ot={windowTimeSpan:c,windowCreationInterval:g,subscriber:$,scheduler:b};$.add(b.schedule(dispatchWindowClose,c,nt)),$.add(b.schedule(dispatchWindowCreation,g,ot))}else{var dt={subscriber:$,window:tt,windowTimeSpan:c};$.add(b.schedule(dispatchWindowTimeSpanOnly,c,dt))}return $}return s.prototype._next=function(d){for(var c=this.windows,g=c.length,_=0;_<g;_++){var b=c[_];b.closed||(b.next(d),b.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(b))}},s.prototype._error=function(d){for(var c=this.windows;c.length>0;)c.shift().error(d);this.destination.error(d)},s.prototype._complete=function(){for(var d=this.windows;d.length>0;){var c=d.shift();c.closed||c.complete()}this.destination.complete()},s.prototype.openWindow=function(){var d=new CountedSubject;this.windows.push(d);var c=this.destination;return c.next(d),d},s.prototype.closeWindow=function(d){d.complete();var c=this.windows;c.splice(c.indexOf(d),1)},s}(Subscriber);function dispatchWindowTimeSpanOnly(a){var s=a.subscriber,d=a.windowTimeSpan,c=a.window;c&&s.closeWindow(c),a.window=s.openWindow(),this.schedule(a,d)}function dispatchWindowCreation(a){var s=a.windowTimeSpan,d=a.subscriber,c=a.scheduler,g=a.windowCreationInterval,_=d.openWindow(),b=this,$={action:b,subscription:null},tt={subscriber:d,window:_,context:$};$.subscription=c.schedule(dispatchWindowClose,s,tt),b.add($.subscription),b.schedule(a,g)}function dispatchWindowClose(a){var s=a.subscriber,d=a.window,c=a.context;c&&c.action&&c.subscription&&c.action.remove(c.subscription),s.closeWindow(d)}function windowToggle(a,s){return function(d){return d.lift(new WindowToggleOperator(a,s))}}var WindowToggleOperator=function(){function a(s,d){this.openings=s,this.closingSelector=d}return a.prototype.call=function(s,d){return d.subscribe(new WindowToggleSubscriber(s,this.openings,this.closingSelector))},a}(),WindowToggleSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.openings=c,_.closingSelector=g,_.contexts=[],_.add(_.openSubscription=subscribeToResult(_,c,c)),_}return s.prototype._next=function(d){var c=this.contexts;if(c)for(var g=c.length,_=0;_<g;_++)c[_].window.next(d)},s.prototype._error=function(d){var c=this.contexts;if(this.contexts=null,c)for(var g=c.length,_=-1;++_<g;){var b=c[_];b.window.error(d),b.subscription.unsubscribe()}a.prototype._error.call(this,d)},s.prototype._complete=function(){var d=this.contexts;if(this.contexts=null,d)for(var c=d.length,g=-1;++g<c;){var _=d[g];_.window.complete(),_.subscription.unsubscribe()}a.prototype._complete.call(this)},s.prototype._unsubscribe=function(){var d=this.contexts;if(this.contexts=null,d)for(var c=d.length,g=-1;++g<c;){var _=d[g];_.window.unsubscribe(),_.subscription.unsubscribe()}},s.prototype.notifyNext=function(d,c,g,_,b){if(d===this.openings){var $=void 0;try{var tt=this.closingSelector;$=tt(c)}catch(lt){return this.error(lt)}var nt=new Subject,ot=new Subscription,dt={window:nt,subscription:ot};this.contexts.push(dt);var ut=subscribeToResult(this,$,dt);ut.closed?this.closeWindow(this.contexts.length-1):(ut.context=dt,ot.add(ut)),this.destination.next(nt)}else this.closeWindow(this.contexts.indexOf(d))},s.prototype.notifyError=function(d){this.error(d)},s.prototype.notifyComplete=function(d){d!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(d.context))},s.prototype.closeWindow=function(d){if(d!==-1){var c=this.contexts,g=c[d],_=g.window,b=g.subscription;c.splice(d,1),_.complete(),b.unsubscribe()}},s}(OuterSubscriber);function windowWhen(a){return function(d){return d.lift(new WindowOperator(a))}}var WindowOperator=function(){function a(s){this.closingSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new WindowSubscriber(s,this.closingSelector))},a}(),WindowSubscriber=function(a){__extends(s,a);function s(d,c){var g=a.call(this,d)||this;return g.destination=d,g.closingSelector=c,g.openWindow(),g}return s.prototype.notifyNext=function(d,c,g,_,b){this.openWindow(b)},s.prototype.notifyError=function(d){this._error(d)},s.prototype.notifyComplete=function(d){this.openWindow(d)},s.prototype._next=function(d){this.window.next(d)},s.prototype._error=function(d){this.window.error(d),this.destination.error(d),this.unsubscribeClosingNotification()},s.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},s.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},s.prototype.openWindow=function(d){d===void 0&&(d=null),d&&(this.remove(d),d.unsubscribe());var c=this.window;c&&c.complete();var g=this.window=new Subject;this.destination.next(g);var _;try{var b=this.closingSelector;_=b()}catch($){this.destination.error($),this.window.error($);return}this.add(this.closingNotification=subscribeToResult(this,_))},s}(OuterSubscriber);function withLatestFrom(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(d){var c;typeof a[a.length-1]=="function"&&(c=a.pop());var g=a;return d.lift(new WithLatestFromOperator(g,c))}}var WithLatestFromOperator=function(){function a(s,d){this.observables=s,this.project=d}return a.prototype.call=function(s,d){return d.subscribe(new WithLatestFromSubscriber(s,this.observables,this.project))},a}(),WithLatestFromSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;_.observables=c,_.project=g,_.toRespond=[];var b=c.length;_.values=new Array(b);for(var $=0;$<b;$++)_.toRespond.push($);for(var $=0;$<b;$++){var tt=c[$];_.add(subscribeToResult(_,tt,void 0,$))}return _}return s.prototype.notifyNext=function(d,c,g){this.values[g]=c;var _=this.toRespond;if(_.length>0){var b=_.indexOf(g);b!==-1&&_.splice(b,1)}},s.prototype.notifyComplete=function(){},s.prototype._next=function(d){if(this.toRespond.length===0){var c=[d].concat(this.values);this.project?this._tryProject(c):this.destination.next(c)}},s.prototype._tryProject=function(d){var c;try{c=this.project.apply(this,d)}catch(g){this.destination.error(g);return}this.destination.next(c)},s}(OuterSubscriber);function zip$1(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var d=a[a.length-1];return typeof d=="function"&&a.pop(),fromArray(a,void 0).lift(new ZipOperator(d))}var ZipOperator=function(){function a(s){this.resultSelector=s}return a.prototype.call=function(s,d){return d.subscribe(new ZipSubscriber(s,this.resultSelector))},a}(),ZipSubscriber=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.resultSelector=c,_.iterators=[],_.active=0,_.resultSelector=typeof c=="function"?c:void 0,_}return s.prototype._next=function(d){var c=this.iterators;isArray$2(d)?c.push(new StaticArrayIterator(d)):typeof d[iterator]=="function"?c.push(new StaticIterator(d[iterator]())):c.push(new ZipBufferIterator(this.destination,this,d))},s.prototype._complete=function(){var d=this.iterators,c=d.length;if(this.unsubscribe(),c===0){this.destination.complete();return}this.active=c;for(var g=0;g<c;g++){var _=d[g];if(_.stillUnsubscribed){var b=this.destination;b.add(_.subscribe())}else this.active--}},s.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},s.prototype.checkIterators=function(){for(var d=this.iterators,c=d.length,g=this.destination,_=0;_<c;_++){var b=d[_];if(typeof b.hasValue=="function"&&!b.hasValue())return}for(var $=!1,tt=[],_=0;_<c;_++){var b=d[_],nt=b.next();if(b.hasCompleted()&&($=!0),nt.done){g.complete();return}tt.push(nt.value)}this.resultSelector?this._tryresultSelector(tt):g.next(tt),$&&g.complete()},s.prototype._tryresultSelector=function(d){var c;try{c=this.resultSelector.apply(this,d)}catch(g){this.destination.error(g);return}this.destination.next(c)},s}(Subscriber),StaticIterator=function(){function a(s){this.iterator=s,this.nextResult=s.next()}return a.prototype.hasValue=function(){return!0},a.prototype.next=function(){var s=this.nextResult;return this.nextResult=this.iterator.next(),s},a.prototype.hasCompleted=function(){var s=this.nextResult;return Boolean(s&&s.done)},a}(),StaticArrayIterator=function(){function a(s){this.array=s,this.index=0,this.length=0,this.length=s.length}return a.prototype[iterator]=function(){return this},a.prototype.next=function(s){var d=this.index++,c=this.array;return d<this.length?{value:c[d],done:!1}:{value:null,done:!0}},a.prototype.hasValue=function(){return this.array.length>this.index},a.prototype.hasCompleted=function(){return this.array.length===this.index},a}(),ZipBufferIterator=function(a){__extends(s,a);function s(d,c,g){var _=a.call(this,d)||this;return _.parent=c,_.observable=g,_.stillUnsubscribed=!0,_.buffer=[],_.isComplete=!1,_}return s.prototype[iterator]=function(){return this},s.prototype.next=function(){var d=this.buffer;return d.length===0&&this.isComplete?{value:null,done:!0}:{value:d.shift(),done:!1}},s.prototype.hasValue=function(){return this.buffer.length>0},s.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},s.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},s.prototype.notifyNext=function(d){this.buffer.push(d),this.parent.checkIterators()},s.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},s}(SimpleOuterSubscriber);function zip(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return function(c){return c.lift.call(zip$1.apply(void 0,[c].concat(a)))}}function zipAll(a){return function(s){return s.lift(new ZipOperator(a))}}var operators=Object.freeze(Object.defineProperty({__proto__:null,audit,auditTime,buffer,bufferCount,bufferTime,bufferToggle,bufferWhen,catchError,combineAll,combineLatest,concat,concatAll,concatMap,concatMapTo,count,debounce,debounceTime,defaultIfEmpty,delay,delayWhen,dematerialize,distinct,distinctUntilChanged,distinctUntilKeyChanged,elementAt,endWith,every,exhaust,exhaustMap,expand,filter,finalize,find:find$1,findIndex,first,groupBy,ignoreElements,isEmpty,last,map,mapTo,materialize,max,merge:merge$1,mergeAll,mergeMap,flatMap,mergeMapTo,mergeScan,min,multicast,observeOn,onErrorResumeNext,pairwise,partition,pluck,publish,publishBehavior,publishLast,publishReplay,race,reduce,repeat,repeatWhen,retry,retryWhen,refCount,sample,sampleTime,scan,sequenceEqual,share,shareReplay,single,skip,skipLast,skipUntil,skipWhile,startWith,subscribeOn,switchAll,switchMap,switchMapTo,take,takeLast,takeUntil,takeWhile,tap,throttle,throttleTime,throwIfEmpty,timeInterval,timeout,timeoutWith,timestamp,toArray,window:window$1,windowCount,windowTime,windowToggle,windowWhen,withLatestFrom,zip,zipAll},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(operators),struct={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(it,ct,mt,Nt){Nt===void 0&&(Nt=mt),Object.defineProperty(it,Nt,{enumerable:!0,get:function(){return ct[mt]}})}:function(it,ct,mt,Nt){Nt===void 0&&(Nt=mt),it[Nt]=ct[mt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(it,ct){Object.defineProperty(it,"default",{enumerable:!0,value:ct})}:function(it,ct){it.default=ct}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(it){if(it&&it.__esModule)return it;var ct={};if(it!=null)for(var mt in it)mt!=="default"&&Object.hasOwnProperty.call(it,mt)&&s(ct,it,mt);return d(ct,it),ct},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(a,"__esModule",{value:!0}),a.ListValue=a.Value=a.Struct_FieldsEntry=a.Struct=a.nullValueToNumber=a.nullValueToJSON=a.nullValueFromJSON=a.NullValue=a.protobufPackage=void 0;const _=g(umd.exports),b=c(minimal);a.protobufPackage="google.protobuf";var $;(function(it){it.NULL_VALUE="NULL_VALUE"})($=a.NullValue||(a.NullValue={}));function tt(it){switch(it){case 0:case"NULL_VALUE":return $.NULL_VALUE;default:throw new yt.Error("Unrecognized enum value "+it+" for enum NullValue")}}a.nullValueFromJSON=tt;function nt(it){switch(it){case $.NULL_VALUE:return"NULL_VALUE";default:return"UNKNOWN"}}a.nullValueToJSON=nt;function ot(it){switch(it){case $.NULL_VALUE:return 0;default:return 0}}a.nullValueToNumber=ot;function dt(){return{fields:{}}}a.Struct={encode(it,ct=b.Writer.create()){return Object.entries(it.fields).forEach(([mt,Nt])=>{Nt!==void 0&&a.Struct_FieldsEntry.encode({key:mt,value:Nt},ct.uint32(10).fork()).ldelim()}),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=dt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:const Pt=a.Struct_FieldsEntry.decode(mt,mt.uint32());Pt.value!==void 0&&(Ot.fields[Pt.key]=Pt.value);break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{fields:pt(it.fields)?Object.entries(it.fields).reduce((ct,[mt,Nt])=>(ct[mt]=Nt,ct),{}):{}}},toJSON(it){const ct={};return ct.fields={},it.fields&&Object.entries(it.fields).forEach(([mt,Nt])=>{ct.fields[mt]=Nt}),ct},fromPartial(it){var ct;const mt=dt();return mt.fields=Object.entries((ct=it.fields)!==null&&ct!==void 0?ct:{}).reduce((Nt,[Ot,At])=>(At!==void 0&&(Nt[Ot]=At),Nt),{}),mt},wrap(it){const ct=dt();return it!==void 0&&Object.keys(it).forEach(mt=>{ct.fields[mt]=it[mt]}),ct},unwrap(it){const ct={};return Object.keys(it.fields).forEach(mt=>{ct[mt]=it.fields[mt]}),ct}};function ut(){return{key:"",value:void 0}}a.Struct_FieldsEntry={encode(it,ct=b.Writer.create()){return it.key!==""&&ct.uint32(10).string(it.key),it.value!==void 0&&a.Value.encode(a.Value.wrap(it.value),ct.uint32(18).fork()).ldelim(),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=ut();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.key=mt.string();break;case 2:Ot.value=a.Value.unwrap(a.Value.decode(mt,mt.uint32()));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{key:vt(it.key)?String(it.key):"",value:vt(it==null?void 0:it.value)?it.value:void 0}},toJSON(it){const ct={};return it.key!==void 0&&(ct.key=it.key),it.value!==void 0&&(ct.value=it.value),ct},fromPartial(it){var ct,mt;const Nt=ut();return Nt.key=(ct=it.key)!==null&&ct!==void 0?ct:"",Nt.value=(mt=it.value)!==null&&mt!==void 0?mt:void 0,Nt}};function lt(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}a.Value={encode(it,ct=b.Writer.create()){return it.nullValue!==void 0&&ct.uint32(8).int32(ot(it.nullValue)),it.numberValue!==void 0&&ct.uint32(17).double(it.numberValue),it.stringValue!==void 0&&ct.uint32(26).string(it.stringValue),it.boolValue!==void 0&&ct.uint32(32).bool(it.boolValue),it.structValue!==void 0&&a.Struct.encode(a.Struct.wrap(it.structValue),ct.uint32(42).fork()).ldelim(),it.listValue!==void 0&&a.ListValue.encode(a.ListValue.wrap(it.listValue),ct.uint32(50).fork()).ldelim(),ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=lt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.nullValue=tt(mt.int32());break;case 2:Ot.numberValue=mt.double();break;case 3:Ot.stringValue=mt.string();break;case 4:Ot.boolValue=mt.bool();break;case 5:Ot.structValue=a.Struct.unwrap(a.Struct.decode(mt,mt.uint32()));break;case 6:Ot.listValue=a.ListValue.unwrap(a.ListValue.decode(mt,mt.uint32()));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{nullValue:vt(it.nullValue)?tt(it.nullValue):void 0,numberValue:vt(it.numberValue)?Number(it.numberValue):void 0,stringValue:vt(it.stringValue)?String(it.stringValue):void 0,boolValue:vt(it.boolValue)?Boolean(it.boolValue):void 0,structValue:pt(it.structValue)?it.structValue:void 0,listValue:Array.isArray(it.listValue)?[...it.listValue]:void 0}},toJSON(it){const ct={};return it.nullValue!==void 0&&(ct.nullValue=it.nullValue!==void 0?nt(it.nullValue):void 0),it.numberValue!==void 0&&(ct.numberValue=it.numberValue),it.stringValue!==void 0&&(ct.stringValue=it.stringValue),it.boolValue!==void 0&&(ct.boolValue=it.boolValue),it.structValue!==void 0&&(ct.structValue=it.structValue),it.listValue!==void 0&&(ct.listValue=it.listValue),ct},fromPartial(it){var ct,mt,Nt,Ot,At,Pt;const St=lt();return St.nullValue=(ct=it.nullValue)!==null&&ct!==void 0?ct:void 0,St.numberValue=(mt=it.numberValue)!==null&&mt!==void 0?mt:void 0,St.stringValue=(Nt=it.stringValue)!==null&&Nt!==void 0?Nt:void 0,St.boolValue=(Ot=it.boolValue)!==null&&Ot!==void 0?Ot:void 0,St.structValue=(At=it.structValue)!==null&&At!==void 0?At:void 0,St.listValue=(Pt=it.listValue)!==null&&Pt!==void 0?Pt:void 0,St},wrap(it){const ct=lt();if(it===null)ct.nullValue=$.NULL_VALUE;else if(typeof it=="boolean")ct.boolValue=it;else if(typeof it=="number")ct.numberValue=it;else if(typeof it=="string")ct.stringValue=it;else if(Array.isArray(it))ct.listValue=it;else if(typeof it=="object")ct.structValue=it;else if(typeof it!="undefined")throw new Error("Unsupported any value type: "+typeof it);return ct},unwrap(it){if((it==null?void 0:it.stringValue)!==void 0)return it.stringValue;if((it==null?void 0:it.numberValue)!==void 0)return it.numberValue;if((it==null?void 0:it.boolValue)!==void 0)return it.boolValue;if((it==null?void 0:it.structValue)!==void 0)return it.structValue;if((it==null?void 0:it.listValue)!==void 0)return it.listValue;if((it==null?void 0:it.nullValue)!==void 0)return null}};function Tt(){return{values:[]}}a.ListValue={encode(it,ct=b.Writer.create()){for(const mt of it.values)a.Value.encode(a.Value.wrap(mt),ct.uint32(10).fork()).ldelim();return ct},decode(it,ct){const mt=it instanceof b.Reader?it:new b.Reader(it);let Nt=ct===void 0?mt.len:mt.pos+ct;const Ot=Tt();for(;mt.pos<Nt;){const At=mt.uint32();switch(At>>>3){case 1:Ot.values.push(a.Value.unwrap(a.Value.decode(mt,mt.uint32())));break;default:mt.skipType(At&7);break}}return Ot},fromJSON(it){return{values:Array.isArray(it==null?void 0:it.values)?[...it.values]:[]}},toJSON(it){const ct={};return it.values?ct.values=it.values.map(mt=>mt):ct.values=[],ct},fromPartial(it){var ct;const mt=Tt();return mt.values=((ct=it.values)===null||ct===void 0?void 0:ct.map(Nt=>Nt))||[],mt},wrap(it){const ct=Tt();return ct.values=it!=null?it:[],ct},unwrap(it){return it.values}};var yt=(()=>{if(typeof yt!="undefined")return yt;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();b.util.Long!==_.default&&(b.util.Long=_.default,b.configure());function pt(it){return typeof it=="object"&&it!==null}function vt(it){return it!=null}})(struct);(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(St,Ct,$t,gt){gt===void 0&&(gt=$t),Object.defineProperty(St,gt,{enumerable:!0,get:function(){return Ct[$t]}})}:function(St,Ct,$t,gt){gt===void 0&&(gt=$t),St[gt]=Ct[$t]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(St,Ct){Object.defineProperty(St,"default",{enumerable:!0,value:Ct})}:function(St,Ct){St.default=Ct}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(St){if(St&&St.__esModule)return St;var Ct={};if(St!=null)for(var $t in St)$t!=="default"&&Object.hasOwnProperty.call(St,$t)&&s(Ct,St,$t);return d(Ct,St),Ct},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(St){return St&&St.__esModule?St:{default:St}};Object.defineProperty(a,"__esModule",{value:!0}),a.EventServiceDefinition=a.EventServiceClientImpl=a.EventsStreamResponse=a.EventsStreamRequest=a.EventsStreamReconnectRequest=a.EventsStreamError=a.SubscribePayload=a.PublishEventResponse=a.PublishEventRequest=a.EventTarget=a.eventsStreamMessageTypeToNumber=a.eventsStreamMessageTypeToJSON=a.eventsStreamMessageTypeFromJSON=a.EventsStreamMessageType=a.protobufPackage=void 0;const _=g(umd.exports),b=c(minimal),$=require$$2,tt=struct;a.protobufPackage="apis.event.v2";var nt;(function(St){St.EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED="EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED",St.EVENTS_STREAM_MESSAGE_TYPE_PING="EVENTS_STREAM_MESSAGE_TYPE_PING",St.EVENTS_STREAM_MESSAGE_TYPE_ERROR="EVENTS_STREAM_MESSAGE_TYPE_ERROR",St.EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED="EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED",St.EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED="EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED",St.EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED="EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED"})(nt=a.EventsStreamMessageType||(a.EventsStreamMessageType={}));function ot(St){switch(St){case 0:case"EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED":return nt.EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED;case 1:case"EVENTS_STREAM_MESSAGE_TYPE_PING":return nt.EVENTS_STREAM_MESSAGE_TYPE_PING;case 2:case"EVENTS_STREAM_MESSAGE_TYPE_ERROR":return nt.EVENTS_STREAM_MESSAGE_TYPE_ERROR;case 3:case"EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED":return nt.EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED;case 4:case"EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED":return nt.EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED;case 5:case"EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED":return nt.EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED;default:throw new Ot.Error("Unrecognized enum value "+St+" for enum EventsStreamMessageType")}}a.eventsStreamMessageTypeFromJSON=ot;function dt(St){switch(St){case nt.EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED:return"EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED";case nt.EVENTS_STREAM_MESSAGE_TYPE_PING:return"EVENTS_STREAM_MESSAGE_TYPE_PING";case nt.EVENTS_STREAM_MESSAGE_TYPE_ERROR:return"EVENTS_STREAM_MESSAGE_TYPE_ERROR";case nt.EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED:return"EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED";case nt.EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED:return"EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED";case nt.EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED:return"EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED";default:return"UNKNOWN"}}a.eventsStreamMessageTypeToJSON=dt;function ut(St){switch(St){case nt.EVENTS_STREAM_MESSAGE_TYPE_UNSPECIFIED:return 0;case nt.EVENTS_STREAM_MESSAGE_TYPE_PING:return 1;case nt.EVENTS_STREAM_MESSAGE_TYPE_ERROR:return 2;case nt.EVENTS_STREAM_MESSAGE_TYPE_SUBSCRIBED:return 3;case nt.EVENTS_STREAM_MESSAGE_TYPE_UNSUBSCRIBED:return 4;case nt.EVENTS_STREAM_MESSAGE_TYPE_PUBLISHED:return 5;default:return 0}}a.eventsStreamMessageTypeToNumber=ut;function lt(){return{collectionId:void 0,projectId:void 0,layoutId:void 0}}a.EventTarget={encode(St,Ct=b.Writer.create()){return St.collectionId!==void 0&&Ct.uint32(42).string(St.collectionId),St.projectId!==void 0&&Ct.uint32(34).string(St.projectId),St.layoutId!==void 0&&Ct.uint32(10).string(St.layoutId),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=lt();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 5:It.collectionId=$t.string();break;case 4:It.projectId=$t.string();break;case 1:It.layoutId=$t.string();break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{collectionId:Pt(St.collectionId)?String(St.collectionId):void 0,projectId:Pt(St.projectId)?String(St.projectId):void 0,layoutId:Pt(St.layoutId)?String(St.layoutId):void 0}},toJSON(St){const Ct={};return St.collectionId!==void 0&&(Ct.collectionId=St.collectionId),St.projectId!==void 0&&(Ct.projectId=St.projectId),St.layoutId!==void 0&&(Ct.layoutId=St.layoutId),Ct},fromPartial(St){var Ct,$t,gt;const It=lt();return It.collectionId=(Ct=St.collectionId)!==null&&Ct!==void 0?Ct:void 0,It.projectId=($t=St.projectId)!==null&&$t!==void 0?$t:void 0,It.layoutId=(gt=St.layoutId)!==null&&gt!==void 0?gt:void 0,It}};function Tt(){return{name:"",payload:void 0,requestMetadata:void 0,target:void 0}}a.PublishEventRequest={encode(St,Ct=b.Writer.create()){return St.name!==""&&Ct.uint32(10).string(St.name),St.payload!==void 0&&tt.Struct.encode(tt.Struct.wrap(St.payload),Ct.uint32(18).fork()).ldelim(),St.requestMetadata!==void 0&&tt.Value.encode(tt.Value.wrap(St.requestMetadata),Ct.uint32(34).fork()).ldelim(),St.target!==void 0&&a.EventTarget.encode(St.target,Ct.uint32(26).fork()).ldelim(),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=Tt();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 1:It.name=$t.string();break;case 2:It.payload=tt.Struct.unwrap(tt.Struct.decode($t,$t.uint32()));break;case 4:It.requestMetadata=tt.Value.unwrap(tt.Value.decode($t,$t.uint32()));break;case 3:It.target=a.EventTarget.decode($t,$t.uint32());break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{name:Pt(St.name)?String(St.name):"",payload:At(St.payload)?St.payload:void 0,requestMetadata:Pt(St==null?void 0:St.requestMetadata)?St.requestMetadata:void 0,target:Pt(St.target)?a.EventTarget.fromJSON(St.target):void 0}},toJSON(St){const Ct={};return St.name!==void 0&&(Ct.name=St.name),St.payload!==void 0&&(Ct.payload=St.payload),St.requestMetadata!==void 0&&(Ct.requestMetadata=St.requestMetadata),St.target!==void 0&&(Ct.target=St.target?a.EventTarget.toJSON(St.target):void 0),Ct},fromPartial(St){var Ct,$t,gt;const It=Tt();return It.name=(Ct=St.name)!==null&&Ct!==void 0?Ct:"",It.payload=($t=St.payload)!==null&&$t!==void 0?$t:void 0,It.requestMetadata=(gt=St.requestMetadata)!==null&&gt!==void 0?gt:void 0,It.target=St.target!==void 0&&St.target!==null?a.EventTarget.fromPartial(St.target):void 0,It}};function yt(){return{name:"",payload:void 0,target:void 0,requestMetadata:void 0,id:""}}a.PublishEventResponse={encode(St,Ct=b.Writer.create()){return St.name!==""&&Ct.uint32(10).string(St.name),St.payload!==void 0&&tt.Struct.encode(tt.Struct.wrap(St.payload),Ct.uint32(18).fork()).ldelim(),St.target!==void 0&&a.EventTarget.encode(St.target,Ct.uint32(26).fork()).ldelim(),St.requestMetadata!==void 0&&tt.Value.encode(tt.Value.wrap(St.requestMetadata),Ct.uint32(34).fork()).ldelim(),St.id!==""&&Ct.uint32(42).string(St.id),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=yt();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 1:It.name=$t.string();break;case 2:It.payload=tt.Struct.unwrap(tt.Struct.decode($t,$t.uint32()));break;case 3:It.target=a.EventTarget.decode($t,$t.uint32());break;case 4:It.requestMetadata=tt.Value.unwrap(tt.Value.decode($t,$t.uint32()));break;case 5:It.id=$t.string();break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{name:Pt(St.name)?String(St.name):"",payload:At(St.payload)?St.payload:void 0,target:Pt(St.target)?a.EventTarget.fromJSON(St.target):void 0,requestMetadata:Pt(St==null?void 0:St.requestMetadata)?St.requestMetadata:void 0,id:Pt(St.id)?String(St.id):""}},toJSON(St){const Ct={};return St.name!==void 0&&(Ct.name=St.name),St.payload!==void 0&&(Ct.payload=St.payload),St.target!==void 0&&(Ct.target=St.target?a.EventTarget.toJSON(St.target):void 0),St.requestMetadata!==void 0&&(Ct.requestMetadata=St.requestMetadata),St.id!==void 0&&(Ct.id=St.id),Ct},fromPartial(St){var Ct,$t,gt,It;const Rt=yt();return Rt.name=(Ct=St.name)!==null&&Ct!==void 0?Ct:"",Rt.payload=($t=St.payload)!==null&&$t!==void 0?$t:void 0,Rt.target=St.target!==void 0&&St.target!==null?a.EventTarget.fromPartial(St.target):void 0,Rt.requestMetadata=(gt=St.requestMetadata)!==null&&gt!==void 0?gt:void 0,Rt.id=(It=St.id)!==null&&It!==void 0?It:"",Rt}};function pt(){return{name:"",target:void 0}}a.SubscribePayload={encode(St,Ct=b.Writer.create()){return St.name!==""&&Ct.uint32(10).string(St.name),St.target!==void 0&&a.EventTarget.encode(St.target,Ct.uint32(18).fork()).ldelim(),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=pt();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 1:It.name=$t.string();break;case 2:It.target=a.EventTarget.decode($t,$t.uint32());break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{name:Pt(St.name)?String(St.name):"",target:Pt(St.target)?a.EventTarget.fromJSON(St.target):void 0}},toJSON(St){const Ct={};return St.name!==void 0&&(Ct.name=St.name),St.target!==void 0&&(Ct.target=St.target?a.EventTarget.toJSON(St.target):void 0),Ct},fromPartial(St){var Ct;const $t=pt();return $t.name=(Ct=St.name)!==null&&Ct!==void 0?Ct:"",$t.target=St.target!==void 0&&St.target!==null?a.EventTarget.fromPartial(St.target):void 0,$t}};function vt(){return{code:0,message:""}}a.EventsStreamError={encode(St,Ct=b.Writer.create()){return St.code!==0&&Ct.uint32(8).int32(St.code),St.message!==""&&Ct.uint32(18).string(St.message),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=vt();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 1:It.code=$t.int32();break;case 2:It.message=$t.string();break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{code:Pt(St.code)?Number(St.code):0,message:Pt(St.message)?String(St.message):""}},toJSON(St){const Ct={};return St.code!==void 0&&(Ct.code=Math.round(St.code)),St.message!==void 0&&(Ct.message=St.message),Ct},fromPartial(St){var Ct,$t;const gt=vt();return gt.code=(Ct=St.code)!==null&&Ct!==void 0?Ct:0,gt.message=($t=St.message)!==null&&$t!==void 0?$t:"",gt}};function it(){return{reauthenticate:!1,beforeTimestamp:""}}a.EventsStreamReconnectRequest={encode(St,Ct=b.Writer.create()){return St.reauthenticate===!0&&Ct.uint32(8).bool(St.reauthenticate),St.beforeTimestamp!==""&&Ct.uint32(18).string(St.beforeTimestamp),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=it();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 1:It.reauthenticate=$t.bool();break;case 2:It.beforeTimestamp=$t.string();break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{reauthenticate:Pt(St.reauthenticate)?Boolean(St.reauthenticate):!1,beforeTimestamp:Pt(St.beforeTimestamp)?String(St.beforeTimestamp):""}},toJSON(St){const Ct={};return St.reauthenticate!==void 0&&(Ct.reauthenticate=St.reauthenticate),St.beforeTimestamp!==void 0&&(Ct.beforeTimestamp=St.beforeTimestamp),Ct},fromPartial(St){var Ct,$t;const gt=it();return gt.reauthenticate=(Ct=St.reauthenticate)!==null&&Ct!==void 0?Ct:!1,gt.beforeTimestamp=($t=St.beforeTimestamp)!==null&&$t!==void 0?$t:"",gt}};function ct(){return{correlationId:void 0,subscribe:void 0,unsubscribe:void 0,publish:void 0,ping:void 0}}a.EventsStreamRequest={encode(St,Ct=b.Writer.create()){return St.correlationId!==void 0&&Ct.uint32(10).string(St.correlationId),St.subscribe!==void 0&&a.SubscribePayload.encode(St.subscribe,Ct.uint32(802).fork()).ldelim(),St.unsubscribe!==void 0&&a.SubscribePayload.encode(St.unsubscribe,Ct.uint32(810).fork()).ldelim(),St.publish!==void 0&&a.PublishEventRequest.encode(St.publish,Ct.uint32(818).fork()).ldelim(),St.ping!==void 0&&Ct.uint32(826).string(St.ping),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=ct();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 1:It.correlationId=$t.string();break;case 100:It.subscribe=a.SubscribePayload.decode($t,$t.uint32());break;case 101:It.unsubscribe=a.SubscribePayload.decode($t,$t.uint32());break;case 102:It.publish=a.PublishEventRequest.decode($t,$t.uint32());break;case 103:It.ping=$t.string();break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{correlationId:Pt(St.correlationId)?String(St.correlationId):void 0,subscribe:Pt(St.subscribe)?a.SubscribePayload.fromJSON(St.subscribe):void 0,unsubscribe:Pt(St.unsubscribe)?a.SubscribePayload.fromJSON(St.unsubscribe):void 0,publish:Pt(St.publish)?a.PublishEventRequest.fromJSON(St.publish):void 0,ping:Pt(St.ping)?String(St.ping):void 0}},toJSON(St){const Ct={};return St.correlationId!==void 0&&(Ct.correlationId=St.correlationId),St.subscribe!==void 0&&(Ct.subscribe=St.subscribe?a.SubscribePayload.toJSON(St.subscribe):void 0),St.unsubscribe!==void 0&&(Ct.unsubscribe=St.unsubscribe?a.SubscribePayload.toJSON(St.unsubscribe):void 0),St.publish!==void 0&&(Ct.publish=St.publish?a.PublishEventRequest.toJSON(St.publish):void 0),St.ping!==void 0&&(Ct.ping=St.ping),Ct},fromPartial(St){var Ct,$t;const gt=ct();return gt.correlationId=(Ct=St.correlationId)!==null&&Ct!==void 0?Ct:void 0,gt.subscribe=St.subscribe!==void 0&&St.subscribe!==null?a.SubscribePayload.fromPartial(St.subscribe):void 0,gt.unsubscribe=St.unsubscribe!==void 0&&St.unsubscribe!==null?a.SubscribePayload.fromPartial(St.unsubscribe):void 0,gt.publish=St.publish!==void 0&&St.publish!==null?a.PublishEventRequest.fromPartial(St.publish):void 0,gt.ping=($t=St.ping)!==null&&$t!==void 0?$t:void 0,gt}};function mt(){return{correlationId:void 0,sessionId:void 0,event:void 0,pong:void 0,error:void 0,subscribed:void 0,unsubscribed:void 0,published:void 0,reconnectBefore:void 0}}a.EventsStreamResponse={encode(St,Ct=b.Writer.create()){return St.correlationId!==void 0&&Ct.uint32(18).string(St.correlationId),St.sessionId!==void 0&&Ct.uint32(26).string(St.sessionId),St.event!==void 0&&a.PublishEventResponse.encode(St.event,Ct.uint32(802).fork()).ldelim(),St.pong!==void 0&&Ct.uint32(1602).string(St.pong),St.error!==void 0&&a.EventsStreamError.encode(St.error,Ct.uint32(1610).fork()).ldelim(),St.subscribed!==void 0&&a.SubscribePayload.encode(St.subscribed,Ct.uint32(1618).fork()).ldelim(),St.unsubscribed!==void 0&&a.SubscribePayload.encode(St.unsubscribed,Ct.uint32(1626).fork()).ldelim(),St.published!==void 0&&a.PublishEventResponse.encode(St.published,Ct.uint32(1634).fork()).ldelim(),St.reconnectBefore!==void 0&&a.EventsStreamReconnectRequest.encode(St.reconnectBefore,Ct.uint32(1642).fork()).ldelim(),Ct},decode(St,Ct){const $t=St instanceof b.Reader?St:new b.Reader(St);let gt=Ct===void 0?$t.len:$t.pos+Ct;const It=mt();for(;$t.pos<gt;){const Rt=$t.uint32();switch(Rt>>>3){case 2:It.correlationId=$t.string();break;case 3:It.sessionId=$t.string();break;case 100:It.event=a.PublishEventResponse.decode($t,$t.uint32());break;case 200:It.pong=$t.string();break;case 201:It.error=a.EventsStreamError.decode($t,$t.uint32());break;case 202:It.subscribed=a.SubscribePayload.decode($t,$t.uint32());break;case 203:It.unsubscribed=a.SubscribePayload.decode($t,$t.uint32());break;case 204:It.published=a.PublishEventResponse.decode($t,$t.uint32());break;case 205:It.reconnectBefore=a.EventsStreamReconnectRequest.decode($t,$t.uint32());break;default:$t.skipType(Rt&7);break}}return It},fromJSON(St){return{correlationId:Pt(St.correlationId)?String(St.correlationId):void 0,sessionId:Pt(St.sessionId)?String(St.sessionId):void 0,event:Pt(St.event)?a.PublishEventResponse.fromJSON(St.event):void 0,pong:Pt(St.pong)?String(St.pong):void 0,error:Pt(St.error)?a.EventsStreamError.fromJSON(St.error):void 0,subscribed:Pt(St.subscribed)?a.SubscribePayload.fromJSON(St.subscribed):void 0,unsubscribed:Pt(St.unsubscribed)?a.SubscribePayload.fromJSON(St.unsubscribed):void 0,published:Pt(St.published)?a.PublishEventResponse.fromJSON(St.published):void 0,reconnectBefore:Pt(St.reconnectBefore)?a.EventsStreamReconnectRequest.fromJSON(St.reconnectBefore):void 0}},toJSON(St){const Ct={};return St.correlationId!==void 0&&(Ct.correlationId=St.correlationId),St.sessionId!==void 0&&(Ct.sessionId=St.sessionId),St.event!==void 0&&(Ct.event=St.event?a.PublishEventResponse.toJSON(St.event):void 0),St.pong!==void 0&&(Ct.pong=St.pong),St.error!==void 0&&(Ct.error=St.error?a.EventsStreamError.toJSON(St.error):void 0),St.subscribed!==void 0&&(Ct.subscribed=St.subscribed?a.SubscribePayload.toJSON(St.subscribed):void 0),St.unsubscribed!==void 0&&(Ct.unsubscribed=St.unsubscribed?a.SubscribePayload.toJSON(St.unsubscribed):void 0),St.published!==void 0&&(Ct.published=St.published?a.PublishEventResponse.toJSON(St.published):void 0),St.reconnectBefore!==void 0&&(Ct.reconnectBefore=St.reconnectBefore?a.EventsStreamReconnectRequest.toJSON(St.reconnectBefore):void 0),Ct},fromPartial(St){var Ct,$t,gt;const It=mt();return It.correlationId=(Ct=St.correlationId)!==null&&Ct!==void 0?Ct:void 0,It.sessionId=($t=St.sessionId)!==null&&$t!==void 0?$t:void 0,It.event=St.event!==void 0&&St.event!==null?a.PublishEventResponse.fromPartial(St.event):void 0,It.pong=(gt=St.pong)!==null&&gt!==void 0?gt:void 0,It.error=St.error!==void 0&&St.error!==null?a.EventsStreamError.fromPartial(St.error):void 0,It.subscribed=St.subscribed!==void 0&&St.subscribed!==null?a.SubscribePayload.fromPartial(St.subscribed):void 0,It.unsubscribed=St.unsubscribed!==void 0&&St.unsubscribed!==null?a.SubscribePayload.fromPartial(St.unsubscribed):void 0,It.published=St.published!==void 0&&St.published!==null?a.PublishEventResponse.fromPartial(St.published):void 0,It.reconnectBefore=St.reconnectBefore!==void 0&&St.reconnectBefore!==null?a.EventsStreamReconnectRequest.fromPartial(St.reconnectBefore):void 0,It}};class Nt{constructor(Ct){this.rpc=Ct,this.Stream=this.Stream.bind(this),this.Publish=this.Publish.bind(this)}Stream(Ct){const $t=Ct.pipe($.map(It=>a.EventsStreamRequest.encode(It).finish()));return this.rpc.bidirectionalStreamingRequest("apis.event.v2.EventService","Stream",$t).pipe($.map(It=>a.EventsStreamResponse.decode(new b.Reader(It))))}Publish(Ct){const $t=a.PublishEventRequest.encode(Ct).finish();return this.rpc.request("apis.event.v2.EventService","Publish",$t).then(It=>a.PublishEventResponse.decode(new b.Reader(It)))}}a.EventServiceClientImpl=Nt,a.EventServiceDefinition={name:"EventService",fullName:"apis.event.v2.EventService",methods:{stream:{name:"Stream",requestType:a.EventsStreamRequest,requestStream:!0,responseType:a.EventsStreamResponse,responseStream:!0,options:{}},publish:{name:"Publish",requestType:a.PublishEventRequest,requestStream:!1,responseType:a.PublishEventResponse,responseStream:!1,options:{}}}};var Ot=(()=>{if(typeof Ot!="undefined")return Ot;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();b.util.Long!==_.default&&(b.util.Long=_.default,b.configure());function At(St){return typeof St=="object"&&St!==null}function Pt(St){return St!=null}})(api);(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,g,_,b){b===void 0&&(b=_),Object.defineProperty(c,b,{enumerable:!0,get:function(){return g[_]}})}:function(c,g,_,b){b===void 0&&(b=_),c[b]=g[_]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(c,g){for(var _ in c)_!=="default"&&!g.hasOwnProperty(_)&&s(g,c,_)};Object.defineProperty(a,"__esModule",{value:!0}),a.eventsApiSupportedEvents=a.eventsApiEventRpcCalls=void 0,d(api,a),a.eventsApiEventRpcCalls={ping:"pong",publish:"published",subscribe:"subscribed",unsubscribe:"unsubscribed"},a.eventsApiSupportedEvents=[...Object.values(a.eventsApiEventRpcCalls),"error","event","reconnectBefore"]})(dist$2);var ws=null;typeof WebSocket!="undefined"?ws=WebSocket:typeof MozWebSocket!="undefined"?ws=MozWebSocket:typeof commonjsGlobal!="undefined"?ws=commonjsGlobal.WebSocket||commonjsGlobal.MozWebSocket:typeof window!="undefined"?ws=window.WebSocket||window.MozWebSocket:typeof self!="undefined"&&(ws=self.WebSocket||self.MozWebSocket);var browser$1=ws,matcher={exports:{}},escapeStringRegexp$1=a=>{if(typeof a!="string")throw new TypeError("Expected a string");return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};const escapeStringRegexp=escapeStringRegexp$1,regexpCache=new Map;function sanitizeArray(a,s){if(!Array.isArray(a))switch(typeof a){case"string":a=[a];break;case"undefined":a=[];break;default:throw new TypeError(`Expected '${s}' to be a string or an array, but got a type of '${typeof a}'`)}return a.filter(d=>{if(typeof d!="string"){if(typeof d=="undefined")return!1;throw new TypeError(`Expected '${s}' to be an array of strings, but found a type of '${typeof d}' in the array`)}return!0})}function makeRegexp(a,s){s={caseSensitive:!1,...s};const d=a+JSON.stringify(s);if(regexpCache.has(d))return regexpCache.get(d);const c=a[0]==="!";c&&(a=a.slice(1)),a=escapeStringRegexp(a).replace(/\\\*/g,"[\\s\\S]*");const g=new RegExp(`^${a}$`,s.caseSensitive?"":"i");return g.negated=c,regexpCache.set(d,g),g}matcher.exports=(a,s,d)=>{if(a=sanitizeArray(a,"inputs"),s=sanitizeArray(s,"patterns"),s.length===0)return[];const c=s[0][0]==="!";s=s.map(_=>makeRegexp(_,d));const g=[];for(const _ of a){let b=c;for(const $ of s)$.test(_)&&(b=!$.negated);b&&g.push(_)}return g};matcher.exports.isMatch=(a,s,d)=>(a=sanitizeArray(a,"inputs"),s=sanitizeArray(s,"patterns"),s.length===0?!1:a.some(c=>s.every(g=>{const _=makeRegexp(g,d),b=_.test(c);return _.negated?!b:b})));var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,s,d,c){c===void 0&&(c=d);var g=Object.getOwnPropertyDescriptor(s,d);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(a,c,g)}:function(a,s,d,c){c===void 0&&(c=d),a[c]=s[d]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&__createBinding$1(s,a,d);return __setModuleDefault$1(s,a),s},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(eventapi,"__esModule",{value:!0});eventapi.EventApi=void 0;const EventApiModel=__importStar$1(dist$2),isomorphic_ws_1=__importDefault$e(browser$1),uuid_1=require$$1$2,NiceGrpc=__importStar$1(lib$1),matcher_1=matcher.exports,api_1=api$2,clientVersion=version$2,WS_PING_INTERVAL=2e4,WS_PING_TIMEOUT=1e4,WS_RECONNECT_DELAY=2e3,WS_MAX_BADAUTH_ATTEMPTS=3,LOG_CATEGORY="EventApi";class EventApi extends api_1.ApiClient{constructor(s,d,c,g,_,b){super(s,d,g,LOG_CATEGORY,_,b),this.websocketServer=c,this.subscriptions=new Set,this.eventHandlers={},this.calls={},this.messageQueue=[],this.websocketReady=!1,this.reconnectionAttempts=0,this.badAuthentication=!1,this.eventsClient=null}publish(...s){return this.websocketReady?this.call("publish",s[0]):this.eventsClient.publish(...s)}connect(){if(!this.ws){this.cleanup();const s=this.accessToken,d=[`version=${clientVersion}`,`sessionid=${this.sessionId}`];this.sdkVersion&&d.push(`sdkversion=${this.sdkVersion}`),this.ws=new isomorphic_ws_1.default(`${this.websocketServer}/stream?${d.join("&")}`,["Bearer",this.accessToken]);let c;this.ws.addEventListener("message",g=>{const _=JSON.parse(g.data.toString()),b=_.result;if(_.error&&(c=_.error,this.handleEvent("error",{error:{code:_.code,message:_.message}}),["You do not have permission to this resource","You do not have permission to this resource"].includes(_.message)&&(this.badAuthentication=!0)),!b)return;b.reconnectBefore&&b.reconnectBefore.reauthenticate&&this.accessToken===s&&(this.badAuthentication=!0);const $=EventApiModel.eventsApiSupportedEvents.find(tt=>!!b[tt]);$&&this.handleEvent($,b)}),this.ws.addEventListener("open",()=>{this.log.info("websocket connected"),this.call("ping","hello",{timeout:WS_PING_TIMEOUT,skipQueue:!0}).then(()=>{this.ready()}).catch(g=>{!c&&g.message!=="Stream connection closed"&&this.disconnect("hello timeout")})}),this.ws.addEventListener("close",g=>{var _;c?this.reconnect(`${(_=c==null?void 0:c.message)!==null&&_!==void 0?_:"unknown"}`):this.reconnect(`closed - ${g.reason||g.code}`)}),this.ws.addEventListener("error",g=>{c=g})}}async subscribe(s,d={}){return this.call("subscribe",{name:s,...d}).then(()=>{this.subscriptions.add(JSON.stringify({name:s,...d}))})}async unsubscribe(s,d={}){this.subscriptions.delete(JSON.stringify({name:s,payload:d})),await this.call("unsubscribe",{name:s,...d})}on(s,d,c){const g=c||d,_={ignoreSessionEvents:!1,allowedSessionEvents:[],...c?d:{}};this.eventHandlers[s]||(this.eventHandlers[s]=[]),this.eventHandlers[s].push({..._,handler:g})}off(s,d,c){var g;const _=c||d,b={ignoreSessionEvents:!1,allowedSessionEvents:[],...c?d:{}};this.eventHandlers[s]=((g=this.eventHandlers[s])!==null&&g!==void 0?g:[]).filter($=>!($.ignoreSessionEvents===b.ignoreSessionEvents&&$.allowedSessionEvents===b.allowedSessionEvents&&$.handler===_&&$.name===b.name))}disconnect(s){this.log.warn(`disconnected from events reason=${s}`),Object.values(this.calls).forEach(d=>{clearTimeout(d.timeout),d.reject(new Error("Stream connection closed"))}),this.calls={},this.cleanup()}_setup(s){this.eventsClient=this.clientFactory.create(EventApiModel.EventServiceDefinition,this.channel,{"*":s}),this.badAuthentication&&(this.badAuthentication=!1,this.reconnectionAttempts=0,this.reconnect("updated token"))}ready(){this.reconnectionAttempts=0,this.badAuthentication=!1,this.websocketReady=!0,this.handleEvent("connected",{connected:void 0});for(const s of this.subscriptions.values())this.send({subscribe:JSON.parse(s),correlationId:(0,uuid_1.v4)()});for(const s of this.messageQueue)this.send(s);this.messageQueue=[],this.pingLoop=setInterval(()=>{this.ping()},WS_PING_INTERVAL)}ping(){this.call("ping",`${+new Date}`,{timeout:WS_PING_TIMEOUT}).catch(()=>{this.reconnect("connection stalled")})}reconnect(s){this.disconnect(s),this.reconnectTimeout=setTimeout(()=>{if(this.reconnectionAttempts++,this.badAuthentication&&this.reconnectionAttempts>=WS_MAX_BADAUTH_ATTEMPTS){this.log.warn("Maximum number of reconnection attempts reached with bad authentication, please re-authenticate the SDK");return}this.connect()},WS_RECONNECT_DELAY)}send(s){this.ws&&this.ws.readyState===this.ws.OPEN?this.ws.send(JSON.stringify(s)):this.log.warn("Message sent to a disconnected stream")}handleEvent(s,d){var c;if(this.calls[d.correlationId]){const g=EventApiModel.eventsApiEventRpcCalls[this.calls[d.correlationId].method]===s,_=!!d.error;if(g||_){this.resolveCall(s,d);return}}for(const g of(c=this.eventHandlers[s])!==null&&c!==void 0?c:[]){if(s==="event"&&d.event){if(d.sessionId===this.sessionId&&g.ignoreSessionEvents&&!g.allowedSessionEvents.includes(d.event.name)){this.log.trace("ignorning user event from self: "+d.event.name+", payload.sessionId="+d.sessionId+", this.sessionId");continue}if(g.name&&!(0,matcher_1.isMatch)(d.event.name,g.name))continue;if(this.eventLogCallback){let _,b=d.event.name,$;if(d.event.name.startsWith(EventApi.APISTREAM_EVENT_PREFIX)){let tt=d.event.name.split(":");tt.length==4&&(_=tt[1],b=tt[2],$=tt[3]),this.eventLogCallback(_,b,$,d)}}}else if(d.sessionId===this.sessionId&&g.ignoreSessionEvents){this.log.trace("ignorning event from self: "+d.event.name+", payload.sessionId="+d.sessionId+", this.sessionId");continue}this.log.trace("processing event: payload.sessionId="+d.sessionId+", this.sessionId"),g.handler(d?d[s]:void 0,{isFromCurrentSession:d.sessionId===this.sessionId})}}async call(s,d,c={timeout:2e4,skipQueue:!1}){this.ws||this.connect();const g=(0,uuid_1.v4)();return new Promise((_,b)=>{const $=setTimeout(()=>{delete this.calls[g],b(new Error("Request timed out"))},c.timeout);this.calls[g]={resolve:_,reject:b,timeout:$,method:s},this.websocketReady||c.skipQueue?this.send({[s]:d,correlationId:g}):this.messageQueue.push({[s]:d,correlationId:g})})}resolveCall(s,d){const c=this.calls[d.correlationId];if(!!c){if(clearTimeout(c.timeout),delete this.calls[d.correlationId],s==="error"&&d.error){c.reject(new NiceGrpc.ClientError("error",d.error.code,d.error.message));return}c.resolve(d[s])}}cleanup(){clearTimeout(this.pingLoop),clearTimeout(this.reconnectTimeout),this.websocketReady=!1,this.ws&&(this.ws.onclose=function(){},this.ws.close(),this.ws=null)}}eventapi.EventApi=EventApi;EventApi.APISTREAM_EVENT_PREFIX="apistream";var livekit={},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(livekit,"__esModule",{value:!0});livekit.LiveKitUtils=void 0;const jwt_decode_1=__importDefault$d(require$$0$2);class LiveKitUtils{static decodeJwt(s){return(0,jwt_decode_1.default)(s,{header:!1})}static isRoomAdmin(s){return LiveKitUtils.decodeJwt(s).video.roomAdmin}static getRoomName(s){return LiveKitUtils.decodeJwt(s).video.room}}livekit.LiveKitUtils=LiveKitUtils;(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Pt,St,Ct,$t){$t===void 0&&($t=Ct);var gt=Object.getOwnPropertyDescriptor(St,Ct);(!gt||("get"in gt?!St.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return St[Ct]}}),Object.defineProperty(Pt,$t,gt)}:function(Pt,St,Ct,$t){$t===void 0&&($t=Ct),Pt[$t]=St[Ct]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Pt,St){Object.defineProperty(Pt,"default",{enumerable:!0,value:St})}:function(Pt,St){Pt.default=St}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(Pt){if(Pt&&Pt.__esModule)return Pt;var St={};if(Pt!=null)for(var Ct in Pt)Ct!=="default"&&Object.prototype.hasOwnProperty.call(Pt,Ct)&&s(St,Pt,Ct);return d(St,Pt),St},g=commonjsGlobal&&commonjsGlobal.__importDefault||function(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}};Object.defineProperty(a,"__esModule",{value:!0}),a.ApiStream=a.LiveKitUtils=a.EventApiModel=a.LayoutApiModel=a.LiveApiModel=void 0;const _=g(require$$0$2),b=require$$1$2,$=require$$2$1,tt=layoutapi,nt=liveapi,ot=eventapi,dt=c(api$1);a.LiveApiModel=dt;const ut=c(dist$3);a.LayoutApiModel=ut;const lt=c(dist$2);a.EventApiModel=lt;const Tt=livekit;Object.defineProperty(a,"LiveKitUtils",{enumerable:!0,get:function(){return Tt.LiveKitUtils}});const yt=logger$1,pt=version$2,vt={dev:"http://127.0.0.1:8081",stage:"https://live.stream.horse/grpcweb/live/v2",prod:"https://live.api.stream/grpcweb/live/v2"},it={dev:"https://live.stream.horse/grpcweb/layout/v2",stage:"https://live.stream.horse/grpcweb/layout/v2",prod:"https://live.api.stream/grpcweb/layout/v2"},ct={dev:"wss://live.stream.horse/event/v2",stage:"wss://live.stream.horse/event/v2",prod:"wss://live.api.stream/event/v2"},mt={dev:"https://live.stream.horse/grpcweb/event/v2",stage:"https://live.stream.horse/grpcweb/event/v2",prod:"https://live.api.stream/grpcweb/event/v2"},Nt={dev:"wss://live.stream.horse/webrtc/v2",stage:"wss://live.stream.horse/webrtc/v2",prod:"wss://live.api.stream/webrtc/v2"},Ot={dev:"https://live.stream.horse/webrtc/v2",stage:"https://live.stream.horse/webrtc/v2",prod:"https://live.api.stream/webrtc/v2"};class At{constructor(St={}){var Ct;const $t={env:"prod",logLevel:"Warn",...St};this.env=$t.env;let gt=(0,b.v4)();$t.sessionId!=null&&(gt=$t.sessionId),this.log=yt.logger.getCategory("ApiStream"),this.setLogLevel($t.env=="dev"?"Trace":$t.logLevel);const It=(Ct=$t.overrideEndpoints)!==null&&Ct!==void 0?Ct:{};It.liveApiServer==null&&(It.liveApiServer=vt[this.env]),It.layoutApiServer==null&&(It.layoutApiServer=it[this.env]),It.eventApiServer==null&&(It.eventApiServer=mt[this.env]),It.eventApiWebSocketServer==null&&(It.eventApiWebSocketServer=ct[this.env]),this.eventApi=new ot.EventApi(gt,It.eventApiServer,It.eventApiWebSocketServer,$t.sdkVersion,$t.apiLogCallback,$t.eventLogCallback),this.layoutApi=new tt.LayoutApi(gt,this.eventApi,It.layoutApiServer,$t.sdkVersion,$t.apiLogCallback),this.liveApi=new nt.LiveApi(gt,this.eventApi,It.liveApiServer,this.setAccessToken.bind(this),$t.apiKey,$t.sdkVersion,$t.apiLogCallback),this.eventApi.on("reconnectBefore",Rt=>{Rt.reauthenticate&&this.liveApi.authentication.refreshAccessToken({}).catch(()=>{})}),this.log.info("api.stream: sessionid="+gt+", version="+pt+", sdkVersion="+$t.sdkVersion)}LiveApi(){return this.liveApi}LayoutApi(){return this.layoutApi}EventApi(){return this.eventApi}setLogLevel(St){try{let Ct=$.LogLevel.toLogLevel(St);yt.logger.updateRuntimeSettings({level:Ct})}catch{this.log.warn(`unknown logging level ${St}`)}}setAccessToken(St){this.decodedAccessToken=At.decodeAccessToken(St),this.log.debug("setting accessToken",St,this.decodedAccessToken),this.layoutApi.setAccessToken(St),this.liveApi.setAccessToken(St),this.eventApi.setAccessToken(St)}getAccessToken(){return this.decodedAccessToken}getGuestProject(){return this.decodedAccessToken.guestControl}async load(St){if(St==null&&typeof window!="undefined"){let Ct=this.parseQuery();Ct.get(At.ACCESS_TOKEN_QUERY_PARAM)!=null&&(St=Ct.get(At.ACCESS_TOKEN_QUERY_PARAM))}return St!=null&&(this.setAccessToken(St),this.decodedAccessToken.guestControl!=null)?(this.log.info("loading guest token and exchanging"),await this.LiveApi().authentication.refreshAccessToken({}),this.log.info("auto-loading project = "+JSON.stringify(this.decodedAccessToken.guestControl)),this.decodedAccessToken.guestControl):null}getLiveKitServer(St=!1){return St?Ot[this.env]:Nt[this.env]}parseQuery(){let St=window.location.search,Ct=new Map,$t=(St[0]==="?"?St.substr(1):St).split("&");for(let gt=0;gt<$t.length;gt++){let It=$t[gt].split("=");It.length==2&&(Ct.set(decodeURIComponent(It[0]),decodeURIComponent(It[1]||"")),this.log.debug(`found query param: ${decodeURIComponent(It[0])}=${decodeURIComponent(It[1]||"")}`))}return Ct}static decodeAccessToken(St){let Ct=(0,_.default)(St,{header:!1}),$t={serviceUserId:Ct.user.serviceUserId,userId:Ct.user.userId,displayName:Ct.user.displayName,trial:Ct.user.trial,demo:Ct.user.demo};return Ct.guestControl!=null&&($t.guestControl={collectionId:Ct.guestControl.collectionId,projectId:Ct.guestControl.projectId,role:dt.roleFromJSON(Ct.guestControl.role)}),$t}}a.ApiStream=At,At.ACCESS_TOKEN_QUERY_PARAM="at"})(lib$2);var dist$1={},logger={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(a,"__esModule",{value:!0}),a.setLogLevel=a.LogLevel=void 0;const d=s(loglevel.exports);var c;(function(b){b.trace="trace",b.debug="debug",b.info="info",b.warn="warn",b.error="error",b.silent="silent"})(c=a.LogLevel||(a.LogLevel={}));const g=d.default.getLogger("livekit");g.setLevel(c.info),a.default=g;function _(b){g.setLevel(b)}a.setLogLevel=_})(logger);var livekit_models$1={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(at){return at&&at.__esModule?at:{default:at}};Object.defineProperty(a,"__esModule",{value:!0}),a.ClientInfo=a.ParticipantTracks=a.UserPacket=a.SpeakerInfo=a.ActiveSpeakerUpdate=a.DataPacket=a.VideoLayer=a.TrackInfo=a.ParticipantInfo=a.Codec=a.Room=a.clientInfo_SDKToJSON=a.clientInfo_SDKFromJSON=a.ClientInfo_SDK=a.dataPacket_KindToJSON=a.dataPacket_KindFromJSON=a.DataPacket_Kind=a.participantInfo_StateToJSON=a.participantInfo_StateFromJSON=a.ParticipantInfo_State=a.connectionQualityToJSON=a.connectionQualityFromJSON=a.ConnectionQuality=a.videoQualityToJSON=a.videoQualityFromJSON=a.VideoQuality=a.trackSourceToJSON=a.trackSourceFromJSON=a.TrackSource=a.trackTypeToJSON=a.trackTypeFromJSON=a.TrackType=a.protobufPackage=void 0;const d=s(umd.exports),c=s(minimal);a.protobufPackage="livekit";var g;(function(at){at[at.AUDIO=0]="AUDIO",at[at.VIDEO=1]="VIDEO",at[at.DATA=2]="DATA",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})(g=a.TrackType||(a.TrackType={}));function _(at){switch(at){case 0:case"AUDIO":return g.AUDIO;case 1:case"VIDEO":return g.VIDEO;case 2:case"DATA":return g.DATA;case-1:case"UNRECOGNIZED":default:return g.UNRECOGNIZED}}a.trackTypeFromJSON=_;function b(at){switch(at){case g.AUDIO:return"AUDIO";case g.VIDEO:return"VIDEO";case g.DATA:return"DATA";default:return"UNKNOWN"}}a.trackTypeToJSON=b;var $;(function(at){at[at.UNKNOWN=0]="UNKNOWN",at[at.CAMERA=1]="CAMERA",at[at.MICROPHONE=2]="MICROPHONE",at[at.SCREEN_SHARE=3]="SCREEN_SHARE",at[at.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})($=a.TrackSource||(a.TrackSource={}));function tt(at){switch(at){case 0:case"UNKNOWN":return $.UNKNOWN;case 1:case"CAMERA":return $.CAMERA;case 2:case"MICROPHONE":return $.MICROPHONE;case 3:case"SCREEN_SHARE":return $.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return $.SCREEN_SHARE_AUDIO;case-1:case"UNRECOGNIZED":default:return $.UNRECOGNIZED}}a.trackSourceFromJSON=tt;function nt(at){switch(at){case $.UNKNOWN:return"UNKNOWN";case $.CAMERA:return"CAMERA";case $.MICROPHONE:return"MICROPHONE";case $.SCREEN_SHARE:return"SCREEN_SHARE";case $.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";default:return"UNKNOWN"}}a.trackSourceToJSON=nt;var ot;(function(at){at[at.LOW=0]="LOW",at[at.MEDIUM=1]="MEDIUM",at[at.HIGH=2]="HIGH",at[at.OFF=3]="OFF",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ot=a.VideoQuality||(a.VideoQuality={}));function dt(at){switch(at){case 0:case"LOW":return ot.LOW;case 1:case"MEDIUM":return ot.MEDIUM;case 2:case"HIGH":return ot.HIGH;case 3:case"OFF":return ot.OFF;case-1:case"UNRECOGNIZED":default:return ot.UNRECOGNIZED}}a.videoQualityFromJSON=dt;function ut(at){switch(at){case ot.LOW:return"LOW";case ot.MEDIUM:return"MEDIUM";case ot.HIGH:return"HIGH";case ot.OFF:return"OFF";default:return"UNKNOWN"}}a.videoQualityToJSON=ut;var lt;(function(at){at[at.POOR=0]="POOR",at[at.GOOD=1]="GOOD",at[at.EXCELLENT=2]="EXCELLENT",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})(lt=a.ConnectionQuality||(a.ConnectionQuality={}));function Tt(at){switch(at){case 0:case"POOR":return lt.POOR;case 1:case"GOOD":return lt.GOOD;case 2:case"EXCELLENT":return lt.EXCELLENT;case-1:case"UNRECOGNIZED":default:return lt.UNRECOGNIZED}}a.connectionQualityFromJSON=Tt;function yt(at){switch(at){case lt.POOR:return"POOR";case lt.GOOD:return"GOOD";case lt.EXCELLENT:return"EXCELLENT";default:return"UNKNOWN"}}a.connectionQualityToJSON=yt;var pt;(function(at){at[at.JOINING=0]="JOINING",at[at.JOINED=1]="JOINED",at[at.ACTIVE=2]="ACTIVE",at[at.DISCONNECTED=3]="DISCONNECTED",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})(pt=a.ParticipantInfo_State||(a.ParticipantInfo_State={}));function vt(at){switch(at){case 0:case"JOINING":return pt.JOINING;case 1:case"JOINED":return pt.JOINED;case 2:case"ACTIVE":return pt.ACTIVE;case 3:case"DISCONNECTED":return pt.DISCONNECTED;case-1:case"UNRECOGNIZED":default:return pt.UNRECOGNIZED}}a.participantInfo_StateFromJSON=vt;function it(at){switch(at){case pt.JOINING:return"JOINING";case pt.JOINED:return"JOINED";case pt.ACTIVE:return"ACTIVE";case pt.DISCONNECTED:return"DISCONNECTED";default:return"UNKNOWN"}}a.participantInfo_StateToJSON=it;var ct;(function(at){at[at.RELIABLE=0]="RELIABLE",at[at.LOSSY=1]="LOSSY",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ct=a.DataPacket_Kind||(a.DataPacket_Kind={}));function mt(at){switch(at){case 0:case"RELIABLE":return ct.RELIABLE;case 1:case"LOSSY":return ct.LOSSY;case-1:case"UNRECOGNIZED":default:return ct.UNRECOGNIZED}}a.dataPacket_KindFromJSON=mt;function Nt(at){switch(at){case ct.RELIABLE:return"RELIABLE";case ct.LOSSY:return"LOSSY";default:return"UNKNOWN"}}a.dataPacket_KindToJSON=Nt;var Ot;(function(at){at[at.UNKNOWN=0]="UNKNOWN",at[at.JS=1]="JS",at[at.SWIFT=2]="SWIFT",at[at.ANDROID=3]="ANDROID",at[at.FLUTTER=4]="FLUTTER",at[at.GO=5]="GO",at[at.UNITY=6]="UNITY",at[at.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Ot=a.ClientInfo_SDK||(a.ClientInfo_SDK={}));function At(at){switch(at){case 0:case"UNKNOWN":return Ot.UNKNOWN;case 1:case"JS":return Ot.JS;case 2:case"SWIFT":return Ot.SWIFT;case 3:case"ANDROID":return Ot.ANDROID;case 4:case"FLUTTER":return Ot.FLUTTER;case 5:case"GO":return Ot.GO;case 6:case"UNITY":return Ot.UNITY;case-1:case"UNRECOGNIZED":default:return Ot.UNRECOGNIZED}}a.clientInfo_SDKFromJSON=At;function Pt(at){switch(at){case Ot.UNKNOWN:return"UNKNOWN";case Ot.JS:return"JS";case Ot.SWIFT:return"SWIFT";case Ot.ANDROID:return"ANDROID";case Ot.FLUTTER:return"FLUTTER";case Ot.GO:return"GO";case Ot.UNITY:return"UNITY";default:return"UNKNOWN"}}a.clientInfo_SDKToJSON=Pt;const St={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",metadata:"",numParticipants:0,activeRecording:!1};a.Room={encode(at,_t=c.default.Writer.create()){at.sid!==""&&_t.uint32(10).string(at.sid),at.name!==""&&_t.uint32(18).string(at.name),at.emptyTimeout!==0&&_t.uint32(24).uint32(at.emptyTimeout),at.maxParticipants!==0&&_t.uint32(32).uint32(at.maxParticipants),at.creationTime!==0&&_t.uint32(40).int64(at.creationTime),at.turnPassword!==""&&_t.uint32(50).string(at.turnPassword);for(const Lt of at.enabledCodecs)a.Codec.encode(Lt,_t.uint32(58).fork()).ldelim();return at.metadata!==""&&_t.uint32(66).string(at.metadata),at.numParticipants!==0&&_t.uint32(72).uint32(at.numParticipants),at.activeRecording===!0&&_t.uint32(80).bool(at.activeRecording),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},St);for(Ft.enabledCodecs=[];Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.sid=Lt.string();break;case 2:Ft.name=Lt.string();break;case 3:Ft.emptyTimeout=Lt.uint32();break;case 4:Ft.maxParticipants=Lt.uint32();break;case 5:Ft.creationTime=Vt(Lt.int64());break;case 6:Ft.turnPassword=Lt.string();break;case 7:Ft.enabledCodecs.push(a.Codec.decode(Lt,Lt.uint32()));break;case 8:Ft.metadata=Lt.string();break;case 9:Ft.numParticipants=Lt.uint32();break;case 10:Ft.activeRecording=Lt.bool();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},St);if(_t.enabledCodecs=[],at.sid!==void 0&&at.sid!==null?_t.sid=String(at.sid):_t.sid="",at.name!==void 0&&at.name!==null?_t.name=String(at.name):_t.name="",at.emptyTimeout!==void 0&&at.emptyTimeout!==null?_t.emptyTimeout=Number(at.emptyTimeout):_t.emptyTimeout=0,at.maxParticipants!==void 0&&at.maxParticipants!==null?_t.maxParticipants=Number(at.maxParticipants):_t.maxParticipants=0,at.creationTime!==void 0&&at.creationTime!==null?_t.creationTime=Number(at.creationTime):_t.creationTime=0,at.turnPassword!==void 0&&at.turnPassword!==null?_t.turnPassword=String(at.turnPassword):_t.turnPassword="",at.enabledCodecs!==void 0&&at.enabledCodecs!==null)for(const Lt of at.enabledCodecs)_t.enabledCodecs.push(a.Codec.fromJSON(Lt));return at.metadata!==void 0&&at.metadata!==null?_t.metadata=String(at.metadata):_t.metadata="",at.numParticipants!==void 0&&at.numParticipants!==null?_t.numParticipants=Number(at.numParticipants):_t.numParticipants=0,at.activeRecording!==void 0&&at.activeRecording!==null?_t.activeRecording=Boolean(at.activeRecording):_t.activeRecording=!1,_t},toJSON(at){const _t={};return at.sid!==void 0&&(_t.sid=at.sid),at.name!==void 0&&(_t.name=at.name),at.emptyTimeout!==void 0&&(_t.emptyTimeout=at.emptyTimeout),at.maxParticipants!==void 0&&(_t.maxParticipants=at.maxParticipants),at.creationTime!==void 0&&(_t.creationTime=at.creationTime),at.turnPassword!==void 0&&(_t.turnPassword=at.turnPassword),at.enabledCodecs?_t.enabledCodecs=at.enabledCodecs.map(Lt=>Lt?a.Codec.toJSON(Lt):void 0):_t.enabledCodecs=[],at.metadata!==void 0&&(_t.metadata=at.metadata),at.numParticipants!==void 0&&(_t.numParticipants=at.numParticipants),at.activeRecording!==void 0&&(_t.activeRecording=at.activeRecording),_t},fromPartial(at){var _t,Lt,Wt,Ft,jt,tn,ln,rn,en;const fn=Object.assign({},St);if(fn.sid=(_t=at.sid)!==null&&_t!==void 0?_t:"",fn.name=(Lt=at.name)!==null&&Lt!==void 0?Lt:"",fn.emptyTimeout=(Wt=at.emptyTimeout)!==null&&Wt!==void 0?Wt:0,fn.maxParticipants=(Ft=at.maxParticipants)!==null&&Ft!==void 0?Ft:0,fn.creationTime=(jt=at.creationTime)!==null&&jt!==void 0?jt:0,fn.turnPassword=(tn=at.turnPassword)!==null&&tn!==void 0?tn:"",fn.enabledCodecs=[],at.enabledCodecs!==void 0&&at.enabledCodecs!==null)for(const On of at.enabledCodecs)fn.enabledCodecs.push(a.Codec.fromPartial(On));return fn.metadata=(ln=at.metadata)!==null&&ln!==void 0?ln:"",fn.numParticipants=(rn=at.numParticipants)!==null&&rn!==void 0?rn:0,fn.activeRecording=(en=at.activeRecording)!==null&&en!==void 0?en:!1,fn}};const Ct={mime:"",fmtpLine:""};a.Codec={encode(at,_t=c.default.Writer.create()){return at.mime!==""&&_t.uint32(10).string(at.mime),at.fmtpLine!==""&&_t.uint32(18).string(at.fmtpLine),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},Ct);for(;Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.mime=Lt.string();break;case 2:Ft.fmtpLine=Lt.string();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},Ct);return at.mime!==void 0&&at.mime!==null?_t.mime=String(at.mime):_t.mime="",at.fmtpLine!==void 0&&at.fmtpLine!==null?_t.fmtpLine=String(at.fmtpLine):_t.fmtpLine="",_t},toJSON(at){const _t={};return at.mime!==void 0&&(_t.mime=at.mime),at.fmtpLine!==void 0&&(_t.fmtpLine=at.fmtpLine),_t},fromPartial(at){var _t,Lt;const Wt=Object.assign({},Ct);return Wt.mime=(_t=at.mime)!==null&&_t!==void 0?_t:"",Wt.fmtpLine=(Lt=at.fmtpLine)!==null&&Lt!==void 0?Lt:"",Wt}};const $t={sid:"",identity:"",state:0,metadata:"",joinedAt:0,hidden:!1,recorder:!1,name:""};a.ParticipantInfo={encode(at,_t=c.default.Writer.create()){at.sid!==""&&_t.uint32(10).string(at.sid),at.identity!==""&&_t.uint32(18).string(at.identity),at.state!==0&&_t.uint32(24).int32(at.state);for(const Lt of at.tracks)a.TrackInfo.encode(Lt,_t.uint32(34).fork()).ldelim();return at.metadata!==""&&_t.uint32(42).string(at.metadata),at.joinedAt!==0&&_t.uint32(48).int64(at.joinedAt),at.hidden===!0&&_t.uint32(56).bool(at.hidden),at.recorder===!0&&_t.uint32(64).bool(at.recorder),at.name!==""&&_t.uint32(74).string(at.name),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},$t);for(Ft.tracks=[];Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.sid=Lt.string();break;case 2:Ft.identity=Lt.string();break;case 3:Ft.state=Lt.int32();break;case 4:Ft.tracks.push(a.TrackInfo.decode(Lt,Lt.uint32()));break;case 5:Ft.metadata=Lt.string();break;case 6:Ft.joinedAt=Vt(Lt.int64());break;case 7:Ft.hidden=Lt.bool();break;case 8:Ft.recorder=Lt.bool();break;case 9:Ft.name=Lt.string();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},$t);if(_t.tracks=[],at.sid!==void 0&&at.sid!==null?_t.sid=String(at.sid):_t.sid="",at.identity!==void 0&&at.identity!==null?_t.identity=String(at.identity):_t.identity="",at.state!==void 0&&at.state!==null?_t.state=vt(at.state):_t.state=0,at.tracks!==void 0&&at.tracks!==null)for(const Lt of at.tracks)_t.tracks.push(a.TrackInfo.fromJSON(Lt));return at.metadata!==void 0&&at.metadata!==null?_t.metadata=String(at.metadata):_t.metadata="",at.joinedAt!==void 0&&at.joinedAt!==null?_t.joinedAt=Number(at.joinedAt):_t.joinedAt=0,at.hidden!==void 0&&at.hidden!==null?_t.hidden=Boolean(at.hidden):_t.hidden=!1,at.recorder!==void 0&&at.recorder!==null?_t.recorder=Boolean(at.recorder):_t.recorder=!1,at.name!==void 0&&at.name!==null?_t.name=String(at.name):_t.name="",_t},toJSON(at){const _t={};return at.sid!==void 0&&(_t.sid=at.sid),at.identity!==void 0&&(_t.identity=at.identity),at.state!==void 0&&(_t.state=it(at.state)),at.tracks?_t.tracks=at.tracks.map(Lt=>Lt?a.TrackInfo.toJSON(Lt):void 0):_t.tracks=[],at.metadata!==void 0&&(_t.metadata=at.metadata),at.joinedAt!==void 0&&(_t.joinedAt=at.joinedAt),at.hidden!==void 0&&(_t.hidden=at.hidden),at.recorder!==void 0&&(_t.recorder=at.recorder),at.name!==void 0&&(_t.name=at.name),_t},fromPartial(at){var _t,Lt,Wt,Ft,jt,tn,ln,rn;const en=Object.assign({},$t);if(en.sid=(_t=at.sid)!==null&&_t!==void 0?_t:"",en.identity=(Lt=at.identity)!==null&&Lt!==void 0?Lt:"",en.state=(Wt=at.state)!==null&&Wt!==void 0?Wt:0,en.tracks=[],at.tracks!==void 0&&at.tracks!==null)for(const fn of at.tracks)en.tracks.push(a.TrackInfo.fromPartial(fn));return en.metadata=(Ft=at.metadata)!==null&&Ft!==void 0?Ft:"",en.joinedAt=(jt=at.joinedAt)!==null&&jt!==void 0?jt:0,en.hidden=(tn=at.hidden)!==null&&tn!==void 0?tn:!1,en.recorder=(ln=at.recorder)!==null&&ln!==void 0?ln:!1,en.name=(rn=at.name)!==null&&rn!==void 0?rn:"",en}};const gt={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,mimeType:"",mid:""};a.TrackInfo={encode(at,_t=c.default.Writer.create()){at.sid!==""&&_t.uint32(10).string(at.sid),at.type!==0&&_t.uint32(16).int32(at.type),at.name!==""&&_t.uint32(26).string(at.name),at.muted===!0&&_t.uint32(32).bool(at.muted),at.width!==0&&_t.uint32(40).uint32(at.width),at.height!==0&&_t.uint32(48).uint32(at.height),at.simulcast===!0&&_t.uint32(56).bool(at.simulcast),at.disableDtx===!0&&_t.uint32(64).bool(at.disableDtx),at.source!==0&&_t.uint32(72).int32(at.source);for(const Lt of at.layers)a.VideoLayer.encode(Lt,_t.uint32(82).fork()).ldelim();return at.mimeType!==""&&_t.uint32(90).string(at.mimeType),at.mid!==""&&_t.uint32(98).string(at.mid),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},gt);for(Ft.layers=[];Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.sid=Lt.string();break;case 2:Ft.type=Lt.int32();break;case 3:Ft.name=Lt.string();break;case 4:Ft.muted=Lt.bool();break;case 5:Ft.width=Lt.uint32();break;case 6:Ft.height=Lt.uint32();break;case 7:Ft.simulcast=Lt.bool();break;case 8:Ft.disableDtx=Lt.bool();break;case 9:Ft.source=Lt.int32();break;case 10:Ft.layers.push(a.VideoLayer.decode(Lt,Lt.uint32()));break;case 11:Ft.mimeType=Lt.string();break;case 12:Ft.mid=Lt.string();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},gt);if(_t.layers=[],at.sid!==void 0&&at.sid!==null?_t.sid=String(at.sid):_t.sid="",at.type!==void 0&&at.type!==null?_t.type=_(at.type):_t.type=0,at.name!==void 0&&at.name!==null?_t.name=String(at.name):_t.name="",at.muted!==void 0&&at.muted!==null?_t.muted=Boolean(at.muted):_t.muted=!1,at.width!==void 0&&at.width!==null?_t.width=Number(at.width):_t.width=0,at.height!==void 0&&at.height!==null?_t.height=Number(at.height):_t.height=0,at.simulcast!==void 0&&at.simulcast!==null?_t.simulcast=Boolean(at.simulcast):_t.simulcast=!1,at.disableDtx!==void 0&&at.disableDtx!==null?_t.disableDtx=Boolean(at.disableDtx):_t.disableDtx=!1,at.source!==void 0&&at.source!==null?_t.source=tt(at.source):_t.source=0,at.layers!==void 0&&at.layers!==null)for(const Lt of at.layers)_t.layers.push(a.VideoLayer.fromJSON(Lt));return at.mimeType!==void 0&&at.mimeType!==null?_t.mimeType=String(at.mimeType):_t.mimeType="",at.mid!==void 0&&at.mid!==null?_t.mid=String(at.mid):_t.mid="",_t},toJSON(at){const _t={};return at.sid!==void 0&&(_t.sid=at.sid),at.type!==void 0&&(_t.type=b(at.type)),at.name!==void 0&&(_t.name=at.name),at.muted!==void 0&&(_t.muted=at.muted),at.width!==void 0&&(_t.width=at.width),at.height!==void 0&&(_t.height=at.height),at.simulcast!==void 0&&(_t.simulcast=at.simulcast),at.disableDtx!==void 0&&(_t.disableDtx=at.disableDtx),at.source!==void 0&&(_t.source=nt(at.source)),at.layers?_t.layers=at.layers.map(Lt=>Lt?a.VideoLayer.toJSON(Lt):void 0):_t.layers=[],at.mimeType!==void 0&&(_t.mimeType=at.mimeType),at.mid!==void 0&&(_t.mid=at.mid),_t},fromPartial(at){var _t,Lt,Wt,Ft,jt,tn,ln,rn,en,fn,On;const Xt=Object.assign({},gt);if(Xt.sid=(_t=at.sid)!==null&&_t!==void 0?_t:"",Xt.type=(Lt=at.type)!==null&&Lt!==void 0?Lt:0,Xt.name=(Wt=at.name)!==null&&Wt!==void 0?Wt:"",Xt.muted=(Ft=at.muted)!==null&&Ft!==void 0?Ft:!1,Xt.width=(jt=at.width)!==null&&jt!==void 0?jt:0,Xt.height=(tn=at.height)!==null&&tn!==void 0?tn:0,Xt.simulcast=(ln=at.simulcast)!==null&&ln!==void 0?ln:!1,Xt.disableDtx=(rn=at.disableDtx)!==null&&rn!==void 0?rn:!1,Xt.source=(en=at.source)!==null&&en!==void 0?en:0,Xt.layers=[],at.layers!==void 0&&at.layers!==null)for(const kn of at.layers)Xt.layers.push(a.VideoLayer.fromPartial(kn));return Xt.mimeType=(fn=at.mimeType)!==null&&fn!==void 0?fn:"",Xt.mid=(On=at.mid)!==null&&On!==void 0?On:"",Xt}};const It={quality:0,width:0,height:0,bitrate:0,ssrc:0};a.VideoLayer={encode(at,_t=c.default.Writer.create()){return at.quality!==0&&_t.uint32(8).int32(at.quality),at.width!==0&&_t.uint32(16).uint32(at.width),at.height!==0&&_t.uint32(24).uint32(at.height),at.bitrate!==0&&_t.uint32(32).uint32(at.bitrate),at.ssrc!==0&&_t.uint32(40).uint32(at.ssrc),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},It);for(;Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.quality=Lt.int32();break;case 2:Ft.width=Lt.uint32();break;case 3:Ft.height=Lt.uint32();break;case 4:Ft.bitrate=Lt.uint32();break;case 5:Ft.ssrc=Lt.uint32();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},It);return at.quality!==void 0&&at.quality!==null?_t.quality=dt(at.quality):_t.quality=0,at.width!==void 0&&at.width!==null?_t.width=Number(at.width):_t.width=0,at.height!==void 0&&at.height!==null?_t.height=Number(at.height):_t.height=0,at.bitrate!==void 0&&at.bitrate!==null?_t.bitrate=Number(at.bitrate):_t.bitrate=0,at.ssrc!==void 0&&at.ssrc!==null?_t.ssrc=Number(at.ssrc):_t.ssrc=0,_t},toJSON(at){const _t={};return at.quality!==void 0&&(_t.quality=ut(at.quality)),at.width!==void 0&&(_t.width=at.width),at.height!==void 0&&(_t.height=at.height),at.bitrate!==void 0&&(_t.bitrate=at.bitrate),at.ssrc!==void 0&&(_t.ssrc=at.ssrc),_t},fromPartial(at){var _t,Lt,Wt,Ft,jt;const tn=Object.assign({},It);return tn.quality=(_t=at.quality)!==null&&_t!==void 0?_t:0,tn.width=(Lt=at.width)!==null&&Lt!==void 0?Lt:0,tn.height=(Wt=at.height)!==null&&Wt!==void 0?Wt:0,tn.bitrate=(Ft=at.bitrate)!==null&&Ft!==void 0?Ft:0,tn.ssrc=(jt=at.ssrc)!==null&&jt!==void 0?jt:0,tn}};const Rt={kind:0};a.DataPacket={encode(at,_t=c.default.Writer.create()){return at.kind!==0&&_t.uint32(8).int32(at.kind),at.user!==void 0&&a.UserPacket.encode(at.user,_t.uint32(18).fork()).ldelim(),at.speaker!==void 0&&a.ActiveSpeakerUpdate.encode(at.speaker,_t.uint32(26).fork()).ldelim(),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},Rt);for(;Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.kind=Lt.int32();break;case 2:Ft.user=a.UserPacket.decode(Lt,Lt.uint32());break;case 3:Ft.speaker=a.ActiveSpeakerUpdate.decode(Lt,Lt.uint32());break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},Rt);return at.kind!==void 0&&at.kind!==null?_t.kind=mt(at.kind):_t.kind=0,at.user!==void 0&&at.user!==null?_t.user=a.UserPacket.fromJSON(at.user):_t.user=void 0,at.speaker!==void 0&&at.speaker!==null?_t.speaker=a.ActiveSpeakerUpdate.fromJSON(at.speaker):_t.speaker=void 0,_t},toJSON(at){const _t={};return at.kind!==void 0&&(_t.kind=Nt(at.kind)),at.user!==void 0&&(_t.user=at.user?a.UserPacket.toJSON(at.user):void 0),at.speaker!==void 0&&(_t.speaker=at.speaker?a.ActiveSpeakerUpdate.toJSON(at.speaker):void 0),_t},fromPartial(at){var _t;const Lt=Object.assign({},Rt);return Lt.kind=(_t=at.kind)!==null&&_t!==void 0?_t:0,at.user!==void 0&&at.user!==null?Lt.user=a.UserPacket.fromPartial(at.user):Lt.user=void 0,at.speaker!==void 0&&at.speaker!==null?Lt.speaker=a.ActiveSpeakerUpdate.fromPartial(at.speaker):Lt.speaker=void 0,Lt}};const zt={};a.ActiveSpeakerUpdate={encode(at,_t=c.default.Writer.create()){for(const Lt of at.speakers)a.SpeakerInfo.encode(Lt,_t.uint32(10).fork()).ldelim();return _t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},zt);for(Ft.speakers=[];Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.speakers.push(a.SpeakerInfo.decode(Lt,Lt.uint32()));break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},zt);if(_t.speakers=[],at.speakers!==void 0&&at.speakers!==null)for(const Lt of at.speakers)_t.speakers.push(a.SpeakerInfo.fromJSON(Lt));return _t},toJSON(at){const _t={};return at.speakers?_t.speakers=at.speakers.map(Lt=>Lt?a.SpeakerInfo.toJSON(Lt):void 0):_t.speakers=[],_t},fromPartial(at){const _t=Object.assign({},zt);if(_t.speakers=[],at.speakers!==void 0&&at.speakers!==null)for(const Lt of at.speakers)_t.speakers.push(a.SpeakerInfo.fromPartial(Lt));return _t}};const Ut={sid:"",level:0,active:!1};a.SpeakerInfo={encode(at,_t=c.default.Writer.create()){return at.sid!==""&&_t.uint32(10).string(at.sid),at.level!==0&&_t.uint32(21).float(at.level),at.active===!0&&_t.uint32(24).bool(at.active),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},Ut);for(;Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.sid=Lt.string();break;case 2:Ft.level=Lt.float();break;case 3:Ft.active=Lt.bool();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},Ut);return at.sid!==void 0&&at.sid!==null?_t.sid=String(at.sid):_t.sid="",at.level!==void 0&&at.level!==null?_t.level=Number(at.level):_t.level=0,at.active!==void 0&&at.active!==null?_t.active=Boolean(at.active):_t.active=!1,_t},toJSON(at){const _t={};return at.sid!==void 0&&(_t.sid=at.sid),at.level!==void 0&&(_t.level=at.level),at.active!==void 0&&(_t.active=at.active),_t},fromPartial(at){var _t,Lt,Wt;const Ft=Object.assign({},Ut);return Ft.sid=(_t=at.sid)!==null&&_t!==void 0?_t:"",Ft.level=(Lt=at.level)!==null&&Lt!==void 0?Lt:0,Ft.active=(Wt=at.active)!==null&&Wt!==void 0?Wt:!1,Ft}};const Dt={participantSid:"",destinationSids:""};a.UserPacket={encode(at,_t=c.default.Writer.create()){at.participantSid!==""&&_t.uint32(10).string(at.participantSid),at.payload.length!==0&&_t.uint32(18).bytes(at.payload);for(const Lt of at.destinationSids)_t.uint32(26).string(Lt);return _t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},Dt);for(Ft.destinationSids=[],Ft.payload=new Uint8Array;Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.participantSid=Lt.string();break;case 2:Ft.payload=Lt.bytes();break;case 3:Ft.destinationSids.push(Lt.string());break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},Dt);if(_t.destinationSids=[],_t.payload=new Uint8Array,at.participantSid!==void 0&&at.participantSid!==null?_t.participantSid=String(at.participantSid):_t.participantSid="",at.payload!==void 0&&at.payload!==null&&(_t.payload=j(at.payload)),at.destinationSids!==void 0&&at.destinationSids!==null)for(const Lt of at.destinationSids)_t.destinationSids.push(String(Lt));return _t},toJSON(at){const _t={};return at.participantSid!==void 0&&(_t.participantSid=at.participantSid),at.payload!==void 0&&(_t.payload=ht(at.payload!==void 0?at.payload:new Uint8Array)),at.destinationSids?_t.destinationSids=at.destinationSids.map(Lt=>Lt):_t.destinationSids=[],_t},fromPartial(at){var _t,Lt;const Wt=Object.assign({},Dt);if(Wt.participantSid=(_t=at.participantSid)!==null&&_t!==void 0?_t:"",Wt.payload=(Lt=at.payload)!==null&&Lt!==void 0?Lt:new Uint8Array,Wt.destinationSids=[],at.destinationSids!==void 0&&at.destinationSids!==null)for(const Ft of at.destinationSids)Wt.destinationSids.push(Ft);return Wt}};const qt={participantSid:"",trackSids:""};a.ParticipantTracks={encode(at,_t=c.default.Writer.create()){at.participantSid!==""&&_t.uint32(10).string(at.participantSid);for(const Lt of at.trackSids)_t.uint32(18).string(Lt);return _t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},qt);for(Ft.trackSids=[];Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.participantSid=Lt.string();break;case 2:Ft.trackSids.push(Lt.string());break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},qt);if(_t.trackSids=[],at.participantSid!==void 0&&at.participantSid!==null?_t.participantSid=String(at.participantSid):_t.participantSid="",at.trackSids!==void 0&&at.trackSids!==null)for(const Lt of at.trackSids)_t.trackSids.push(String(Lt));return _t},toJSON(at){const _t={};return at.participantSid!==void 0&&(_t.participantSid=at.participantSid),at.trackSids?_t.trackSids=at.trackSids.map(Lt=>Lt):_t.trackSids=[],_t},fromPartial(at){var _t;const Lt=Object.assign({},qt);if(Lt.participantSid=(_t=at.participantSid)!==null&&_t!==void 0?_t:"",Lt.trackSids=[],at.trackSids!==void 0&&at.trackSids!==null)for(const Wt of at.trackSids)Lt.trackSids.push(Wt);return Lt}};const Kt={sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:""};a.ClientInfo={encode(at,_t=c.default.Writer.create()){return at.sdk!==0&&_t.uint32(8).int32(at.sdk),at.version!==""&&_t.uint32(18).string(at.version),at.protocol!==0&&_t.uint32(24).int32(at.protocol),at.os!==""&&_t.uint32(34).string(at.os),at.osVersion!==""&&_t.uint32(42).string(at.osVersion),at.deviceModel!==""&&_t.uint32(50).string(at.deviceModel),at.browser!==""&&_t.uint32(58).string(at.browser),at.browserVersion!==""&&_t.uint32(66).string(at.browserVersion),_t},decode(at,_t){const Lt=at instanceof c.default.Reader?at:new c.default.Reader(at);let Wt=_t===void 0?Lt.len:Lt.pos+_t;const Ft=Object.assign({},Kt);for(;Lt.pos<Wt;){const jt=Lt.uint32();switch(jt>>>3){case 1:Ft.sdk=Lt.int32();break;case 2:Ft.version=Lt.string();break;case 3:Ft.protocol=Lt.int32();break;case 4:Ft.os=Lt.string();break;case 5:Ft.osVersion=Lt.string();break;case 6:Ft.deviceModel=Lt.string();break;case 7:Ft.browser=Lt.string();break;case 8:Ft.browserVersion=Lt.string();break;default:Lt.skipType(jt&7);break}}return Ft},fromJSON(at){const _t=Object.assign({},Kt);return at.sdk!==void 0&&at.sdk!==null?_t.sdk=At(at.sdk):_t.sdk=0,at.version!==void 0&&at.version!==null?_t.version=String(at.version):_t.version="",at.protocol!==void 0&&at.protocol!==null?_t.protocol=Number(at.protocol):_t.protocol=0,at.os!==void 0&&at.os!==null?_t.os=String(at.os):_t.os="",at.osVersion!==void 0&&at.osVersion!==null?_t.osVersion=String(at.osVersion):_t.osVersion="",at.deviceModel!==void 0&&at.deviceModel!==null?_t.deviceModel=String(at.deviceModel):_t.deviceModel="",at.browser!==void 0&&at.browser!==null?_t.browser=String(at.browser):_t.browser="",at.browserVersion!==void 0&&at.browserVersion!==null?_t.browserVersion=String(at.browserVersion):_t.browserVersion="",_t},toJSON(at){const _t={};return at.sdk!==void 0&&(_t.sdk=Pt(at.sdk)),at.version!==void 0&&(_t.version=at.version),at.protocol!==void 0&&(_t.protocol=at.protocol),at.os!==void 0&&(_t.os=at.os),at.osVersion!==void 0&&(_t.osVersion=at.osVersion),at.deviceModel!==void 0&&(_t.deviceModel=at.deviceModel),at.browser!==void 0&&(_t.browser=at.browser),at.browserVersion!==void 0&&(_t.browserVersion=at.browserVersion),_t},fromPartial(at){var _t,Lt,Wt,Ft,jt,tn,ln,rn;const en=Object.assign({},Kt);return en.sdk=(_t=at.sdk)!==null&&_t!==void 0?_t:0,en.version=(Lt=at.version)!==null&&Lt!==void 0?Lt:"",en.protocol=(Wt=at.protocol)!==null&&Wt!==void 0?Wt:0,en.os=(Ft=at.os)!==null&&Ft!==void 0?Ft:"",en.osVersion=(jt=at.osVersion)!==null&&jt!==void 0?jt:"",en.deviceModel=(tn=at.deviceModel)!==null&&tn!==void 0?tn:"",en.browser=(ln=at.browser)!==null&&ln!==void 0?ln:"",en.browserVersion=(rn=at.browserVersion)!==null&&rn!==void 0?rn:"",en}};var Qt=(()=>{if(typeof Qt!="undefined")return Qt;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();const Ht=Qt.atob||(at=>Qt.Buffer.from(at,"base64").toString("binary"));function j(at){const _t=Ht(at),Lt=new Uint8Array(_t.length);for(let Wt=0;Wt<_t.length;++Wt)Lt[Wt]=_t.charCodeAt(Wt);return Lt}const rt=Qt.btoa||(at=>Qt.Buffer.from(at,"binary").toString("base64"));function ht(at){const _t=[];for(const Lt of at)_t.push(String.fromCharCode(Lt));return rt(_t.join(""))}function Vt(at){if(at.gt(Number.MAX_SAFE_INTEGER))throw new Qt.Error("Value is larger than Number.MAX_SAFE_INTEGER");return at.toNumber()}c.default.util.Long!==d.default&&(c.default.util.Long=d.default,c.default.configure())})(livekit_models$1);var LocalParticipant$1={},livekit_rtc={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(a,"__esModule",{value:!0}),a.SimulateScenario=a.SyncState=a.SubscriptionPermissionUpdate=a.UpdateSubscriptionPermissions=a.TrackPermission=a.SubscribedQualityUpdate=a.SubscribedQuality=a.StreamStateUpdate=a.StreamStateInfo=a.ConnectionQualityUpdate=a.ConnectionQualityInfo=a.RoomUpdate=a.SpeakersChanged=a.ICEServer=a.UpdateVideoLayers=a.LeaveRequest=a.UpdateTrackSettings=a.UpdateSubscription=a.ParticipantUpdate=a.SessionDescription=a.TrackPublishedResponse=a.JoinResponse=a.MuteTrackRequest=a.TrickleRequest=a.AddTrackRequest=a.SignalResponse=a.SignalRequest=a.streamStateToJSON=a.streamStateFromJSON=a.StreamState=a.signalTargetToJSON=a.signalTargetFromJSON=a.SignalTarget=a.protobufPackage=void 0;const d=s(umd.exports),c=s(minimal),g=livekit_models$1;a.protobufPackage="livekit";var _;(function(j){j[j.PUBLISHER=0]="PUBLISHER",j[j.SUBSCRIBER=1]="SUBSCRIBER",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(_=a.SignalTarget||(a.SignalTarget={}));function b(j){switch(j){case 0:case"PUBLISHER":return _.PUBLISHER;case 1:case"SUBSCRIBER":return _.SUBSCRIBER;case-1:case"UNRECOGNIZED":default:return _.UNRECOGNIZED}}a.signalTargetFromJSON=b;function $(j){switch(j){case _.PUBLISHER:return"PUBLISHER";case _.SUBSCRIBER:return"SUBSCRIBER";default:return"UNKNOWN"}}a.signalTargetToJSON=$;var tt;(function(j){j[j.ACTIVE=0]="ACTIVE",j[j.PAUSED=1]="PAUSED",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(tt=a.StreamState||(a.StreamState={}));function nt(j){switch(j){case 0:case"ACTIVE":return tt.ACTIVE;case 1:case"PAUSED":return tt.PAUSED;case-1:case"UNRECOGNIZED":default:return tt.UNRECOGNIZED}}a.streamStateFromJSON=nt;function ot(j){switch(j){case tt.ACTIVE:return"ACTIVE";case tt.PAUSED:return"PAUSED";default:return"UNKNOWN"}}a.streamStateToJSON=ot;const dt={};a.SignalRequest={encode(j,rt=c.default.Writer.create()){return j.offer!==void 0&&a.SessionDescription.encode(j.offer,rt.uint32(10).fork()).ldelim(),j.answer!==void 0&&a.SessionDescription.encode(j.answer,rt.uint32(18).fork()).ldelim(),j.trickle!==void 0&&a.TrickleRequest.encode(j.trickle,rt.uint32(26).fork()).ldelim(),j.addTrack!==void 0&&a.AddTrackRequest.encode(j.addTrack,rt.uint32(34).fork()).ldelim(),j.mute!==void 0&&a.MuteTrackRequest.encode(j.mute,rt.uint32(42).fork()).ldelim(),j.subscription!==void 0&&a.UpdateSubscription.encode(j.subscription,rt.uint32(50).fork()).ldelim(),j.trackSetting!==void 0&&a.UpdateTrackSettings.encode(j.trackSetting,rt.uint32(58).fork()).ldelim(),j.leave!==void 0&&a.LeaveRequest.encode(j.leave,rt.uint32(66).fork()).ldelim(),j.updateLayers!==void 0&&a.UpdateVideoLayers.encode(j.updateLayers,rt.uint32(82).fork()).ldelim(),j.subscriptionPermissions!==void 0&&a.UpdateSubscriptionPermissions.encode(j.subscriptionPermissions,rt.uint32(90).fork()).ldelim(),j.syncState!==void 0&&a.SyncState.encode(j.syncState,rt.uint32(98).fork()).ldelim(),j.simulate!==void 0&&a.SimulateScenario.encode(j.simulate,rt.uint32(106).fork()).ldelim(),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},dt);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.offer=a.SessionDescription.decode(ht,ht.uint32());break;case 2:at.answer=a.SessionDescription.decode(ht,ht.uint32());break;case 3:at.trickle=a.TrickleRequest.decode(ht,ht.uint32());break;case 4:at.addTrack=a.AddTrackRequest.decode(ht,ht.uint32());break;case 5:at.mute=a.MuteTrackRequest.decode(ht,ht.uint32());break;case 6:at.subscription=a.UpdateSubscription.decode(ht,ht.uint32());break;case 7:at.trackSetting=a.UpdateTrackSettings.decode(ht,ht.uint32());break;case 8:at.leave=a.LeaveRequest.decode(ht,ht.uint32());break;case 10:at.updateLayers=a.UpdateVideoLayers.decode(ht,ht.uint32());break;case 11:at.subscriptionPermissions=a.UpdateSubscriptionPermissions.decode(ht,ht.uint32());break;case 12:at.syncState=a.SyncState.decode(ht,ht.uint32());break;case 13:at.simulate=a.SimulateScenario.decode(ht,ht.uint32());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},dt);return j.offer!==void 0&&j.offer!==null?rt.offer=a.SessionDescription.fromJSON(j.offer):rt.offer=void 0,j.answer!==void 0&&j.answer!==null?rt.answer=a.SessionDescription.fromJSON(j.answer):rt.answer=void 0,j.trickle!==void 0&&j.trickle!==null?rt.trickle=a.TrickleRequest.fromJSON(j.trickle):rt.trickle=void 0,j.addTrack!==void 0&&j.addTrack!==null?rt.addTrack=a.AddTrackRequest.fromJSON(j.addTrack):rt.addTrack=void 0,j.mute!==void 0&&j.mute!==null?rt.mute=a.MuteTrackRequest.fromJSON(j.mute):rt.mute=void 0,j.subscription!==void 0&&j.subscription!==null?rt.subscription=a.UpdateSubscription.fromJSON(j.subscription):rt.subscription=void 0,j.trackSetting!==void 0&&j.trackSetting!==null?rt.trackSetting=a.UpdateTrackSettings.fromJSON(j.trackSetting):rt.trackSetting=void 0,j.leave!==void 0&&j.leave!==null?rt.leave=a.LeaveRequest.fromJSON(j.leave):rt.leave=void 0,j.updateLayers!==void 0&&j.updateLayers!==null?rt.updateLayers=a.UpdateVideoLayers.fromJSON(j.updateLayers):rt.updateLayers=void 0,j.subscriptionPermissions!==void 0&&j.subscriptionPermissions!==null?rt.subscriptionPermissions=a.UpdateSubscriptionPermissions.fromJSON(j.subscriptionPermissions):rt.subscriptionPermissions=void 0,j.syncState!==void 0&&j.syncState!==null?rt.syncState=a.SyncState.fromJSON(j.syncState):rt.syncState=void 0,j.simulate!==void 0&&j.simulate!==null?rt.simulate=a.SimulateScenario.fromJSON(j.simulate):rt.simulate=void 0,rt},toJSON(j){const rt={};return j.offer!==void 0&&(rt.offer=j.offer?a.SessionDescription.toJSON(j.offer):void 0),j.answer!==void 0&&(rt.answer=j.answer?a.SessionDescription.toJSON(j.answer):void 0),j.trickle!==void 0&&(rt.trickle=j.trickle?a.TrickleRequest.toJSON(j.trickle):void 0),j.addTrack!==void 0&&(rt.addTrack=j.addTrack?a.AddTrackRequest.toJSON(j.addTrack):void 0),j.mute!==void 0&&(rt.mute=j.mute?a.MuteTrackRequest.toJSON(j.mute):void 0),j.subscription!==void 0&&(rt.subscription=j.subscription?a.UpdateSubscription.toJSON(j.subscription):void 0),j.trackSetting!==void 0&&(rt.trackSetting=j.trackSetting?a.UpdateTrackSettings.toJSON(j.trackSetting):void 0),j.leave!==void 0&&(rt.leave=j.leave?a.LeaveRequest.toJSON(j.leave):void 0),j.updateLayers!==void 0&&(rt.updateLayers=j.updateLayers?a.UpdateVideoLayers.toJSON(j.updateLayers):void 0),j.subscriptionPermissions!==void 0&&(rt.subscriptionPermissions=j.subscriptionPermissions?a.UpdateSubscriptionPermissions.toJSON(j.subscriptionPermissions):void 0),j.syncState!==void 0&&(rt.syncState=j.syncState?a.SyncState.toJSON(j.syncState):void 0),j.simulate!==void 0&&(rt.simulate=j.simulate?a.SimulateScenario.toJSON(j.simulate):void 0),rt},fromPartial(j){const rt=Object.assign({},dt);return j.offer!==void 0&&j.offer!==null?rt.offer=a.SessionDescription.fromPartial(j.offer):rt.offer=void 0,j.answer!==void 0&&j.answer!==null?rt.answer=a.SessionDescription.fromPartial(j.answer):rt.answer=void 0,j.trickle!==void 0&&j.trickle!==null?rt.trickle=a.TrickleRequest.fromPartial(j.trickle):rt.trickle=void 0,j.addTrack!==void 0&&j.addTrack!==null?rt.addTrack=a.AddTrackRequest.fromPartial(j.addTrack):rt.addTrack=void 0,j.mute!==void 0&&j.mute!==null?rt.mute=a.MuteTrackRequest.fromPartial(j.mute):rt.mute=void 0,j.subscription!==void 0&&j.subscription!==null?rt.subscription=a.UpdateSubscription.fromPartial(j.subscription):rt.subscription=void 0,j.trackSetting!==void 0&&j.trackSetting!==null?rt.trackSetting=a.UpdateTrackSettings.fromPartial(j.trackSetting):rt.trackSetting=void 0,j.leave!==void 0&&j.leave!==null?rt.leave=a.LeaveRequest.fromPartial(j.leave):rt.leave=void 0,j.updateLayers!==void 0&&j.updateLayers!==null?rt.updateLayers=a.UpdateVideoLayers.fromPartial(j.updateLayers):rt.updateLayers=void 0,j.subscriptionPermissions!==void 0&&j.subscriptionPermissions!==null?rt.subscriptionPermissions=a.UpdateSubscriptionPermissions.fromPartial(j.subscriptionPermissions):rt.subscriptionPermissions=void 0,j.syncState!==void 0&&j.syncState!==null?rt.syncState=a.SyncState.fromPartial(j.syncState):rt.syncState=void 0,j.simulate!==void 0&&j.simulate!==null?rt.simulate=a.SimulateScenario.fromPartial(j.simulate):rt.simulate=void 0,rt}};const ut={};a.SignalResponse={encode(j,rt=c.default.Writer.create()){return j.join!==void 0&&a.JoinResponse.encode(j.join,rt.uint32(10).fork()).ldelim(),j.answer!==void 0&&a.SessionDescription.encode(j.answer,rt.uint32(18).fork()).ldelim(),j.offer!==void 0&&a.SessionDescription.encode(j.offer,rt.uint32(26).fork()).ldelim(),j.trickle!==void 0&&a.TrickleRequest.encode(j.trickle,rt.uint32(34).fork()).ldelim(),j.update!==void 0&&a.ParticipantUpdate.encode(j.update,rt.uint32(42).fork()).ldelim(),j.trackPublished!==void 0&&a.TrackPublishedResponse.encode(j.trackPublished,rt.uint32(50).fork()).ldelim(),j.leave!==void 0&&a.LeaveRequest.encode(j.leave,rt.uint32(66).fork()).ldelim(),j.mute!==void 0&&a.MuteTrackRequest.encode(j.mute,rt.uint32(74).fork()).ldelim(),j.speakersChanged!==void 0&&a.SpeakersChanged.encode(j.speakersChanged,rt.uint32(82).fork()).ldelim(),j.roomUpdate!==void 0&&a.RoomUpdate.encode(j.roomUpdate,rt.uint32(90).fork()).ldelim(),j.connectionQuality!==void 0&&a.ConnectionQualityUpdate.encode(j.connectionQuality,rt.uint32(98).fork()).ldelim(),j.streamStateUpdate!==void 0&&a.StreamStateUpdate.encode(j.streamStateUpdate,rt.uint32(106).fork()).ldelim(),j.subscribedQualityUpdate!==void 0&&a.SubscribedQualityUpdate.encode(j.subscribedQualityUpdate,rt.uint32(114).fork()).ldelim(),j.subscriptionPermissionUpdate!==void 0&&a.SubscriptionPermissionUpdate.encode(j.subscriptionPermissionUpdate,rt.uint32(122).fork()).ldelim(),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},ut);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.join=a.JoinResponse.decode(ht,ht.uint32());break;case 2:at.answer=a.SessionDescription.decode(ht,ht.uint32());break;case 3:at.offer=a.SessionDescription.decode(ht,ht.uint32());break;case 4:at.trickle=a.TrickleRequest.decode(ht,ht.uint32());break;case 5:at.update=a.ParticipantUpdate.decode(ht,ht.uint32());break;case 6:at.trackPublished=a.TrackPublishedResponse.decode(ht,ht.uint32());break;case 8:at.leave=a.LeaveRequest.decode(ht,ht.uint32());break;case 9:at.mute=a.MuteTrackRequest.decode(ht,ht.uint32());break;case 10:at.speakersChanged=a.SpeakersChanged.decode(ht,ht.uint32());break;case 11:at.roomUpdate=a.RoomUpdate.decode(ht,ht.uint32());break;case 12:at.connectionQuality=a.ConnectionQualityUpdate.decode(ht,ht.uint32());break;case 13:at.streamStateUpdate=a.StreamStateUpdate.decode(ht,ht.uint32());break;case 14:at.subscribedQualityUpdate=a.SubscribedQualityUpdate.decode(ht,ht.uint32());break;case 15:at.subscriptionPermissionUpdate=a.SubscriptionPermissionUpdate.decode(ht,ht.uint32());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},ut);return j.join!==void 0&&j.join!==null?rt.join=a.JoinResponse.fromJSON(j.join):rt.join=void 0,j.answer!==void 0&&j.answer!==null?rt.answer=a.SessionDescription.fromJSON(j.answer):rt.answer=void 0,j.offer!==void 0&&j.offer!==null?rt.offer=a.SessionDescription.fromJSON(j.offer):rt.offer=void 0,j.trickle!==void 0&&j.trickle!==null?rt.trickle=a.TrickleRequest.fromJSON(j.trickle):rt.trickle=void 0,j.update!==void 0&&j.update!==null?rt.update=a.ParticipantUpdate.fromJSON(j.update):rt.update=void 0,j.trackPublished!==void 0&&j.trackPublished!==null?rt.trackPublished=a.TrackPublishedResponse.fromJSON(j.trackPublished):rt.trackPublished=void 0,j.leave!==void 0&&j.leave!==null?rt.leave=a.LeaveRequest.fromJSON(j.leave):rt.leave=void 0,j.mute!==void 0&&j.mute!==null?rt.mute=a.MuteTrackRequest.fromJSON(j.mute):rt.mute=void 0,j.speakersChanged!==void 0&&j.speakersChanged!==null?rt.speakersChanged=a.SpeakersChanged.fromJSON(j.speakersChanged):rt.speakersChanged=void 0,j.roomUpdate!==void 0&&j.roomUpdate!==null?rt.roomUpdate=a.RoomUpdate.fromJSON(j.roomUpdate):rt.roomUpdate=void 0,j.connectionQuality!==void 0&&j.connectionQuality!==null?rt.connectionQuality=a.ConnectionQualityUpdate.fromJSON(j.connectionQuality):rt.connectionQuality=void 0,j.streamStateUpdate!==void 0&&j.streamStateUpdate!==null?rt.streamStateUpdate=a.StreamStateUpdate.fromJSON(j.streamStateUpdate):rt.streamStateUpdate=void 0,j.subscribedQualityUpdate!==void 0&&j.subscribedQualityUpdate!==null?rt.subscribedQualityUpdate=a.SubscribedQualityUpdate.fromJSON(j.subscribedQualityUpdate):rt.subscribedQualityUpdate=void 0,j.subscriptionPermissionUpdate!==void 0&&j.subscriptionPermissionUpdate!==null?rt.subscriptionPermissionUpdate=a.SubscriptionPermissionUpdate.fromJSON(j.subscriptionPermissionUpdate):rt.subscriptionPermissionUpdate=void 0,rt},toJSON(j){const rt={};return j.join!==void 0&&(rt.join=j.join?a.JoinResponse.toJSON(j.join):void 0),j.answer!==void 0&&(rt.answer=j.answer?a.SessionDescription.toJSON(j.answer):void 0),j.offer!==void 0&&(rt.offer=j.offer?a.SessionDescription.toJSON(j.offer):void 0),j.trickle!==void 0&&(rt.trickle=j.trickle?a.TrickleRequest.toJSON(j.trickle):void 0),j.update!==void 0&&(rt.update=j.update?a.ParticipantUpdate.toJSON(j.update):void 0),j.trackPublished!==void 0&&(rt.trackPublished=j.trackPublished?a.TrackPublishedResponse.toJSON(j.trackPublished):void 0),j.leave!==void 0&&(rt.leave=j.leave?a.LeaveRequest.toJSON(j.leave):void 0),j.mute!==void 0&&(rt.mute=j.mute?a.MuteTrackRequest.toJSON(j.mute):void 0),j.speakersChanged!==void 0&&(rt.speakersChanged=j.speakersChanged?a.SpeakersChanged.toJSON(j.speakersChanged):void 0),j.roomUpdate!==void 0&&(rt.roomUpdate=j.roomUpdate?a.RoomUpdate.toJSON(j.roomUpdate):void 0),j.connectionQuality!==void 0&&(rt.connectionQuality=j.connectionQuality?a.ConnectionQualityUpdate.toJSON(j.connectionQuality):void 0),j.streamStateUpdate!==void 0&&(rt.streamStateUpdate=j.streamStateUpdate?a.StreamStateUpdate.toJSON(j.streamStateUpdate):void 0),j.subscribedQualityUpdate!==void 0&&(rt.subscribedQualityUpdate=j.subscribedQualityUpdate?a.SubscribedQualityUpdate.toJSON(j.subscribedQualityUpdate):void 0),j.subscriptionPermissionUpdate!==void 0&&(rt.subscriptionPermissionUpdate=j.subscriptionPermissionUpdate?a.SubscriptionPermissionUpdate.toJSON(j.subscriptionPermissionUpdate):void 0),rt},fromPartial(j){const rt=Object.assign({},ut);return j.join!==void 0&&j.join!==null?rt.join=a.JoinResponse.fromPartial(j.join):rt.join=void 0,j.answer!==void 0&&j.answer!==null?rt.answer=a.SessionDescription.fromPartial(j.answer):rt.answer=void 0,j.offer!==void 0&&j.offer!==null?rt.offer=a.SessionDescription.fromPartial(j.offer):rt.offer=void 0,j.trickle!==void 0&&j.trickle!==null?rt.trickle=a.TrickleRequest.fromPartial(j.trickle):rt.trickle=void 0,j.update!==void 0&&j.update!==null?rt.update=a.ParticipantUpdate.fromPartial(j.update):rt.update=void 0,j.trackPublished!==void 0&&j.trackPublished!==null?rt.trackPublished=a.TrackPublishedResponse.fromPartial(j.trackPublished):rt.trackPublished=void 0,j.leave!==void 0&&j.leave!==null?rt.leave=a.LeaveRequest.fromPartial(j.leave):rt.leave=void 0,j.mute!==void 0&&j.mute!==null?rt.mute=a.MuteTrackRequest.fromPartial(j.mute):rt.mute=void 0,j.speakersChanged!==void 0&&j.speakersChanged!==null?rt.speakersChanged=a.SpeakersChanged.fromPartial(j.speakersChanged):rt.speakersChanged=void 0,j.roomUpdate!==void 0&&j.roomUpdate!==null?rt.roomUpdate=a.RoomUpdate.fromPartial(j.roomUpdate):rt.roomUpdate=void 0,j.connectionQuality!==void 0&&j.connectionQuality!==null?rt.connectionQuality=a.ConnectionQualityUpdate.fromPartial(j.connectionQuality):rt.connectionQuality=void 0,j.streamStateUpdate!==void 0&&j.streamStateUpdate!==null?rt.streamStateUpdate=a.StreamStateUpdate.fromPartial(j.streamStateUpdate):rt.streamStateUpdate=void 0,j.subscribedQualityUpdate!==void 0&&j.subscribedQualityUpdate!==null?rt.subscribedQualityUpdate=a.SubscribedQualityUpdate.fromPartial(j.subscribedQualityUpdate):rt.subscribedQualityUpdate=void 0,j.subscriptionPermissionUpdate!==void 0&&j.subscriptionPermissionUpdate!==null?rt.subscriptionPermissionUpdate=a.SubscriptionPermissionUpdate.fromPartial(j.subscriptionPermissionUpdate):rt.subscriptionPermissionUpdate=void 0,rt}};const lt={cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0};a.AddTrackRequest={encode(j,rt=c.default.Writer.create()){j.cid!==""&&rt.uint32(10).string(j.cid),j.name!==""&&rt.uint32(18).string(j.name),j.type!==0&&rt.uint32(24).int32(j.type),j.width!==0&&rt.uint32(32).uint32(j.width),j.height!==0&&rt.uint32(40).uint32(j.height),j.muted===!0&&rt.uint32(48).bool(j.muted),j.disableDtx===!0&&rt.uint32(56).bool(j.disableDtx),j.source!==0&&rt.uint32(64).int32(j.source);for(const ht of j.layers)g.VideoLayer.encode(ht,rt.uint32(74).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},lt);for(at.layers=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.cid=ht.string();break;case 2:at.name=ht.string();break;case 3:at.type=ht.int32();break;case 4:at.width=ht.uint32();break;case 5:at.height=ht.uint32();break;case 6:at.muted=ht.bool();break;case 7:at.disableDtx=ht.bool();break;case 8:at.source=ht.int32();break;case 9:at.layers.push(g.VideoLayer.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},lt);if(rt.layers=[],j.cid!==void 0&&j.cid!==null?rt.cid=String(j.cid):rt.cid="",j.name!==void 0&&j.name!==null?rt.name=String(j.name):rt.name="",j.type!==void 0&&j.type!==null?rt.type=g.trackTypeFromJSON(j.type):rt.type=0,j.width!==void 0&&j.width!==null?rt.width=Number(j.width):rt.width=0,j.height!==void 0&&j.height!==null?rt.height=Number(j.height):rt.height=0,j.muted!==void 0&&j.muted!==null?rt.muted=Boolean(j.muted):rt.muted=!1,j.disableDtx!==void 0&&j.disableDtx!==null?rt.disableDtx=Boolean(j.disableDtx):rt.disableDtx=!1,j.source!==void 0&&j.source!==null?rt.source=g.trackSourceFromJSON(j.source):rt.source=0,j.layers!==void 0&&j.layers!==null)for(const ht of j.layers)rt.layers.push(g.VideoLayer.fromJSON(ht));return rt},toJSON(j){const rt={};return j.cid!==void 0&&(rt.cid=j.cid),j.name!==void 0&&(rt.name=j.name),j.type!==void 0&&(rt.type=g.trackTypeToJSON(j.type)),j.width!==void 0&&(rt.width=j.width),j.height!==void 0&&(rt.height=j.height),j.muted!==void 0&&(rt.muted=j.muted),j.disableDtx!==void 0&&(rt.disableDtx=j.disableDtx),j.source!==void 0&&(rt.source=g.trackSourceToJSON(j.source)),j.layers?rt.layers=j.layers.map(ht=>ht?g.VideoLayer.toJSON(ht):void 0):rt.layers=[],rt},fromPartial(j){var rt,ht,Vt,at,_t,Lt,Wt,Ft;const jt=Object.assign({},lt);if(jt.cid=(rt=j.cid)!==null&&rt!==void 0?rt:"",jt.name=(ht=j.name)!==null&&ht!==void 0?ht:"",jt.type=(Vt=j.type)!==null&&Vt!==void 0?Vt:0,jt.width=(at=j.width)!==null&&at!==void 0?at:0,jt.height=(_t=j.height)!==null&&_t!==void 0?_t:0,jt.muted=(Lt=j.muted)!==null&&Lt!==void 0?Lt:!1,jt.disableDtx=(Wt=j.disableDtx)!==null&&Wt!==void 0?Wt:!1,jt.source=(Ft=j.source)!==null&&Ft!==void 0?Ft:0,jt.layers=[],j.layers!==void 0&&j.layers!==null)for(const tn of j.layers)jt.layers.push(g.VideoLayer.fromPartial(tn));return jt}};const Tt={candidateInit:"",target:0};a.TrickleRequest={encode(j,rt=c.default.Writer.create()){return j.candidateInit!==""&&rt.uint32(10).string(j.candidateInit),j.target!==0&&rt.uint32(16).int32(j.target),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Tt);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.candidateInit=ht.string();break;case 2:at.target=ht.int32();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Tt);return j.candidateInit!==void 0&&j.candidateInit!==null?rt.candidateInit=String(j.candidateInit):rt.candidateInit="",j.target!==void 0&&j.target!==null?rt.target=b(j.target):rt.target=0,rt},toJSON(j){const rt={};return j.candidateInit!==void 0&&(rt.candidateInit=j.candidateInit),j.target!==void 0&&(rt.target=$(j.target)),rt},fromPartial(j){var rt,ht;const Vt=Object.assign({},Tt);return Vt.candidateInit=(rt=j.candidateInit)!==null&&rt!==void 0?rt:"",Vt.target=(ht=j.target)!==null&&ht!==void 0?ht:0,Vt}};const yt={sid:"",muted:!1};a.MuteTrackRequest={encode(j,rt=c.default.Writer.create()){return j.sid!==""&&rt.uint32(10).string(j.sid),j.muted===!0&&rt.uint32(16).bool(j.muted),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},yt);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.sid=ht.string();break;case 2:at.muted=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},yt);return j.sid!==void 0&&j.sid!==null?rt.sid=String(j.sid):rt.sid="",j.muted!==void 0&&j.muted!==null?rt.muted=Boolean(j.muted):rt.muted=!1,rt},toJSON(j){const rt={};return j.sid!==void 0&&(rt.sid=j.sid),j.muted!==void 0&&(rt.muted=j.muted),rt},fromPartial(j){var rt,ht;const Vt=Object.assign({},yt);return Vt.sid=(rt=j.sid)!==null&&rt!==void 0?rt:"",Vt.muted=(ht=j.muted)!==null&&ht!==void 0?ht:!1,Vt}};const pt={serverVersion:"",subscriberPrimary:!1,alternativeUrl:""};a.JoinResponse={encode(j,rt=c.default.Writer.create()){j.room!==void 0&&g.Room.encode(j.room,rt.uint32(10).fork()).ldelim(),j.participant!==void 0&&g.ParticipantInfo.encode(j.participant,rt.uint32(18).fork()).ldelim();for(const ht of j.otherParticipants)g.ParticipantInfo.encode(ht,rt.uint32(26).fork()).ldelim();j.serverVersion!==""&&rt.uint32(34).string(j.serverVersion);for(const ht of j.iceServers)a.ICEServer.encode(ht,rt.uint32(42).fork()).ldelim();return j.subscriberPrimary===!0&&rt.uint32(48).bool(j.subscriberPrimary),j.alternativeUrl!==""&&rt.uint32(58).string(j.alternativeUrl),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},pt);for(at.otherParticipants=[],at.iceServers=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.room=g.Room.decode(ht,ht.uint32());break;case 2:at.participant=g.ParticipantInfo.decode(ht,ht.uint32());break;case 3:at.otherParticipants.push(g.ParticipantInfo.decode(ht,ht.uint32()));break;case 4:at.serverVersion=ht.string();break;case 5:at.iceServers.push(a.ICEServer.decode(ht,ht.uint32()));break;case 6:at.subscriberPrimary=ht.bool();break;case 7:at.alternativeUrl=ht.string();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},pt);if(rt.otherParticipants=[],rt.iceServers=[],j.room!==void 0&&j.room!==null?rt.room=g.Room.fromJSON(j.room):rt.room=void 0,j.participant!==void 0&&j.participant!==null?rt.participant=g.ParticipantInfo.fromJSON(j.participant):rt.participant=void 0,j.otherParticipants!==void 0&&j.otherParticipants!==null)for(const ht of j.otherParticipants)rt.otherParticipants.push(g.ParticipantInfo.fromJSON(ht));if(j.serverVersion!==void 0&&j.serverVersion!==null?rt.serverVersion=String(j.serverVersion):rt.serverVersion="",j.iceServers!==void 0&&j.iceServers!==null)for(const ht of j.iceServers)rt.iceServers.push(a.ICEServer.fromJSON(ht));return j.subscriberPrimary!==void 0&&j.subscriberPrimary!==null?rt.subscriberPrimary=Boolean(j.subscriberPrimary):rt.subscriberPrimary=!1,j.alternativeUrl!==void 0&&j.alternativeUrl!==null?rt.alternativeUrl=String(j.alternativeUrl):rt.alternativeUrl="",rt},toJSON(j){const rt={};return j.room!==void 0&&(rt.room=j.room?g.Room.toJSON(j.room):void 0),j.participant!==void 0&&(rt.participant=j.participant?g.ParticipantInfo.toJSON(j.participant):void 0),j.otherParticipants?rt.otherParticipants=j.otherParticipants.map(ht=>ht?g.ParticipantInfo.toJSON(ht):void 0):rt.otherParticipants=[],j.serverVersion!==void 0&&(rt.serverVersion=j.serverVersion),j.iceServers?rt.iceServers=j.iceServers.map(ht=>ht?a.ICEServer.toJSON(ht):void 0):rt.iceServers=[],j.subscriberPrimary!==void 0&&(rt.subscriberPrimary=j.subscriberPrimary),j.alternativeUrl!==void 0&&(rt.alternativeUrl=j.alternativeUrl),rt},fromPartial(j){var rt,ht,Vt;const at=Object.assign({},pt);if(j.room!==void 0&&j.room!==null?at.room=g.Room.fromPartial(j.room):at.room=void 0,j.participant!==void 0&&j.participant!==null?at.participant=g.ParticipantInfo.fromPartial(j.participant):at.participant=void 0,at.otherParticipants=[],j.otherParticipants!==void 0&&j.otherParticipants!==null)for(const _t of j.otherParticipants)at.otherParticipants.push(g.ParticipantInfo.fromPartial(_t));if(at.serverVersion=(rt=j.serverVersion)!==null&&rt!==void 0?rt:"",at.iceServers=[],j.iceServers!==void 0&&j.iceServers!==null)for(const _t of j.iceServers)at.iceServers.push(a.ICEServer.fromPartial(_t));return at.subscriberPrimary=(ht=j.subscriberPrimary)!==null&&ht!==void 0?ht:!1,at.alternativeUrl=(Vt=j.alternativeUrl)!==null&&Vt!==void 0?Vt:"",at}};const vt={cid:""};a.TrackPublishedResponse={encode(j,rt=c.default.Writer.create()){return j.cid!==""&&rt.uint32(10).string(j.cid),j.track!==void 0&&g.TrackInfo.encode(j.track,rt.uint32(18).fork()).ldelim(),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},vt);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.cid=ht.string();break;case 2:at.track=g.TrackInfo.decode(ht,ht.uint32());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},vt);return j.cid!==void 0&&j.cid!==null?rt.cid=String(j.cid):rt.cid="",j.track!==void 0&&j.track!==null?rt.track=g.TrackInfo.fromJSON(j.track):rt.track=void 0,rt},toJSON(j){const rt={};return j.cid!==void 0&&(rt.cid=j.cid),j.track!==void 0&&(rt.track=j.track?g.TrackInfo.toJSON(j.track):void 0),rt},fromPartial(j){var rt;const ht=Object.assign({},vt);return ht.cid=(rt=j.cid)!==null&&rt!==void 0?rt:"",j.track!==void 0&&j.track!==null?ht.track=g.TrackInfo.fromPartial(j.track):ht.track=void 0,ht}};const it={type:"",sdp:""};a.SessionDescription={encode(j,rt=c.default.Writer.create()){return j.type!==""&&rt.uint32(10).string(j.type),j.sdp!==""&&rt.uint32(18).string(j.sdp),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},it);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.type=ht.string();break;case 2:at.sdp=ht.string();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},it);return j.type!==void 0&&j.type!==null?rt.type=String(j.type):rt.type="",j.sdp!==void 0&&j.sdp!==null?rt.sdp=String(j.sdp):rt.sdp="",rt},toJSON(j){const rt={};return j.type!==void 0&&(rt.type=j.type),j.sdp!==void 0&&(rt.sdp=j.sdp),rt},fromPartial(j){var rt,ht;const Vt=Object.assign({},it);return Vt.type=(rt=j.type)!==null&&rt!==void 0?rt:"",Vt.sdp=(ht=j.sdp)!==null&&ht!==void 0?ht:"",Vt}};const ct={};a.ParticipantUpdate={encode(j,rt=c.default.Writer.create()){for(const ht of j.participants)g.ParticipantInfo.encode(ht,rt.uint32(10).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},ct);for(at.participants=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participants.push(g.ParticipantInfo.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},ct);if(rt.participants=[],j.participants!==void 0&&j.participants!==null)for(const ht of j.participants)rt.participants.push(g.ParticipantInfo.fromJSON(ht));return rt},toJSON(j){const rt={};return j.participants?rt.participants=j.participants.map(ht=>ht?g.ParticipantInfo.toJSON(ht):void 0):rt.participants=[],rt},fromPartial(j){const rt=Object.assign({},ct);if(rt.participants=[],j.participants!==void 0&&j.participants!==null)for(const ht of j.participants)rt.participants.push(g.ParticipantInfo.fromPartial(ht));return rt}};const mt={trackSids:"",subscribe:!1};a.UpdateSubscription={encode(j,rt=c.default.Writer.create()){for(const ht of j.trackSids)rt.uint32(10).string(ht);j.subscribe===!0&&rt.uint32(16).bool(j.subscribe);for(const ht of j.participantTracks)g.ParticipantTracks.encode(ht,rt.uint32(26).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},mt);for(at.trackSids=[],at.participantTracks=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.trackSids.push(ht.string());break;case 2:at.subscribe=ht.bool();break;case 3:at.participantTracks.push(g.ParticipantTracks.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},mt);if(rt.trackSids=[],rt.participantTracks=[],j.trackSids!==void 0&&j.trackSids!==null)for(const ht of j.trackSids)rt.trackSids.push(String(ht));if(j.subscribe!==void 0&&j.subscribe!==null?rt.subscribe=Boolean(j.subscribe):rt.subscribe=!1,j.participantTracks!==void 0&&j.participantTracks!==null)for(const ht of j.participantTracks)rt.participantTracks.push(g.ParticipantTracks.fromJSON(ht));return rt},toJSON(j){const rt={};return j.trackSids?rt.trackSids=j.trackSids.map(ht=>ht):rt.trackSids=[],j.subscribe!==void 0&&(rt.subscribe=j.subscribe),j.participantTracks?rt.participantTracks=j.participantTracks.map(ht=>ht?g.ParticipantTracks.toJSON(ht):void 0):rt.participantTracks=[],rt},fromPartial(j){var rt;const ht=Object.assign({},mt);if(ht.trackSids=[],j.trackSids!==void 0&&j.trackSids!==null)for(const Vt of j.trackSids)ht.trackSids.push(Vt);if(ht.subscribe=(rt=j.subscribe)!==null&&rt!==void 0?rt:!1,ht.participantTracks=[],j.participantTracks!==void 0&&j.participantTracks!==null)for(const Vt of j.participantTracks)ht.participantTracks.push(g.ParticipantTracks.fromPartial(Vt));return ht}};const Nt={trackSids:"",disabled:!1,quality:0,width:0,height:0};a.UpdateTrackSettings={encode(j,rt=c.default.Writer.create()){for(const ht of j.trackSids)rt.uint32(10).string(ht);return j.disabled===!0&&rt.uint32(24).bool(j.disabled),j.quality!==0&&rt.uint32(32).int32(j.quality),j.width!==0&&rt.uint32(40).uint32(j.width),j.height!==0&&rt.uint32(48).uint32(j.height),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Nt);for(at.trackSids=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.trackSids.push(ht.string());break;case 3:at.disabled=ht.bool();break;case 4:at.quality=ht.int32();break;case 5:at.width=ht.uint32();break;case 6:at.height=ht.uint32();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Nt);if(rt.trackSids=[],j.trackSids!==void 0&&j.trackSids!==null)for(const ht of j.trackSids)rt.trackSids.push(String(ht));return j.disabled!==void 0&&j.disabled!==null?rt.disabled=Boolean(j.disabled):rt.disabled=!1,j.quality!==void 0&&j.quality!==null?rt.quality=g.videoQualityFromJSON(j.quality):rt.quality=0,j.width!==void 0&&j.width!==null?rt.width=Number(j.width):rt.width=0,j.height!==void 0&&j.height!==null?rt.height=Number(j.height):rt.height=0,rt},toJSON(j){const rt={};return j.trackSids?rt.trackSids=j.trackSids.map(ht=>ht):rt.trackSids=[],j.disabled!==void 0&&(rt.disabled=j.disabled),j.quality!==void 0&&(rt.quality=g.videoQualityToJSON(j.quality)),j.width!==void 0&&(rt.width=j.width),j.height!==void 0&&(rt.height=j.height),rt},fromPartial(j){var rt,ht,Vt,at;const _t=Object.assign({},Nt);if(_t.trackSids=[],j.trackSids!==void 0&&j.trackSids!==null)for(const Lt of j.trackSids)_t.trackSids.push(Lt);return _t.disabled=(rt=j.disabled)!==null&&rt!==void 0?rt:!1,_t.quality=(ht=j.quality)!==null&&ht!==void 0?ht:0,_t.width=(Vt=j.width)!==null&&Vt!==void 0?Vt:0,_t.height=(at=j.height)!==null&&at!==void 0?at:0,_t}};const Ot={canReconnect:!1};a.LeaveRequest={encode(j,rt=c.default.Writer.create()){return j.canReconnect===!0&&rt.uint32(8).bool(j.canReconnect),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Ot);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.canReconnect=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Ot);return j.canReconnect!==void 0&&j.canReconnect!==null?rt.canReconnect=Boolean(j.canReconnect):rt.canReconnect=!1,rt},toJSON(j){const rt={};return j.canReconnect!==void 0&&(rt.canReconnect=j.canReconnect),rt},fromPartial(j){var rt;const ht=Object.assign({},Ot);return ht.canReconnect=(rt=j.canReconnect)!==null&&rt!==void 0?rt:!1,ht}};const At={trackSid:""};a.UpdateVideoLayers={encode(j,rt=c.default.Writer.create()){j.trackSid!==""&&rt.uint32(10).string(j.trackSid);for(const ht of j.layers)g.VideoLayer.encode(ht,rt.uint32(18).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},At);for(at.layers=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.trackSid=ht.string();break;case 2:at.layers.push(g.VideoLayer.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},At);if(rt.layers=[],j.trackSid!==void 0&&j.trackSid!==null?rt.trackSid=String(j.trackSid):rt.trackSid="",j.layers!==void 0&&j.layers!==null)for(const ht of j.layers)rt.layers.push(g.VideoLayer.fromJSON(ht));return rt},toJSON(j){const rt={};return j.trackSid!==void 0&&(rt.trackSid=j.trackSid),j.layers?rt.layers=j.layers.map(ht=>ht?g.VideoLayer.toJSON(ht):void 0):rt.layers=[],rt},fromPartial(j){var rt;const ht=Object.assign({},At);if(ht.trackSid=(rt=j.trackSid)!==null&&rt!==void 0?rt:"",ht.layers=[],j.layers!==void 0&&j.layers!==null)for(const Vt of j.layers)ht.layers.push(g.VideoLayer.fromPartial(Vt));return ht}};const Pt={urls:"",username:"",credential:""};a.ICEServer={encode(j,rt=c.default.Writer.create()){for(const ht of j.urls)rt.uint32(10).string(ht);return j.username!==""&&rt.uint32(18).string(j.username),j.credential!==""&&rt.uint32(26).string(j.credential),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Pt);for(at.urls=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.urls.push(ht.string());break;case 2:at.username=ht.string();break;case 3:at.credential=ht.string();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Pt);if(rt.urls=[],j.urls!==void 0&&j.urls!==null)for(const ht of j.urls)rt.urls.push(String(ht));return j.username!==void 0&&j.username!==null?rt.username=String(j.username):rt.username="",j.credential!==void 0&&j.credential!==null?rt.credential=String(j.credential):rt.credential="",rt},toJSON(j){const rt={};return j.urls?rt.urls=j.urls.map(ht=>ht):rt.urls=[],j.username!==void 0&&(rt.username=j.username),j.credential!==void 0&&(rt.credential=j.credential),rt},fromPartial(j){var rt,ht;const Vt=Object.assign({},Pt);if(Vt.urls=[],j.urls!==void 0&&j.urls!==null)for(const at of j.urls)Vt.urls.push(at);return Vt.username=(rt=j.username)!==null&&rt!==void 0?rt:"",Vt.credential=(ht=j.credential)!==null&&ht!==void 0?ht:"",Vt}};const St={};a.SpeakersChanged={encode(j,rt=c.default.Writer.create()){for(const ht of j.speakers)g.SpeakerInfo.encode(ht,rt.uint32(10).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},St);for(at.speakers=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.speakers.push(g.SpeakerInfo.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},St);if(rt.speakers=[],j.speakers!==void 0&&j.speakers!==null)for(const ht of j.speakers)rt.speakers.push(g.SpeakerInfo.fromJSON(ht));return rt},toJSON(j){const rt={};return j.speakers?rt.speakers=j.speakers.map(ht=>ht?g.SpeakerInfo.toJSON(ht):void 0):rt.speakers=[],rt},fromPartial(j){const rt=Object.assign({},St);if(rt.speakers=[],j.speakers!==void 0&&j.speakers!==null)for(const ht of j.speakers)rt.speakers.push(g.SpeakerInfo.fromPartial(ht));return rt}};const Ct={};a.RoomUpdate={encode(j,rt=c.default.Writer.create()){return j.room!==void 0&&g.Room.encode(j.room,rt.uint32(10).fork()).ldelim(),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Ct);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.room=g.Room.decode(ht,ht.uint32());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Ct);return j.room!==void 0&&j.room!==null?rt.room=g.Room.fromJSON(j.room):rt.room=void 0,rt},toJSON(j){const rt={};return j.room!==void 0&&(rt.room=j.room?g.Room.toJSON(j.room):void 0),rt},fromPartial(j){const rt=Object.assign({},Ct);return j.room!==void 0&&j.room!==null?rt.room=g.Room.fromPartial(j.room):rt.room=void 0,rt}};const $t={participantSid:"",quality:0,score:0};a.ConnectionQualityInfo={encode(j,rt=c.default.Writer.create()){return j.participantSid!==""&&rt.uint32(10).string(j.participantSid),j.quality!==0&&rt.uint32(16).int32(j.quality),j.score!==0&&rt.uint32(29).float(j.score),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},$t);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participantSid=ht.string();break;case 2:at.quality=ht.int32();break;case 3:at.score=ht.float();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},$t);return j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=String(j.participantSid):rt.participantSid="",j.quality!==void 0&&j.quality!==null?rt.quality=g.connectionQualityFromJSON(j.quality):rt.quality=0,j.score!==void 0&&j.score!==null?rt.score=Number(j.score):rt.score=0,rt},toJSON(j){const rt={};return j.participantSid!==void 0&&(rt.participantSid=j.participantSid),j.quality!==void 0&&(rt.quality=g.connectionQualityToJSON(j.quality)),j.score!==void 0&&(rt.score=j.score),rt},fromPartial(j){var rt,ht,Vt;const at=Object.assign({},$t);return at.participantSid=(rt=j.participantSid)!==null&&rt!==void 0?rt:"",at.quality=(ht=j.quality)!==null&&ht!==void 0?ht:0,at.score=(Vt=j.score)!==null&&Vt!==void 0?Vt:0,at}};const gt={};a.ConnectionQualityUpdate={encode(j,rt=c.default.Writer.create()){for(const ht of j.updates)a.ConnectionQualityInfo.encode(ht,rt.uint32(10).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},gt);for(at.updates=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.updates.push(a.ConnectionQualityInfo.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},gt);if(rt.updates=[],j.updates!==void 0&&j.updates!==null)for(const ht of j.updates)rt.updates.push(a.ConnectionQualityInfo.fromJSON(ht));return rt},toJSON(j){const rt={};return j.updates?rt.updates=j.updates.map(ht=>ht?a.ConnectionQualityInfo.toJSON(ht):void 0):rt.updates=[],rt},fromPartial(j){const rt=Object.assign({},gt);if(rt.updates=[],j.updates!==void 0&&j.updates!==null)for(const ht of j.updates)rt.updates.push(a.ConnectionQualityInfo.fromPartial(ht));return rt}};const It={participantSid:"",trackSid:"",state:0};a.StreamStateInfo={encode(j,rt=c.default.Writer.create()){return j.participantSid!==""&&rt.uint32(10).string(j.participantSid),j.trackSid!==""&&rt.uint32(18).string(j.trackSid),j.state!==0&&rt.uint32(24).int32(j.state),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},It);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participantSid=ht.string();break;case 2:at.trackSid=ht.string();break;case 3:at.state=ht.int32();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},It);return j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=String(j.participantSid):rt.participantSid="",j.trackSid!==void 0&&j.trackSid!==null?rt.trackSid=String(j.trackSid):rt.trackSid="",j.state!==void 0&&j.state!==null?rt.state=nt(j.state):rt.state=0,rt},toJSON(j){const rt={};return j.participantSid!==void 0&&(rt.participantSid=j.participantSid),j.trackSid!==void 0&&(rt.trackSid=j.trackSid),j.state!==void 0&&(rt.state=ot(j.state)),rt},fromPartial(j){var rt,ht,Vt;const at=Object.assign({},It);return at.participantSid=(rt=j.participantSid)!==null&&rt!==void 0?rt:"",at.trackSid=(ht=j.trackSid)!==null&&ht!==void 0?ht:"",at.state=(Vt=j.state)!==null&&Vt!==void 0?Vt:0,at}};const Rt={};a.StreamStateUpdate={encode(j,rt=c.default.Writer.create()){for(const ht of j.streamStates)a.StreamStateInfo.encode(ht,rt.uint32(10).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Rt);for(at.streamStates=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.streamStates.push(a.StreamStateInfo.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Rt);if(rt.streamStates=[],j.streamStates!==void 0&&j.streamStates!==null)for(const ht of j.streamStates)rt.streamStates.push(a.StreamStateInfo.fromJSON(ht));return rt},toJSON(j){const rt={};return j.streamStates?rt.streamStates=j.streamStates.map(ht=>ht?a.StreamStateInfo.toJSON(ht):void 0):rt.streamStates=[],rt},fromPartial(j){const rt=Object.assign({},Rt);if(rt.streamStates=[],j.streamStates!==void 0&&j.streamStates!==null)for(const ht of j.streamStates)rt.streamStates.push(a.StreamStateInfo.fromPartial(ht));return rt}};const zt={quality:0,enabled:!1};a.SubscribedQuality={encode(j,rt=c.default.Writer.create()){return j.quality!==0&&rt.uint32(8).int32(j.quality),j.enabled===!0&&rt.uint32(16).bool(j.enabled),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},zt);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.quality=ht.int32();break;case 2:at.enabled=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},zt);return j.quality!==void 0&&j.quality!==null?rt.quality=g.videoQualityFromJSON(j.quality):rt.quality=0,j.enabled!==void 0&&j.enabled!==null?rt.enabled=Boolean(j.enabled):rt.enabled=!1,rt},toJSON(j){const rt={};return j.quality!==void 0&&(rt.quality=g.videoQualityToJSON(j.quality)),j.enabled!==void 0&&(rt.enabled=j.enabled),rt},fromPartial(j){var rt,ht;const Vt=Object.assign({},zt);return Vt.quality=(rt=j.quality)!==null&&rt!==void 0?rt:0,Vt.enabled=(ht=j.enabled)!==null&&ht!==void 0?ht:!1,Vt}};const Ut={trackSid:""};a.SubscribedQualityUpdate={encode(j,rt=c.default.Writer.create()){j.trackSid!==""&&rt.uint32(10).string(j.trackSid);for(const ht of j.subscribedQualities)a.SubscribedQuality.encode(ht,rt.uint32(18).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Ut);for(at.subscribedQualities=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.trackSid=ht.string();break;case 2:at.subscribedQualities.push(a.SubscribedQuality.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Ut);if(rt.subscribedQualities=[],j.trackSid!==void 0&&j.trackSid!==null?rt.trackSid=String(j.trackSid):rt.trackSid="",j.subscribedQualities!==void 0&&j.subscribedQualities!==null)for(const ht of j.subscribedQualities)rt.subscribedQualities.push(a.SubscribedQuality.fromJSON(ht));return rt},toJSON(j){const rt={};return j.trackSid!==void 0&&(rt.trackSid=j.trackSid),j.subscribedQualities?rt.subscribedQualities=j.subscribedQualities.map(ht=>ht?a.SubscribedQuality.toJSON(ht):void 0):rt.subscribedQualities=[],rt},fromPartial(j){var rt;const ht=Object.assign({},Ut);if(ht.trackSid=(rt=j.trackSid)!==null&&rt!==void 0?rt:"",ht.subscribedQualities=[],j.subscribedQualities!==void 0&&j.subscribedQualities!==null)for(const Vt of j.subscribedQualities)ht.subscribedQualities.push(a.SubscribedQuality.fromPartial(Vt));return ht}};const Dt={participantSid:"",allTracks:!1,trackSids:""};a.TrackPermission={encode(j,rt=c.default.Writer.create()){j.participantSid!==""&&rt.uint32(10).string(j.participantSid),j.allTracks===!0&&rt.uint32(16).bool(j.allTracks);for(const ht of j.trackSids)rt.uint32(26).string(ht);return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Dt);for(at.trackSids=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participantSid=ht.string();break;case 2:at.allTracks=ht.bool();break;case 3:at.trackSids.push(ht.string());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Dt);if(rt.trackSids=[],j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=String(j.participantSid):rt.participantSid="",j.allTracks!==void 0&&j.allTracks!==null?rt.allTracks=Boolean(j.allTracks):rt.allTracks=!1,j.trackSids!==void 0&&j.trackSids!==null)for(const ht of j.trackSids)rt.trackSids.push(String(ht));return rt},toJSON(j){const rt={};return j.participantSid!==void 0&&(rt.participantSid=j.participantSid),j.allTracks!==void 0&&(rt.allTracks=j.allTracks),j.trackSids?rt.trackSids=j.trackSids.map(ht=>ht):rt.trackSids=[],rt},fromPartial(j){var rt,ht;const Vt=Object.assign({},Dt);if(Vt.participantSid=(rt=j.participantSid)!==null&&rt!==void 0?rt:"",Vt.allTracks=(ht=j.allTracks)!==null&&ht!==void 0?ht:!1,Vt.trackSids=[],j.trackSids!==void 0&&j.trackSids!==null)for(const at of j.trackSids)Vt.trackSids.push(at);return Vt}};const qt={allParticipants:!1};a.UpdateSubscriptionPermissions={encode(j,rt=c.default.Writer.create()){j.allParticipants===!0&&rt.uint32(8).bool(j.allParticipants);for(const ht of j.trackPermissions)a.TrackPermission.encode(ht,rt.uint32(18).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},qt);for(at.trackPermissions=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.allParticipants=ht.bool();break;case 2:at.trackPermissions.push(a.TrackPermission.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},qt);if(rt.trackPermissions=[],j.allParticipants!==void 0&&j.allParticipants!==null?rt.allParticipants=Boolean(j.allParticipants):rt.allParticipants=!1,j.trackPermissions!==void 0&&j.trackPermissions!==null)for(const ht of j.trackPermissions)rt.trackPermissions.push(a.TrackPermission.fromJSON(ht));return rt},toJSON(j){const rt={};return j.allParticipants!==void 0&&(rt.allParticipants=j.allParticipants),j.trackPermissions?rt.trackPermissions=j.trackPermissions.map(ht=>ht?a.TrackPermission.toJSON(ht):void 0):rt.trackPermissions=[],rt},fromPartial(j){var rt;const ht=Object.assign({},qt);if(ht.allParticipants=(rt=j.allParticipants)!==null&&rt!==void 0?rt:!1,ht.trackPermissions=[],j.trackPermissions!==void 0&&j.trackPermissions!==null)for(const Vt of j.trackPermissions)ht.trackPermissions.push(a.TrackPermission.fromPartial(Vt));return ht}};const Kt={participantSid:"",trackSid:"",allowed:!1};a.SubscriptionPermissionUpdate={encode(j,rt=c.default.Writer.create()){return j.participantSid!==""&&rt.uint32(10).string(j.participantSid),j.trackSid!==""&&rt.uint32(18).string(j.trackSid),j.allowed===!0&&rt.uint32(24).bool(j.allowed),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Kt);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participantSid=ht.string();break;case 2:at.trackSid=ht.string();break;case 3:at.allowed=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Kt);return j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=String(j.participantSid):rt.participantSid="",j.trackSid!==void 0&&j.trackSid!==null?rt.trackSid=String(j.trackSid):rt.trackSid="",j.allowed!==void 0&&j.allowed!==null?rt.allowed=Boolean(j.allowed):rt.allowed=!1,rt},toJSON(j){const rt={};return j.participantSid!==void 0&&(rt.participantSid=j.participantSid),j.trackSid!==void 0&&(rt.trackSid=j.trackSid),j.allowed!==void 0&&(rt.allowed=j.allowed),rt},fromPartial(j){var rt,ht,Vt;const at=Object.assign({},Kt);return at.participantSid=(rt=j.participantSid)!==null&&rt!==void 0?rt:"",at.trackSid=(ht=j.trackSid)!==null&&ht!==void 0?ht:"",at.allowed=(Vt=j.allowed)!==null&&Vt!==void 0?Vt:!1,at}};const Qt={};a.SyncState={encode(j,rt=c.default.Writer.create()){j.answer!==void 0&&a.SessionDescription.encode(j.answer,rt.uint32(10).fork()).ldelim(),j.subscription!==void 0&&a.UpdateSubscription.encode(j.subscription,rt.uint32(18).fork()).ldelim();for(const ht of j.publishTracks)a.TrackPublishedResponse.encode(ht,rt.uint32(26).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Qt);for(at.publishTracks=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.answer=a.SessionDescription.decode(ht,ht.uint32());break;case 2:at.subscription=a.UpdateSubscription.decode(ht,ht.uint32());break;case 3:at.publishTracks.push(a.TrackPublishedResponse.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Qt);if(rt.publishTracks=[],j.answer!==void 0&&j.answer!==null?rt.answer=a.SessionDescription.fromJSON(j.answer):rt.answer=void 0,j.subscription!==void 0&&j.subscription!==null?rt.subscription=a.UpdateSubscription.fromJSON(j.subscription):rt.subscription=void 0,j.publishTracks!==void 0&&j.publishTracks!==null)for(const ht of j.publishTracks)rt.publishTracks.push(a.TrackPublishedResponse.fromJSON(ht));return rt},toJSON(j){const rt={};return j.answer!==void 0&&(rt.answer=j.answer?a.SessionDescription.toJSON(j.answer):void 0),j.subscription!==void 0&&(rt.subscription=j.subscription?a.UpdateSubscription.toJSON(j.subscription):void 0),j.publishTracks?rt.publishTracks=j.publishTracks.map(ht=>ht?a.TrackPublishedResponse.toJSON(ht):void 0):rt.publishTracks=[],rt},fromPartial(j){const rt=Object.assign({},Qt);if(j.answer!==void 0&&j.answer!==null?rt.answer=a.SessionDescription.fromPartial(j.answer):rt.answer=void 0,j.subscription!==void 0&&j.subscription!==null?rt.subscription=a.UpdateSubscription.fromPartial(j.subscription):rt.subscription=void 0,rt.publishTracks=[],j.publishTracks!==void 0&&j.publishTracks!==null)for(const ht of j.publishTracks)rt.publishTracks.push(a.TrackPublishedResponse.fromPartial(ht));return rt}};const Ht={};a.SimulateScenario={encode(j,rt=c.default.Writer.create()){return j.speakerUpdate!==void 0&&rt.uint32(8).int32(j.speakerUpdate),j.nodeFailure!==void 0&&rt.uint32(16).bool(j.nodeFailure),j.migration!==void 0&&rt.uint32(24).bool(j.migration),j.serverLeave!==void 0&&rt.uint32(32).bool(j.serverLeave),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Ht);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.speakerUpdate=ht.int32();break;case 2:at.nodeFailure=ht.bool();break;case 3:at.migration=ht.bool();break;case 4:at.serverLeave=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Ht);return j.speakerUpdate!==void 0&&j.speakerUpdate!==null?rt.speakerUpdate=Number(j.speakerUpdate):rt.speakerUpdate=void 0,j.nodeFailure!==void 0&&j.nodeFailure!==null?rt.nodeFailure=Boolean(j.nodeFailure):rt.nodeFailure=void 0,j.migration!==void 0&&j.migration!==null?rt.migration=Boolean(j.migration):rt.migration=void 0,j.serverLeave!==void 0&&j.serverLeave!==null?rt.serverLeave=Boolean(j.serverLeave):rt.serverLeave=void 0,rt},toJSON(j){const rt={};return j.speakerUpdate!==void 0&&(rt.speakerUpdate=j.speakerUpdate),j.nodeFailure!==void 0&&(rt.nodeFailure=j.nodeFailure),j.migration!==void 0&&(rt.migration=j.migration),j.serverLeave!==void 0&&(rt.serverLeave=j.serverLeave),rt},fromPartial(j){var rt,ht,Vt,at;const _t=Object.assign({},Ht);return _t.speakerUpdate=(rt=j.speakerUpdate)!==null&&rt!==void 0?rt:void 0,_t.nodeFailure=(ht=j.nodeFailure)!==null&&ht!==void 0?ht:void 0,_t.migration=(Vt=j.migration)!==null&&Vt!==void 0?Vt:void 0,_t.serverLeave=(at=j.serverLeave)!==null&&at!==void 0?at:void 0,_t}},c.default.util.Long!==d.default&&(c.default.util.Long=d.default,c.default.configure())})(livekit_rtc);var errors={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.MediaDeviceFailure=a.PublishDataError=a.UnexpectedConnectionState=a.UnsupportedServer=a.TrackInvalidError=a.ConnectionError=a.LivekitError=void 0;class s extends Error{constructor(tt,nt){super(nt||"an error has occured"),this.code=tt}}a.LivekitError=s;class d extends s{constructor(tt){super(1,tt)}}a.ConnectionError=d;class c extends s{constructor(tt){super(20,tt||"Track is invalid")}}a.TrackInvalidError=c;class g extends s{constructor(tt){super(10,tt||"Unsupported server")}}a.UnsupportedServer=g;class _ extends s{constructor(tt){super(12,tt||"Unexpected connection state")}}a.UnexpectedConnectionState=_;class b extends s{constructor(tt){super(13,tt||"Unable to publish data")}}a.PublishDataError=b,function($){$.PermissionDenied="PermissionDenied",$.NotFound="NotFound",$.DeviceInUse="DeviceInUse",$.Other="Other"}(a.MediaDeviceFailure||(a.MediaDeviceFailure={})),function($){function tt(nt){if(nt&&"name"in nt)return nt.name==="NotFoundError"||nt.name==="DevicesNotFoundError"?$.NotFound:nt.name==="NotAllowedError"||nt.name==="PermissionDeniedError"?$.PermissionDenied:nt.name==="NotReadableError"||nt.name==="TrackStartError"?$.DeviceInUse:$.Other}$.getFailure=tt}(a.MediaDeviceFailure||(a.MediaDeviceFailure={}))})(errors);var events$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackEvent=a.EngineEvent=a.ParticipantEvent=a.RoomEvent=void 0,function(s){s.Reconnecting="reconnecting",s.Reconnected="reconnected",s.Disconnected="disconnected",s.MediaDevicesChanged="mediaDevicesChanged",s.ParticipantConnected="participantConnected",s.ParticipantDisconnected="participantDisconnected",s.TrackPublished="trackPublished",s.TrackSubscribed="trackSubscribed",s.TrackSubscriptionFailed="trackSubscriptionFailed",s.TrackUnpublished="trackUnpublished",s.TrackUnsubscribed="trackUnsubscribed",s.TrackMuted="trackMuted",s.TrackUnmuted="trackUnmuted",s.LocalTrackPublished="localTrackPublished",s.LocalTrackUnpublished="localTrackUnpublished",s.ActiveSpeakersChanged="activeSpeakersChanged",s.MetadataChanged="metadataChanged",s.ParticipantMetadataChanged="participantMetaDataChanged",s.RoomMetadataChanged="roomMetadataChanged",s.DataReceived="dataReceived",s.ConnectionQualityChanged="connectionQualityChanged",s.TrackStreamStateChanged="trackStreamStateChanged",s.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",s.AudioPlaybackStatusChanged="audioPlaybackChanged",s.MediaDevicesError="mediaDevicesError"}(a.RoomEvent||(a.RoomEvent={})),function(s){s.TrackPublished="trackPublished",s.TrackSubscribed="trackSubscribed",s.TrackSubscriptionFailed="trackSubscriptionFailed",s.TrackUnpublished="trackUnpublished",s.TrackUnsubscribed="trackUnsubscribed",s.TrackMuted="trackMuted",s.TrackUnmuted="trackUnmuted",s.LocalTrackPublished="localTrackPublished",s.LocalTrackUnpublished="localTrackUnpublished",s.MetadataChanged="metadataChanged",s.ParticipantMetadataChanged="participantMetadataChanged",s.DataReceived="dataReceived",s.IsSpeakingChanged="isSpeakingChanged",s.ConnectionQualityChanged="connectionQualityChanged",s.TrackStreamStateChanged="trackStreamStateChanged",s.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",s.MediaDevicesError="mediaDevicesError"}(a.ParticipantEvent||(a.ParticipantEvent={})),function(s){s.Connected="connected",s.Disconnected="disconnected",s.Reconnecting="reconnecting",s.Reconnected="reconnected",s.SignalConnected="singalConnected",s.MediaTrackAdded="mediaTrackAdded",s.ActiveSpeakersUpdate="activeSpeakersUpdate",s.DataPacketReceived="dataPacketReceived"}(a.EngineEvent||(a.EngineEvent={})),function(s){s.Message="message",s.Muted="muted",s.Unmuted="unmuted",s.Ended="ended",s.UpdateSettings="updateSettings",s.UpdateSubscription="updateSubscription",s.AudioPlaybackStarted="audioPlaybackStarted",s.AudioPlaybackFailed="audioPlaybackFailed",s.VisibilityChanged="visibilityChanged",s.VideoDimensionsChanged="videoDimensionsChanged"}(a.TrackEvent||(a.TrackEvent={}))})(events$1);var LocalAudioTrack$1={},stats={};Object.defineProperty(stats,"__esModule",{value:!0});stats.computeBitrate=stats.monitorFrequency=void 0;stats.monitorFrequency=2e3;function computeBitrate(a,s){if(!s)return 0;let d,c;return"bytesReceived"in a?(d=a.bytesReceived,c=s.bytesReceived):"bytesSent"in a&&(d=a.bytesSent,c=s.bytesSent),d===void 0||c===void 0||a.timestamp===void 0||s.timestamp===void 0?0:(d-c)*8*1e3/(a.timestamp-s.timestamp)}stats.computeBitrate=computeBitrate;var LocalTrack$1={},DeviceManager$1={},__awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})};Object.defineProperty(DeviceManager$1,"__esModule",{value:!0});const defaultId="default";class DeviceManager{static getInstance(){return this.instance===void 0&&(this.instance=new DeviceManager),this.instance}getDevices(s){return __awaiter$c(this,void 0,void 0,function*(){let d=yield navigator.mediaDevices.enumerateDevices();if(d=d.filter(c=>c.kind===s),d.length>1&&d[0].deviceId===defaultId){const c=d[0];for(let g=1;g<d.length;g+=1)if(d[g].groupId===c.groupId){const _=d[0];d[0]=d[g],d[g]=_;break}return d.filter(g=>g!==c)}return d})}normalizeDeviceId(s,d,c){return __awaiter$c(this,void 0,void 0,function*(){if(d!==defaultId)return d;const _=(yield this.getDevices(s)).find(b=>b.groupId===c&&b.deviceId!==defaultId);return _==null?void 0:_.deviceId})}}DeviceManager$1.default=DeviceManager;DeviceManager.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];var Track={},events={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply=R$2&&typeof R$2.apply=="function"?R$2.apply:function a(s,d,c){return Function.prototype.apply.call(s,d,c)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:ReflectOwnKeys=function(s){return Object.getOwnPropertyNames(s)};function ProcessEmitWarning(a){console&&console.warn&&console.warn(a)}var NumberIsNaN=Number.isNaN||function a(s){return s!==s};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");defaultMaxListeners=a}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function a(s){if(typeof s!="number"||s<0||NumberIsNaN(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this};function _getMaxListeners(a){return a._maxListeners===void 0?EventEmitter.defaultMaxListeners:a._maxListeners}EventEmitter.prototype.getMaxListeners=function a(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function a(s){for(var d=[],c=1;c<arguments.length;c++)d.push(arguments[c]);var g=s==="error",_=this._events;if(_!==void 0)g=g&&_.error===void 0;else if(!g)return!1;if(g){var b;if(d.length>0&&(b=d[0]),b instanceof Error)throw b;var $=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw $.context=b,$}var tt=_[s];if(tt===void 0)return!1;if(typeof tt=="function")ReflectApply(tt,this,d);else for(var nt=tt.length,ot=arrayClone(tt,nt),c=0;c<nt;++c)ReflectApply(ot[c],this,d);return!0};function _addListener(a,s,d,c){var g,_,b;if(checkListener(d),_=a._events,_===void 0?(_=a._events=Object.create(null),a._eventsCount=0):(_.newListener!==void 0&&(a.emit("newListener",s,d.listener?d.listener:d),_=a._events),b=_[s]),b===void 0)b=_[s]=d,++a._eventsCount;else if(typeof b=="function"?b=_[s]=c?[d,b]:[b,d]:c?b.unshift(d):b.push(d),g=_getMaxListeners(a),g>0&&b.length>g&&!b.warned){b.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(s)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=a,$.type=s,$.count=b.length,ProcessEmitWarning($)}return a}EventEmitter.prototype.addListener=function a(s,d){return _addListener(this,s,d,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function a(s,d){return _addListener(this,s,d,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(a,s,d){var c={fired:!1,wrapFn:void 0,target:a,type:s,listener:d},g=onceWrapper.bind(c);return g.listener=d,c.wrapFn=g,g}EventEmitter.prototype.once=function a(s,d){return checkListener(d),this.on(s,_onceWrap(this,s,d)),this};EventEmitter.prototype.prependOnceListener=function a(s,d){return checkListener(d),this.prependListener(s,_onceWrap(this,s,d)),this};EventEmitter.prototype.removeListener=function a(s,d){var c,g,_,b,$;if(checkListener(d),g=this._events,g===void 0)return this;if(c=g[s],c===void 0)return this;if(c===d||c.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete g[s],g.removeListener&&this.emit("removeListener",s,c.listener||d));else if(typeof c!="function"){for(_=-1,b=c.length-1;b>=0;b--)if(c[b]===d||c[b].listener===d){$=c[b].listener,_=b;break}if(_<0)return this;_===0?c.shift():spliceOne(c,_),c.length===1&&(g[s]=c[0]),g.removeListener!==void 0&&this.emit("removeListener",s,$||d)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function a(s){var d,c,g;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[s]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[s]),this;if(arguments.length===0){var _=Object.keys(c),b;for(g=0;g<_.length;++g)b=_[g],b!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=c[s],typeof d=="function")this.removeListener(s,d);else if(d!==void 0)for(g=d.length-1;g>=0;g--)this.removeListener(s,d[g]);return this};function _listeners(a,s,d){var c=a._events;if(c===void 0)return[];var g=c[s];return g===void 0?[]:typeof g=="function"?d?[g.listener||g]:[g]:d?unwrapListeners(g):arrayClone(g,g.length)}EventEmitter.prototype.listeners=function a(s){return _listeners(this,s,!0)};EventEmitter.prototype.rawListeners=function a(s){return _listeners(this,s,!1)};EventEmitter.listenerCount=function(a,s){return typeof a.listenerCount=="function"?a.listenerCount(s):listenerCount.call(a,s)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(a){var s=this._events;if(s!==void 0){var d=s[a];if(typeof d=="function")return 1;if(d!==void 0)return d.length}return 0}EventEmitter.prototype.eventNames=function a(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(a,s){for(var d=new Array(s),c=0;c<s;++c)d[c]=a[c];return d}function spliceOne(a,s){for(;s+1<a.length;s++)a[s]=a[s+1];a.pop()}function unwrapListeners(a){for(var s=new Array(a.length),d=0;d<s.length;++d)s[d]=a[d].listener||a[d];return s}function once(a,s){return new Promise(function(d,c){function g(b){a.removeListener(s,_),c(b)}function _(){typeof a.removeListener=="function"&&a.removeListener("error",g),d([].slice.call(arguments))}eventTargetAgnosticAddListener(a,s,_,{once:!0}),s!=="error"&&addErrorHandlerIfEventEmitter(a,g,{once:!0})})}function addErrorHandlerIfEventEmitter(a,s,d){typeof a.on=="function"&&eventTargetAgnosticAddListener(a,"error",s,d)}function eventTargetAgnosticAddListener(a,s,d,c){if(typeof a.on=="function")c.once?a.once(s,d):a.on(s,d);else if(typeof a.addEventListener=="function")a.addEventListener(s,function g(_){c.once&&a.removeEventListener(s,g),d(_)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}var utils$f={},uaParser={exports:{}};(function(a,s){(function(d,c){var g="1.0.2",_="",b="?",$="function",tt="undefined",nt="object",ot="string",dt="major",ut="model",lt="name",Tt="type",yt="vendor",pt="version",vt="architecture",it="console",ct="mobile",mt="tablet",Nt="smarttv",Ot="wearable",At="embedded",Pt=255,St="Amazon",Ct="Apple",$t="ASUS",gt="BlackBerry",It="Browser",Rt="Chrome",zt="Edge",Ut="Firefox",Dt="Google",qt="Huawei",Kt="LG",Qt="Microsoft",Ht="Motorola",j="Opera",rt="Samsung",ht="Sony",Vt="Xiaomi",at="Zebra",_t="Facebook",Lt=function(Yt,sn){var nn={};for(var pn in Yt)sn[pn]&&sn[pn].length%2===0?nn[pn]=sn[pn].concat(Yt[pn]):nn[pn]=Yt[pn];return nn},Wt=function(Yt){for(var sn={},nn=0;nn<Yt.length;nn++)sn[Yt[nn].toUpperCase()]=Yt[nn];return sn},Ft=function(Yt,sn){return typeof Yt===ot?jt(sn).indexOf(jt(Yt))!==-1:!1},jt=function(Yt){return Yt.toLowerCase()},tn=function(Yt){return typeof Yt===ot?Yt.replace(/[^\d\.]/g,_).split(".")[0]:c},ln=function(Yt,sn){if(typeof Yt===ot)return Yt=Yt.replace(/^\s\s*/,_).replace(/\s\s*$/,_),typeof sn===tt?Yt:Yt.substring(0,Pt)},rn=function(Yt,sn){for(var nn=0,pn,Zt,Dn,dn,Ln,Sn;nn<sn.length&&!Ln;){var $n=sn[nn],Vn=sn[nn+1];for(pn=Zt=0;pn<$n.length&&!Ln;)if(Ln=$n[pn++].exec(Yt),Ln)for(Dn=0;Dn<Vn.length;Dn++)Sn=Ln[++Zt],dn=Vn[Dn],typeof dn===nt&&dn.length>0?dn.length===2?typeof dn[1]==$?this[dn[0]]=dn[1].call(this,Sn):this[dn[0]]=dn[1]:dn.length===3?typeof dn[1]===$&&!(dn[1].exec&&dn[1].test)?this[dn[0]]=Sn?dn[1].call(this,Sn,dn[2]):c:this[dn[0]]=Sn?Sn.replace(dn[1],dn[2]):c:dn.length===4&&(this[dn[0]]=Sn?dn[3].call(this,Sn.replace(dn[1],dn[2])):c):this[dn]=Sn||c;nn+=2}},en=function(Yt,sn){for(var nn in sn)if(typeof sn[nn]===nt&&sn[nn].length>0){for(var pn=0;pn<sn[nn].length;pn++)if(Ft(sn[nn][pn],Yt))return nn===b?c:nn}else if(Ft(sn[nn],Yt))return nn===b?c:nn;return Yt},fn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},On={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Xt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[pt,[lt,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[pt,[lt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[lt,pt],[/opios[\/ ]+([\w\.]+)/i],[pt,[lt,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[pt,[lt,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[lt,pt],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[pt,[lt,"UC"+It]],[/\bqbcore\/([\w\.]+)/i],[pt,[lt,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[pt,[lt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[pt,[lt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[pt,[lt,"IE"]],[/yabrowser\/([\w\.]+)/i],[pt,[lt,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[lt,/(.+)/,"$1 Secure "+It],pt],[/\bfocus\/([\w\.]+)/i],[pt,[lt,Ut+" Focus"]],[/\bopt\/([\w\.]+)/i],[pt,[lt,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[pt,[lt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[pt,[lt,"Dolphin"]],[/coast\/([\w\.]+)/i],[pt,[lt,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[pt,[lt,"MIUI "+It]],[/fxios\/([-\w\.]+)/i],[pt,[lt,Ut]],[/\bqihu|(qi?ho?o?|360)browser/i],[[lt,"360 "+It]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[lt,/(.+)/,"$1 "+It],pt],[/(comodo_dragon)\/([\w\.]+)/i],[[lt,/_/g," "],pt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[lt,pt],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[lt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[lt,_t],pt],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[lt,pt],[/\bgsa\/([\w\.]+) .*safari\//i],[pt,[lt,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[pt,[lt,Rt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[lt,Rt+" WebView"],pt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[pt,[lt,"Android "+It]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[lt,pt],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[pt,[lt,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[pt,lt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[lt,[pt,en,fn]],[/(webkit|khtml)\/([\w\.]+)/i],[lt,pt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[lt,"Netscape"],pt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[pt,[lt,Ut+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[lt,pt]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[vt,"amd64"]],[/(ia32(?=;))/i],[[vt,jt]],[/((?:i[346]|x)86)[;\)]/i],[[vt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[vt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[vt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[vt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[vt,/ower/,_,jt]],[/(sun4\w)[;\)]/i],[[vt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[vt,jt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ut,[yt,rt],[Tt,mt]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[ut,[yt,rt],[Tt,ct]],[/\((ip(?:hone|od)[\w ]*);/i],[ut,[yt,Ct],[Tt,ct]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[ut,[yt,Ct],[Tt,mt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[ut,[yt,qt],[Tt,mt]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[ut,[yt,qt],[Tt,ct]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[ut,/_/g," "],[yt,Vt],[Tt,ct]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[ut,/_/g," "],[yt,Vt],[Tt,mt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ut,[yt,"OPPO"],[Tt,ct]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ut,[yt,"Vivo"],[Tt,ct]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[ut,[yt,"Realme"],[Tt,ct]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[ut,[yt,Ht],[Tt,ct]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ut,[yt,Ht],[Tt,mt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ut,[yt,Kt],[Tt,mt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[ut,[yt,Kt],[Tt,ct]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[ut,[yt,"Lenovo"],[Tt,mt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[ut,/_/g," "],[yt,"Nokia"],[Tt,ct]],[/(pixel c)\b/i],[ut,[yt,Dt],[Tt,mt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[ut,[yt,Dt],[Tt,ct]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ut,[yt,ht],[Tt,ct]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ut,"Xperia Tablet"],[yt,ht],[Tt,mt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ut,[yt,"OnePlus"],[Tt,ct]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ut,[yt,St],[Tt,mt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ut,/(.+)/g,"Fire Phone $1"],[yt,St],[Tt,ct]],[/(playbook);[-\w\),; ]+(rim)/i],[ut,yt,[Tt,mt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[ut,[yt,gt],[Tt,ct]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ut,[yt,$t],[Tt,mt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ut,[yt,$t],[Tt,ct]],[/(nexus 9)/i],[ut,[yt,"HTC"],[Tt,mt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[yt,[ut,/_/g," "],[Tt,ct]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ut,[yt,"Acer"],[Tt,mt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ut,[yt,"Meizu"],[Tt,ct]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ut,[yt,"Sharp"],[Tt,ct]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[yt,ut,[Tt,ct]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[yt,ut,[Tt,mt]],[/(surface duo)/i],[ut,[yt,Qt],[Tt,mt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ut,[yt,"Fairphone"],[Tt,ct]],[/(u304aa)/i],[ut,[yt,"AT&T"],[Tt,ct]],[/\bsie-(\w*)/i],[ut,[yt,"Siemens"],[Tt,ct]],[/\b(rct\w+) b/i],[ut,[yt,"RCA"],[Tt,mt]],[/\b(venue[\d ]{2,7}) b/i],[ut,[yt,"Dell"],[Tt,mt]],[/\b(q(?:mv|ta)\w+) b/i],[ut,[yt,"Verizon"],[Tt,mt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[ut,[yt,"Barnes & Noble"],[Tt,mt]],[/\b(tm\d{3}\w+) b/i],[ut,[yt,"NuVision"],[Tt,mt]],[/\b(k88) b/i],[ut,[yt,"ZTE"],[Tt,mt]],[/\b(nx\d{3}j) b/i],[ut,[yt,"ZTE"],[Tt,ct]],[/\b(gen\d{3}) b.+49h/i],[ut,[yt,"Swiss"],[Tt,ct]],[/\b(zur\d{3}) b/i],[ut,[yt,"Swiss"],[Tt,mt]],[/\b((zeki)?tb.*\b) b/i],[ut,[yt,"Zeki"],[Tt,mt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[yt,"Dragon Touch"],ut,[Tt,mt]],[/\b(ns-?\w{0,9}) b/i],[ut,[yt,"Insignia"],[Tt,mt]],[/\b((nxa|next)-?\w{0,9}) b/i],[ut,[yt,"NextBook"],[Tt,mt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[yt,"Voice"],ut,[Tt,ct]],[/\b(lvtel\-)?(v1[12]) b/i],[[yt,"LvTel"],ut,[Tt,ct]],[/\b(ph-1) /i],[ut,[yt,"Essential"],[Tt,ct]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[ut,[yt,"Envizen"],[Tt,mt]],[/\b(trio[-\w\. ]+) b/i],[ut,[yt,"MachSpeed"],[Tt,mt]],[/\btu_(1491) b/i],[ut,[yt,"Rotor"],[Tt,mt]],[/(shield[\w ]+) b/i],[ut,[yt,"Nvidia"],[Tt,mt]],[/(sprint) (\w+)/i],[yt,ut,[Tt,ct]],[/(kin\.[onetw]{3})/i],[[ut,/\./g," "],[yt,Qt],[Tt,ct]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ut,[yt,at],[Tt,mt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ut,[yt,at],[Tt,ct]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[yt,ut,[Tt,it]],[/droid.+; (shield) bui/i],[ut,[yt,"Nvidia"],[Tt,it]],[/(playstation [345portablevi]+)/i],[ut,[yt,ht],[Tt,it]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ut,[yt,Qt],[Tt,it]],[/smart-tv.+(samsung)/i],[yt,[Tt,Nt]],[/hbbtv.+maple;(\d+)/i],[[ut,/^/,"SmartTV"],[yt,rt],[Tt,Nt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[yt,Kt],[Tt,Nt]],[/(apple) ?tv/i],[yt,[ut,Ct+" TV"],[Tt,Nt]],[/crkey/i],[[ut,Rt+"cast"],[yt,Dt],[Tt,Nt]],[/droid.+aft(\w)( bui|\))/i],[ut,[yt,St],[Tt,Nt]],[/\(dtv[\);].+(aquos)/i],[ut,[yt,"Sharp"],[Tt,Nt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[yt,ln],[ut,ln],[Tt,Nt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[Tt,Nt]],[/((pebble))app/i],[yt,ut,[Tt,Ot]],[/droid.+; (glass) \d/i],[ut,[yt,Dt],[Tt,Ot]],[/droid.+; (wt63?0{2,3})\)/i],[ut,[yt,at],[Tt,Ot]],[/(quest( 2)?)/i],[ut,[yt,_t],[Tt,Ot]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[yt,[Tt,At]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[ut,[Tt,ct]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[ut,[Tt,mt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[Tt,mt]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[Tt,ct]],[/(android[-\w\. ]{0,9});.+buil/i],[ut,[yt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[pt,[lt,zt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[pt,[lt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[lt,pt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[pt,lt]],os:[[/microsoft (windows) (vista|xp)/i],[lt,pt],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[lt,[pt,en,On]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[lt,"Windows"],[pt,en,On]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[pt,/_/g,"."],[lt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[lt,"Mac OS"],[pt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[pt,lt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[lt,pt],[/\(bb(10);/i],[pt,[lt,gt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[pt,[lt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[pt,[lt,Ut+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[pt,[lt,"webOS"]],[/crkey\/([\d\.]+)/i],[pt,[lt,Rt+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[lt,"Chromium OS"],pt],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[lt,pt],[/(sunos) ?([\w\.\d]*)/i],[[lt,"Solaris"],pt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[lt,pt]]},kn=function(Yt,sn){if(typeof Yt===nt&&(sn=Yt,Yt=c),!(this instanceof kn))return new kn(Yt,sn).getResult();var nn=Yt||(typeof d!==tt&&d.navigator&&d.navigator.userAgent?d.navigator.userAgent:_),pn=sn?Lt(Xt,sn):Xt;return this.getBrowser=function(){var Zt={};return Zt[lt]=c,Zt[pt]=c,rn.call(Zt,nn,pn.browser),Zt.major=tn(Zt.version),Zt},this.getCPU=function(){var Zt={};return Zt[vt]=c,rn.call(Zt,nn,pn.cpu),Zt},this.getDevice=function(){var Zt={};return Zt[yt]=c,Zt[ut]=c,Zt[Tt]=c,rn.call(Zt,nn,pn.device),Zt},this.getEngine=function(){var Zt={};return Zt[lt]=c,Zt[pt]=c,rn.call(Zt,nn,pn.engine),Zt},this.getOS=function(){var Zt={};return Zt[lt]=c,Zt[pt]=c,rn.call(Zt,nn,pn.os),Zt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return nn},this.setUA=function(Zt){return nn=typeof Zt===ot&&Zt.length>Pt?ln(Zt,Pt):Zt,this},this.setUA(nn),this};kn.VERSION=g,kn.BROWSER=Wt([lt,pt,dt]),kn.CPU=Wt([vt]),kn.DEVICE=Wt([ut,yt,Tt,it,ct,Nt,mt,Ot,At]),kn.ENGINE=kn.OS=Wt([lt,pt]),a.exports&&(s=a.exports=kn),s.UAParser=kn;var An=typeof d!==tt&&(d.jQuery||d.Zepto);if(An&&!An.ua){var Mn=new kn;An.ua=Mn.getResult(),An.ua.get=function(){return Mn.getUA()},An.ua.set=function(Yt){Mn.setUA(Yt);var sn=Mn.getResult();for(var nn in sn)An.ua[nn]=sn[nn]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var version$1={};Object.defineProperty(version$1,"__esModule",{value:!0});version$1.protocolVersion=version$1.version=void 0;version$1.version="0.15.4";version$1.protocolVersion=5;var __awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(utils$f,"__esModule",{value:!0});utils$f.getClientInfo=utils$f.getIntersectionObserver=utils$f.getResizeObserver=utils$f.isFireFox=utils$f.sleep=utils$f.unpackStreamId=void 0;const ua_parser_js_1=__importDefault$c(uaParser.exports),livekit_models_1$3=livekit_models$1,version_1=version$1,separator="|";function unpackStreamId(a){const s=a.split(separator);return s.length>1?[s[0],a.substr(s[0].length+1)]:[a,""]}utils$f.unpackStreamId=unpackStreamId;function sleep(a){return __awaiter$b(this,void 0,void 0,function*(){return new Promise(s=>setTimeout(s,a))})}utils$f.sleep=sleep;function isFireFox(){return navigator.userAgent.indexOf("Firefox")!==-1}utils$f.isFireFox=isFireFox;function roDispatchCallback(a){for(const s of a)s.target.handleResize(s)}function ioDispatchCallback(a){for(const s of a)s.target.handleVisibilityChanged(s)}let resizeObserver=null;const getResizeObserver=()=>(resizeObserver||(resizeObserver=new ResizeObserver(roDispatchCallback)),resizeObserver);utils$f.getResizeObserver=getResizeObserver;let intersectionObserver=null;const getIntersectionObserver=()=>(intersectionObserver||(intersectionObserver=new IntersectionObserver(ioDispatchCallback)),intersectionObserver);utils$f.getIntersectionObserver=getIntersectionObserver;function getClientInfo(){const a=ua_parser_js_1.default(navigator.userAgent),s=livekit_models_1$3.ClientInfo.fromPartial({sdk:livekit_models_1$3.ClientInfo_SDK.JS,protocol:version_1.protocolVersion,version:version_1.version,os:a.os.name,osVersion:a.os.version,browser:a.browser.name,browserVersion:a.browser.version});let d="";return a.device.vendor&&(d+=a.device.vendor),a.device.model&&(d&&(d+=" "),d+=a.device.model),d&&(s.deviceModel=d),s}utils$f.getClientInfo=getClientInfo;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.detachTrack=a.attachToElement=a.Track=void 0;const s=events.exports,d=livekit_models$1,c=livekit_rtc,g=events$1,_=utils$f,b=[];class $ extends s.EventEmitter{constructor(dt,ut){super(),this.attachedElements=[],this.isMuted=!1,this.streamState=$.StreamState.Active,this._currentBitrate=0,this.kind=ut,this.mediaStreamTrack=dt,this.source=$.Source.Unknown}get currentBitrate(){return this._currentBitrate}attach(dt){let ut="audio";return this.kind===$.Kind.Video&&(ut="video"),dt||(ut==="audio"&&(b.forEach(lt=>{lt.parentElement===null&&!dt&&(dt=lt)}),dt&&b.splice(b.indexOf(dt),1)),dt||(dt=document.createElement(ut))),dt instanceof HTMLVideoElement&&(dt.playsInline=!0,dt.autoplay=!0),this.attachedElements.includes(dt)||(tt(this.mediaStreamTrack,dt),this.attachedElements.push(dt),dt instanceof HTMLAudioElement&&dt.play().then(()=>{this.emit(g.TrackEvent.AudioPlaybackStarted)}).catch(lt=>{this.emit(g.TrackEvent.AudioPlaybackFailed,lt)})),dt}detach(dt){if(dt){nt(this.mediaStreamTrack,dt);const lt=this.attachedElements.indexOf(dt);return lt>=0&&(this.attachedElements.splice(lt,1),this.recycleElement(dt)),dt}const ut=[];return this.attachedElements.forEach(lt=>{nt(this.mediaStreamTrack,lt),ut.push(lt),this.recycleElement(lt)}),this.attachedElements=[],ut}stop(){this.mediaStreamTrack.stop()}enable(){this.mediaStreamTrack.enabled=!0}disable(){this.mediaStreamTrack.enabled=!1}recycleElement(dt){if(dt instanceof HTMLAudioElement){let ut=!0;dt.pause(),b.forEach(lt=>{lt.parentElement||(ut=!1)}),ut&&b.push(dt)}}}a.Track=$;function tt(ot,dt){let ut;dt.srcObject instanceof MediaStream?ut=dt.srcObject:(ut=new MediaStream,dt.srcObject=ut);let lt;ot.kind==="audio"?lt=ut.getAudioTracks():lt=ut.getVideoTracks(),lt.forEach(Tt=>{ut.removeTrack(Tt)}),ut.addTrack(ot),_.isFireFox()&&setTimeout(()=>{dt.srcObject=ut},1)}a.attachToElement=tt;function nt(ot,dt){dt.srcObject instanceof MediaStream&&(dt.srcObject.removeTrack(ot),dt.srcObject=null)}a.detachTrack=nt,function(ot){let dt;(function(ct){ct.Audio="audio",ct.Video="video",ct.Unknown="unknown"})(dt=ot.Kind||(ot.Kind={}));let ut;(function(ct){ct.Camera="camera",ct.Microphone="microphone",ct.ScreenShare="screen_share",ct.ScreenShareAudio="screen_share_audio",ct.Unknown="unknown"})(ut=ot.Source||(ot.Source={}));let lt;(function(ct){ct.Active="active",ct.Paused="paused",ct.Unknown="unknown"})(lt=ot.StreamState||(ot.StreamState={}));function Tt(ct){switch(ct){case dt.Audio:return d.TrackType.AUDIO;case dt.Video:return d.TrackType.VIDEO;default:return d.TrackType.UNRECOGNIZED}}ot.kindToProto=Tt;function yt(ct){switch(ct){case d.TrackType.AUDIO:return dt.Audio;case d.TrackType.VIDEO:return dt.Video;default:return dt.Unknown}}ot.kindFromProto=yt;function pt(ct){switch(ct){case ut.Camera:return d.TrackSource.CAMERA;case ut.Microphone:return d.TrackSource.MICROPHONE;case ut.ScreenShare:return d.TrackSource.SCREEN_SHARE;case ut.ScreenShareAudio:return d.TrackSource.SCREEN_SHARE_AUDIO;default:return d.TrackSource.UNRECOGNIZED}}ot.sourceToProto=pt;function vt(ct){switch(ct){case d.TrackSource.CAMERA:return ut.Camera;case d.TrackSource.MICROPHONE:return ut.Microphone;case d.TrackSource.SCREEN_SHARE:return ut.ScreenShare;case d.TrackSource.SCREEN_SHARE_AUDIO:return ut.ScreenShareAudio;default:return ut.Unknown}}ot.sourceFromProto=vt;function it(ct){switch(ct){case c.StreamState.ACTIVE:return lt.Active;case c.StreamState.PAUSED:return lt.Paused;default:return lt.Unknown}}ot.streamStateFromProto=it}($=a.Track||(a.Track={}))})(Track);var __awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(LocalTrack$1,"__esModule",{value:!0});const logger_1$7=__importDefault$b(logger),DeviceManager_1=__importDefault$b(DeviceManager$1),errors_1$3=errors,events_1$6=events$1,Track_1$8=Track;class LocalTrack extends Track_1$8.Track{constructor(s,d,c){super(s,d),this.handleEnded=()=>{this.emit(events_1$6.TrackEvent.Ended,this)},this.mediaStreamTrack.addEventListener("ended",this.handleEnded),this.constraints=c!=null?c:s.getConstraints()}get id(){return this.mediaStreamTrack.id}get dimensions(){if(this.kind!==Track_1$8.Track.Kind.Video)return;const{width:s,height:d}=this.mediaStreamTrack.getSettings();if(s&&d)return{width:s,height:d}}getDeviceId(){return __awaiter$a(this,void 0,void 0,function*(){if(this.source===Track_1$8.Track.Source.ScreenShare)return;const{deviceId:s,groupId:d}=this.mediaStreamTrack.getSettings(),c=this.kind===Track_1$8.Track.Kind.Audio?"audioinput":"videoinput";return DeviceManager_1.default.getInstance().normalizeDeviceId(c,s,d)})}mute(){return __awaiter$a(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return __awaiter$a(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}restart(s){return __awaiter$a(this,void 0,void 0,function*(){if(!this.sender)throw new errors_1$3.TrackInvalidError("unable to restart an unpublished track");s||(s=this.constraints),logger_1$7.default.debug("restarting track with constraints",s);const d={audio:!1,video:!1};this.kind===Track_1$8.Track.Kind.Video?d.video=s:d.audio=s,this.attachedElements.forEach(_=>{Track_1$8.detachTrack(this.mediaStreamTrack,_)}),this.mediaStreamTrack.removeEventListener("ended",this.handleEnded),this.mediaStreamTrack.stop();const g=(yield navigator.mediaDevices.getUserMedia(d)).getTracks()[0];return g.addEventListener("ended",this.handleEnded),logger_1$7.default.debug("re-acquired MediaStreamTrack"),yield this.sender.replaceTrack(g),this.mediaStreamTrack=g,this.attachedElements.forEach(_=>{Track_1$8.attachToElement(g,_)}),this.constraints=s,this})}setTrackMuted(s){this.isMuted!==s&&(this.isMuted=s,this.mediaStreamTrack.enabled=!s,this.emit(s?events_1$6.TrackEvent.Muted:events_1$6.TrackEvent.Unmuted,this))}}LocalTrack$1.default=LocalTrack;var utils$e={};Object.defineProperty(utils$e,"__esModule",{value:!0});utils$e.constraintsForOptions=utils$e.mergeDefaultOptions=void 0;function mergeDefaultOptions(a,s,d){const c=Object.assign({},a);return c.audio===!0&&(c.audio={}),c.video===!0&&(c.video={}),c.audio&&mergeObjectWithoutOverwriting(c.audio,s),c.video&&mergeObjectWithoutOverwriting(c.video,d),c}utils$e.mergeDefaultOptions=mergeDefaultOptions;function mergeObjectWithoutOverwriting(a,s){return Object.keys(s).forEach(d=>{a[d]===void 0&&(a[d]=s[d])}),a}function constraintsForOptions(a){const s={};if(a.video)if(typeof a.video=="object"){const d={},c=d,g=a.video;Object.keys(g).forEach(_=>{switch(_){case"resolution":mergeObjectWithoutOverwriting(c,g.resolution);break;default:c[_]=g[_]}}),s.video=d}else s.video=a.video;else s.video=!1;return a.audio?typeof a.audio=="object"?s.audio=a.audio:s.audio=!0:s.audio=!1,s}utils$e.constraintsForOptions=constraintsForOptions;var __awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(LocalAudioTrack$1,"__esModule",{value:!0});const logger_1$6=__importDefault$a(logger),stats_1$4=stats,LocalTrack_1$1=__importDefault$a(LocalTrack$1),Track_1$7=Track,utils_1$5=utils$e;class LocalAudioTrack extends LocalTrack_1$1.default{constructor(s,d){super(s,Track_1$7.Track.Kind.Audio,d),this.stopOnMute=!1,this.monitorSender=()=>__awaiter$9(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}const c=yield this.getSenderStats();c&&this.prevStats&&(this._currentBitrate=stats_1$4.computeBitrate(c,this.prevStats)),this.prevStats=c,setTimeout(()=>{this.monitorSender()},stats_1$4.monitorFrequency)})}setDeviceId(s){return __awaiter$9(this,void 0,void 0,function*(){this.constraints.deviceId!==s&&(this.constraints.deviceId=s,this.isMuted||(yield this.restartTrack()))})}mute(){const s=Object.create(null,{mute:{get:()=>super.mute}});return __awaiter$9(this,void 0,void 0,function*(){return this.source===Track_1$7.Track.Source.Microphone&&this.stopOnMute&&(logger_1$6.default.debug("stopping mic track"),this.mediaStreamTrack.stop()),yield s.mute.call(this),this})}unmute(){const s=Object.create(null,{unmute:{get:()=>super.unmute}});return __awaiter$9(this,void 0,void 0,function*(){return this.source===Track_1$7.Track.Source.Microphone&&this.stopOnMute&&(logger_1$6.default.debug("reacquiring mic track"),yield this.restartTrack()),yield s.unmute.call(this),this})}restartTrack(s){return __awaiter$9(this,void 0,void 0,function*(){let d;if(s){const c=utils_1$5.constraintsForOptions({audio:s});typeof c.audio!="boolean"&&(d=c.audio)}yield this.restart(d)})}startMonitor(){setTimeout(()=>{this.monitorSender()},stats_1$4.monitorFrequency)}getSenderStats(){return __awaiter$9(this,void 0,void 0,function*(){if(!this.sender)return;const s=yield this.sender.getStats();let d;return s.forEach(c=>{c.type==="outbound-rtp"&&(d={type:"audio",streamId:c.id,packetsSent:c.packetsSent,packetsLost:c.packetsLost,bytesSent:c.bytesSent,timestamp:c.timestamp,roundTripTime:c.roundTripTime,jitter:c.jitter})}),d})}}LocalAudioTrack$1.default=LocalAudioTrack;var LocalTrackPublication$1={},TrackPublication={},LocalVideoTrack$1={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(LocalVideoTrack$1,"__esModule",{value:!0});LocalVideoTrack$1.videoLayersFromEncodings=LocalVideoTrack$1.videoQualityForRid=void 0;const logger_1$5=__importDefault$9(logger),livekit_models_1$2=livekit_models$1,stats_1$3=stats,utils_1$4=utils$f,LocalTrack_1=__importDefault$9(LocalTrack$1),Track_1$6=Track,utils_2=utils$e,QUALITY_UPGRADE_DELAY=60*1e3,QUALITY_DOWNGRADE_DELAY=5*1e3,ridOrder=["q","h","f"];class LocalVideoTrack extends LocalTrack_1.default{constructor(s,d){super(s,Track_1$6.Track.Kind.Video,d),this.monitorSender=c=>__awaiter$8(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}const g=yield this.getSenderStats(),_=new Map(g.map(b=>[b.rid,b]));if(!c&&this.prevStats&&this.isSimulcast&&this.checkAndUpdateSimulcast(_),this.prevStats){let b=0;_.forEach(($,tt)=>{var nt;const ot=(nt=this.prevStats)===null||nt===void 0?void 0:nt.get(tt);b+=stats_1$3.computeBitrate($,ot)}),this._currentBitrate=b}this.prevStats=_,setTimeout(()=>{this.monitorSender(c)},stats_1$3.monitorFrequency)})}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(s,d){var c;this.signalClient=s;const g=(c=this.sender)===null||c===void 0?void 0:c.getParameters();g&&(this.encodings=g.encodings),setTimeout(()=>{this.monitorSender(d)},stats_1$3.monitorFrequency)}stop(){this.sender=void 0,this.mediaStreamTrack.getConstraints(),super.stop()}mute(){const s=Object.create(null,{mute:{get:()=>super.mute}});return __awaiter$8(this,void 0,void 0,function*(){return this.source===Track_1$6.Track.Source.Camera&&(logger_1$5.default.debug("stopping camera track"),this.mediaStreamTrack.stop()),yield s.mute.call(this),this})}unmute(){const s=Object.create(null,{unmute:{get:()=>super.unmute}});return __awaiter$8(this,void 0,void 0,function*(){return this.source===Track_1$6.Track.Source.Camera&&(logger_1$5.default.debug("reacquiring camera track"),yield this.restartTrack()),yield s.unmute.call(this),this})}getSenderStats(){return __awaiter$8(this,void 0,void 0,function*(){if(!this.sender)return[];const s=[],d=yield this.sender.getStats();return d.forEach(c=>{var g;if(c.type==="outbound-rtp"){const _={type:"video",streamId:c.id,frameHeight:c.frameHeight,frameWidth:c.frameWidth,firCount:c.firCount,pliCount:c.pliCount,nackCount:c.nackCount,packetsSent:c.packetsSent,bytesSent:c.bytesSent,framesSent:c.framesSent,timestamp:c.timestamp,rid:(g=c.rid)!==null&&g!==void 0?g:"",retransmittedPacketsSent:c.retransmittedPacketsSent,qualityLimitationReason:c.qualityLimitationReason,qualityLimitationResolutionChanges:c.qualityLimitationResolutionChanges},b=d.get(c.remoteId);b&&(_.jitter=b.jitter,_.packetsLost=b.packetsLost,_.roundTripTime=b.roundTripTime),s.push(_)}}),s})}setPublishingQuality(s){const d=[];for(let c=livekit_models_1$2.VideoQuality.LOW;c<=livekit_models_1$2.VideoQuality.HIGH;c+=1)d.push({quality:c,enabled:c<=s});logger_1$5.default.debug("setting publishing quality. max quality",s),this.setPublishingLayers(d)}setDeviceId(s){return __awaiter$8(this,void 0,void 0,function*(){this.constraints.deviceId!==s&&(this.constraints.deviceId=s,this.isMuted||(yield this.restartTrack()))})}restartTrack(s){return __awaiter$8(this,void 0,void 0,function*(){let d;if(s){const c=utils_2.constraintsForOptions({video:s});typeof c.video!="boolean"&&(d=c.video)}yield this.restart(d)})}setPublishingLayers(s){return __awaiter$8(this,void 0,void 0,function*(){if(logger_1$5.default.debug("setting publishing layers",s),!this.sender||!this.encodings)return;const d=this.sender.getParameters(),{encodings:c}=d;if(!c)return;if(c.length!==this.encodings.length){logger_1$5.default.warn("cannot set publishing layers, encodings mismatch");return}this.activeQualities=s;let g=!1;c.forEach((_,b)=>{var $;let tt=($=_.rid)!==null&&$!==void 0?$:"";tt===""&&(tt="q");const nt=videoQualityForRid(tt),ot=s.find(dt=>dt.quality===nt);!ot||_.active!==ot.enabled&&(g=!0,_.active=ot.enabled,logger_1$5.default.debug(`setting layer ${ot.quality} to ${_.active?"enabled":"disabled"}`),utils_1$4.isFireFox()&&(ot.enabled?(_.scaleResolutionDownBy=this.encodings[b].scaleResolutionDownBy,_.maxBitrate=this.encodings[b].maxBitrate,_.maxFrameRate=this.encodings[b].maxFrameRate):(_.scaleResolutionDownBy=4,_.maxBitrate=10,_.maxFrameRate=2)))}),g&&(d.encodings=c,yield this.sender.setParameters(d))})}checkAndUpdateSimulcast(s){var d,c;if(!this.sender||this.isMuted||!this.encodings)return;let g;const{encodings:_}=this.sender.getParameters();if(_.forEach(ot=>{!ot.active||(g===void 0||g.rid&&ot.rid&&ridOrder.indexOf(g.rid)<ridOrder.indexOf(ot.rid)||g.maxBitrate!==void 0&&ot.maxBitrate!==void 0&&g.maxBitrate<ot.maxBitrate)&&(g=ot)}),!g)return;const b=(d=g.rid)!==null&&d!==void 0?d:"",$=s.get(b),tt=(c=this.prevStats)===null||c===void 0?void 0:c.get(b);if(!$||!tt)return;const nt=videoQualityForRid(b);if($.qualityLimitationResolutionChanges-tt.qualityLimitationResolutionChanges>0&&(this.lastQualityChange=new Date().getTime()),$.framesSent-tt.framesSent>0){if(nt===livekit_models_1$2.VideoQuality.HIGH||!this.lastQualityChange)return;const ot=nt+1;if(new Date().getTime()-this.lastQualityChange<QUALITY_UPGRADE_DELAY||this.activeQualities&&this.activeQualities.some(ut=>ut.quality===ot&&!ut.enabled))return;let dt=livekit_models_1$2.VideoQuality.LOW;if(_.forEach(ut=>{var lt;const Tt=videoQualityForRid((lt=ut.rid)!==null&&lt!==void 0?lt:"");Tt>dt&&(dt=Tt)}),ot>dt)return;logger_1$5.default.debug("upgrading video quality to",ot),this.setPublishingQuality(ot);return}$.framesSent!==0&&(this.lastExplicitQualityChange&&new Date().getTime()-this.lastExplicitQualityChange<QUALITY_DOWNGRADE_DELAY||nt!==livekit_models_1$2.VideoQuality.UNRECOGNIZED&&nt!==livekit_models_1$2.VideoQuality.LOW&&(logger_1$5.default.debug("downgrading video quality to",nt-1),this.setPublishingQuality(nt-1)))}}LocalVideoTrack$1.default=LocalVideoTrack;function videoQualityForRid(a){switch(a){case"f":return livekit_models_1$2.VideoQuality.HIGH;case"h":return livekit_models_1$2.VideoQuality.MEDIUM;case"q":return livekit_models_1$2.VideoQuality.LOW;default:return livekit_models_1$2.VideoQuality.UNRECOGNIZED}}LocalVideoTrack$1.videoQualityForRid=videoQualityForRid;function videoLayersFromEncodings(a,s,d){return d?d.map(c=>{var g,_,b;const $=(g=c.scaleResolutionDownBy)!==null&&g!==void 0?g:1;let tt=videoQualityForRid((_=c.rid)!==null&&_!==void 0?_:"");return tt===livekit_models_1$2.VideoQuality.UNRECOGNIZED&&d.length===1&&(tt=livekit_models_1$2.VideoQuality.HIGH),{quality:tt,width:a/$,height:s/$,bitrate:(b=c.maxBitrate)!==null&&b!==void 0?b:0,ssrc:0}}):[{quality:livekit_models_1$2.VideoQuality.HIGH,width:a,height:s,bitrate:0,ssrc:0}]}LocalVideoTrack$1.videoLayersFromEncodings=videoLayersFromEncodings;var RemoteAudioTrack$1={},RemoteTrack$1={};Object.defineProperty(RemoteTrack$1,"__esModule",{value:!0});const events_1$5=events$1,stats_1$2=stats,Track_1$5=Track;class RemoteTrack extends Track_1$5.Track{constructor(s,d,c,g){super(s,c),this.sid=d,this.receiver=g}setMuted(s){this.isMuted!==s&&(this.isMuted=s,this.emit(s?events_1$5.TrackEvent.Muted:events_1$5.TrackEvent.Unmuted,this))}setMediaStream(s){s.onremovetrack=()=>{this.receiver=void 0,this._currentBitrate=0,this.emit(events_1$5.TrackEvent.Ended,this)}}start(){this.startMonitor(),super.enable()}stop(){super.disable()}startMonitor(){setTimeout(()=>{this.monitorReceiver()},stats_1$2.monitorFrequency)}}RemoteTrack$1.default=RemoteTrack;var __awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(RemoteAudioTrack$1,"__esModule",{value:!0});const stats_1$1=stats,RemoteTrack_1$1=__importDefault$8(RemoteTrack$1),Track_1$4=Track;class RemoteAudioTrack extends RemoteTrack_1$1.default{constructor(s,d,c){super(s,d,Track_1$4.Track.Kind.Audio,c),this.monitorReceiver=()=>__awaiter$7(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const g=yield this.getReceiverStats();g&&this.prevStats&&this.receiver&&(this._currentBitrate=stats_1$1.computeBitrate(g,this.prevStats)),this.prevStats=g,setTimeout(()=>{this.monitorReceiver()},stats_1$1.monitorFrequency)})}getReceiverStats(){return __awaiter$7(this,void 0,void 0,function*(){if(!this.receiver)return;const s=yield this.receiver.getStats();let d;return s.forEach(c=>{c.type==="inbound-rtp"&&(d={type:"audio",timestamp:c.timestamp,jitter:c.jitter,bytesReceived:c.bytesReceived,concealedSamples:c.concealedSamples,concealmentEvents:c.concealmentEvents,silentConcealedSamples:c.silentConcealedSamples,silentConcealmentEvents:c.silentConcealmentEvents,totalAudioEnergy:c.totalAudioEnergy,totalSamplesDuration:c.totalSamplesDuration})}),d})}}RemoteAudioTrack$1.default=RemoteAudioTrack;var RemoteVideoTrack$1={};function r$2(a,s,d){var c,g,_;s===void 0&&(s=50),d===void 0&&(d={});var b=(c=d.isImmediate)!=null&&c,$=(g=d.callback)!=null&&g,tt=d.maxWait,nt=Date.now(),ot=[];function dt(){if(tt!==void 0){var lt=Date.now()-nt;if(lt+s>=tt)return tt-lt}return s}var ut=function(){var lt=[].slice.call(arguments),Tt=this;return new Promise(function(yt,pt){var vt=b&&_===void 0;if(_!==void 0&&clearTimeout(_),_=setTimeout(function(){if(_=void 0,nt=Date.now(),!b){var ct=a.apply(Tt,lt);$&&$(ct),ot.forEach(function(mt){return(0,mt.resolve)(ct)}),ot=[]}},dt()),vt){var it=a.apply(Tt,lt);return $&&$(it),yt(it)}ot.push({resolve:yt,reject:pt})})};return ut.cancel=function(lt){_!==void 0&&clearTimeout(_),ot.forEach(function(Tt){return(0,Tt.reject)(lt)}),ot=[]},ut}var index_esm=Object.freeze(Object.defineProperty({__proto__:null,debounce:r$2},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(index_esm),__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(RemoteVideoTrack$1,"__esModule",{value:!0});const ts_debounce_1$1=require$$0$1,events_1$4=events$1,stats_1=stats,utils_1$3=utils$f,RemoteTrack_1=__importDefault$7(RemoteTrack$1),Track_1$3=Track,REACTION_DELAY=100;class RemoteVideoTrack extends RemoteTrack_1.default{constructor(s,d,c,g){super(s,d,Track_1$3.Track.Kind.Video,c),this.elementInfos=[],this.monitorReceiver=()=>__awaiter$6(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const _=yield this.getReceiverStats();_&&this.prevStats&&this.receiver&&(this._currentBitrate=stats_1.computeBitrate(_,this.prevStats)),this.prevStats=_,setTimeout(()=>{this.monitorReceiver()},stats_1.monitorFrequency)}),this.handleVisibilityChanged=_=>{const{target:b,isIntersecting:$}=_,tt=this.elementInfos.find(nt=>nt.element===b);tt&&(tt.visible=$,tt.visibilityChangedAt=Date.now()),this.updateVisibility()},this.debouncedHandleResize=ts_debounce_1$1.debounce(()=>{this.updateDimensions()},REACTION_DELAY),this.adaptiveStream=g}get isAdaptiveStream(){var s;return(s=this.adaptiveStream)!==null&&s!==void 0?s:!1}setMuted(s){super.setMuted(s),this.attachedElements.forEach(d=>{s?Track_1$3.detachTrack(this.mediaStreamTrack,d):Track_1$3.attachToElement(this.mediaStreamTrack,d)})}attach(s){return s?super.attach(s):s=super.attach(),this.adaptiveStream&&(this.elementInfos.push({element:s,visible:!0}),s.handleResize=this.debouncedHandleResize,s.handleVisibilityChanged=this.handleVisibilityChanged,utils_1$3.getIntersectionObserver().observe(s),utils_1$3.getResizeObserver().observe(s)),s}detach(s){let d=[];if(s)return this.stopObservingElement(s),super.detach(s);d=super.detach();for(const c of d)this.stopObservingElement(c);return d}getReceiverStats(){return __awaiter$6(this,void 0,void 0,function*(){if(!this.receiver)return;const s=yield this.receiver.getStats();let d;return s.forEach(c=>{c.type==="inbound-rtp"&&(d={type:"video",framesDecoded:c.framesDecoded,framesDropped:c.framesDropped,framesReceived:c.framesReceived,packetsReceived:c.packetsReceived,packetsLost:c.packetsLost,frameWidth:c.frameWidth,frameHeight:c.frameHeight,pliCount:c.pliCount,firCount:c.firCount,nackCount:c.nackCount,jitter:c.jitter,timestamp:c.timestamp,bytesReceived:c.bytesReceived})}),d})}stopObservingElement(s){var d,c;(d=utils_1$3.getIntersectionObserver())===null||d===void 0||d.unobserve(s),(c=utils_1$3.getResizeObserver())===null||c===void 0||c.unobserve(s),this.elementInfos=this.elementInfos.filter(g=>g.element!==s)}updateVisibility(){const s=this.elementInfos.reduce((c,g)=>Math.max(c,g.visibilityChangedAt||0),0),d=this.elementInfos.some(c=>c.visible);if(this.lastVisible!==d){if(!d&&Date.now()-s<REACTION_DELAY){setTimeout(()=>{this.updateVisibility()},Date.now()-s);return}this.lastVisible=d,this.emit(events_1$4.TrackEvent.VisibilityChanged,d,this)}}updateDimensions(){var s,d;let c=0,g=0;for(const _ of this.elementInfos)_.visible&&_.element.clientWidth+_.element.clientHeight>c+g&&(c=_.element.clientWidth,g=_.element.clientHeight);((s=this.lastDimensions)===null||s===void 0?void 0:s.width)===c&&((d=this.lastDimensions)===null||d===void 0?void 0:d.height)===g||(this.lastDimensions={width:c,height:g},this.emit(events_1$4.TrackEvent.VideoDimensionsChanged,this.lastDimensions,this))}}RemoteVideoTrack$1.default=RemoteVideoTrack;(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(ot){return ot&&ot.__esModule?ot:{default:ot}};Object.defineProperty(a,"__esModule",{value:!0}),a.TrackPublication=void 0;const d=events.exports,c=events$1,g=s(LocalAudioTrack$1),_=s(LocalVideoTrack$1),b=s(RemoteAudioTrack$1),$=s(RemoteVideoTrack$1),tt=Track;class nt extends d.EventEmitter{constructor(dt,ut,lt){super(),this.metadataMuted=!1,this.handleMuted=()=>{this.emit(c.TrackEvent.Muted)},this.handleUnmuted=()=>{this.emit(c.TrackEvent.Unmuted)},this.kind=dt,this.trackSid=ut,this.trackName=lt,this.source=tt.Track.Source.Unknown}setTrack(dt){this.track&&(this.track.off(c.TrackEvent.Muted,this.handleMuted),this.track.off(c.TrackEvent.Unmuted,this.handleUnmuted)),this.track=dt,dt&&(dt.on(c.TrackEvent.Muted,this.handleMuted),dt.on(c.TrackEvent.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get audioTrack(){if(this.track instanceof g.default||this.track instanceof b.default)return this.track}get videoTrack(){if(this.track instanceof _.default||this.track instanceof $.default)return this.track}updateInfo(dt){this.trackSid=dt.sid,this.trackName=dt.name,this.source=tt.Track.sourceFromProto(dt.source),this.mimeType=dt.mimeType,this.kind===tt.Track.Kind.Video&&dt.width>0&&(this.dimensions={width:dt.width,height:dt.height},this.simulcasted=dt.simulcast),this.trackInfo=dt}}a.TrackPublication=nt,function(ot){(function(dt){dt.Subscribed="subscribed",dt.NotAllowed="not_allowed",dt.Unsubscribed="unsubscribed"})(ot.SubscriptionStatus||(ot.SubscriptionStatus={}))}(nt=a.TrackPublication||(a.TrackPublication={}))})(TrackPublication);var __awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})};Object.defineProperty(LocalTrackPublication$1,"__esModule",{value:!0});const events_1$3=events$1,TrackPublication_1$1=TrackPublication;class LocalTrackPublication extends TrackPublication_1$1.TrackPublication{constructor(s,d,c){super(s,d.sid,d.name),this.handleTrackEnded=g=>{this.emit(events_1$3.TrackEvent.Ended,g)},this.updateInfo(d),this.setTrack(c)}setTrack(s){this.track&&this.track.off(events_1$3.TrackEvent.Ended,this.handleTrackEnded),super.setTrack(s),s&&s.on(events_1$3.TrackEvent.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var s;return __awaiter$5(this,void 0,void 0,function*(){return(s=this.track)===null||s===void 0?void 0:s.mute()})}unmute(){var s;return __awaiter$5(this,void 0,void 0,function*(){return(s=this.track)===null||s===void 0?void 0:s.unmute()})}}LocalTrackPublication$1.default=LocalTrackPublication;var options$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenSharePresets=a.VideoPresets43=a.VideoPresets=a.AudioPresets=a.VideoPreset=void 0;class s{constructor(c,g,_,b){this.width=c,this.height=g,this.encoding={maxBitrate:_,maxFramerate:b}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}a.VideoPreset=s,function(d){d.telephone={maxBitrate:12e3},d.speech={maxBitrate:2e4},d.music={maxBitrate:32e3}}(a.AudioPresets||(a.AudioPresets={})),a.VideoPresets={qvga:new s(320,180,12e4,10),vga:new s(640,360,3e5,20),qhd:new s(960,540,6e5,25),hd:new s(1280,720,2e6,30),fhd:new s(1920,1080,3e6,30)},a.VideoPresets43={qvga:new s(240,180,9e4,10),vga:new s(480,360,225e3,20),qhd:new s(720,540,45e4,25),hd:new s(960,720,15e5,30),fhd:new s(1440,1080,28e5,30)},a.ScreenSharePresets={vga:new s(640,360,2e5,3),hd_8:new s(1280,720,4e5,5),hd_15:new s(1280,720,1e6,15),fhd_15:new s(1920,1080,15e5,15),fhd_30:new s(1920,1080,3e6,30)}})(options$1);var Participant={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ConnectionQuality=void 0;const s=events.exports,d=livekit_models$1,c=events$1,g=Track;var _;(function(tt){tt.Excellent="excellent",tt.Good="good",tt.Poor="poor",tt.Unknown="unknown"})(_=a.ConnectionQuality||(a.ConnectionQuality={}));function b(tt){switch(tt){case d.ConnectionQuality.EXCELLENT:return _.Excellent;case d.ConnectionQuality.GOOD:return _.Good;case d.ConnectionQuality.POOR:return _.Poor;default:return _.Unknown}}class $ extends s.EventEmitter{constructor(nt,ot){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=_.Unknown,this.sid=nt,this.identity=ot,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(nt){if(nt!==g.Track.Source.Unknown){for(const[,ot]of this.tracks)if(ot.source===nt||ot.source===g.Track.Source.Unknown&&(nt===g.Track.Source.Microphone&&ot.kind===g.Track.Kind.Audio&&ot.trackName!=="screen"||nt===g.Track.Source.Camera&&ot.kind===g.Track.Kind.Video&&ot.trackName!=="screen"||nt===g.Track.Source.ScreenShare&&ot.kind===g.Track.Kind.Video&&ot.trackName==="screen"||nt===g.Track.Source.ScreenShareAudio&&ot.kind===g.Track.Kind.Audio&&ot.trackName==="screen"))return ot}}getTrackByName(nt){for(const[,ot]of this.tracks)if(ot.trackName===nt)return ot}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var nt;const ot=this.getTrack(g.Track.Source.Camera);return!(!((nt=ot==null?void 0:ot.isMuted)!==null&&nt!==void 0)||nt)}get isMicrophoneEnabled(){var nt;const ot=this.getTrack(g.Track.Source.Microphone);return!(!((nt=ot==null?void 0:ot.isMuted)!==null&&nt!==void 0)||nt)}get isScreenShareEnabled(){return!!this.getTrack(g.Track.Source.ScreenShare)}get joinedAt(){return this.participantInfo?new Date(this.participantInfo.joinedAt*1e3):new Date}updateInfo(nt){this.identity=nt.identity,this.sid=nt.sid,this.name=nt.name,this.setMetadata(nt.metadata),this.participantInfo=nt}setMetadata(nt){const ot=!this.participantInfo||this.participantInfo.metadata!==nt,dt=this.metadata;this.metadata=nt,ot&&(this.emit(c.ParticipantEvent.MetadataChanged,dt,this),this.emit(c.ParticipantEvent.ParticipantMetadataChanged,dt,this))}setIsSpeaking(nt){nt!==this.isSpeaking&&(this.isSpeaking=nt,nt&&(this.lastSpokeAt=new Date),this.emit(c.ParticipantEvent.IsSpeakingChanged,nt))}setConnectionQuality(nt){const ot=this._connectionQuality;this._connectionQuality=b(nt),ot!==this._connectionQuality&&this.emit(c.ParticipantEvent.ConnectionQualityChanged,this._connectionQuality)}addTrackPublication(nt){nt.on(c.TrackEvent.Muted,()=>{this.emit(c.ParticipantEvent.TrackMuted,nt)}),nt.on(c.TrackEvent.Unmuted,()=>{this.emit(c.ParticipantEvent.TrackUnmuted,nt)});const ot=nt;switch(ot.track&&(ot.track.sid=nt.trackSid),this.tracks.set(nt.trackSid,nt),nt.kind){case g.Track.Kind.Audio:this.audioTracks.set(nt.trackSid,nt);break;case g.Track.Kind.Video:this.videoTracks.set(nt.trackSid,nt);break}}}a.default=$})(Participant);var ParticipantTrackPermission={};Object.defineProperty(ParticipantTrackPermission,"__esModule",{value:!0});ParticipantTrackPermission.trackPermissionToProto=void 0;function trackPermissionToProto(a){var s;if(!a.participantSid)throw new Error("Invalid track permission, missing participantSid");return{participantSid:a.participantSid,allTracks:(s=a.allowAll)!==null&&s!==void 0?s:!1,trackSids:a.allowedTrackSids||[]}}ParticipantTrackPermission.trackPermissionToProto=trackPermissionToProto;var publishUtils={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(a,"__esModule",{value:!0}),a.presetsForResolution=a.determineAppropriateEncoding=a.computeVideoEncodings=a.presetsScreenShare=a.presets43=a.presets169=a.mediaTrackToLocalTrack=void 0;const d=s(logger),c=errors,g=s(LocalAudioTrack$1),_=s(LocalVideoTrack$1),b=options$1;function $(lt,Tt){switch(lt.kind){case"audio":return new g.default(lt,Tt);case"video":return new _.default(lt,Tt);default:throw new c.TrackInvalidError(`unsupported track type: ${lt.kind}`)}}a.mediaTrackToLocalTrack=$,a.presets169=[b.VideoPresets.qvga,b.VideoPresets.vga,b.VideoPresets.qhd,b.VideoPresets.hd,b.VideoPresets.fhd],a.presets43=[b.VideoPresets43.qvga,b.VideoPresets43.vga,b.VideoPresets43.qhd,b.VideoPresets43.hd,b.VideoPresets43.fhd],a.presetsScreenShare=[b.ScreenSharePresets.vga,b.ScreenSharePresets.hd_8,b.ScreenSharePresets.hd_15,b.ScreenSharePresets.fhd_15,b.ScreenSharePresets.fhd_30];const tt=["q","h","f"];function nt(lt,Tt,yt,pt){let vt=pt==null?void 0:pt.videoEncoding;lt&&(vt=pt==null?void 0:pt.screenShareEncoding);const it=!lt&&(pt==null?void 0:pt.simulcast);if(!vt&&!it||!Tt||!yt)return[{}];if(vt||(vt=ot(lt,Tt,yt),d.default.debug("using video encoding",vt)),!it)return[vt];const ct=dt(lt,Tt,yt);let mt;const Nt=ct[0];ct.length>1&&([,mt]=ct);const Ot=new b.VideoPreset(Tt,yt,vt.maxBitrate,vt.maxFramerate),At=Math.max(Tt,yt);return At>=960&&mt?ut(Tt,yt,[Nt,mt,Ot]):At>=500?ut(Tt,yt,[Nt,Ot]):ut(Tt,yt,[Ot])}a.computeVideoEncodings=nt;function ot(lt,Tt,yt){const pt=dt(lt,Tt,yt);let{encoding:vt}=pt[0];const it=Math.max(Tt,yt);for(let ct=0;ct<pt.length;ct+=1){const mt=pt[ct];if(vt=mt.encoding,mt.width>=it)break}return vt}a.determineAppropriateEncoding=ot;function dt(lt,Tt,yt){if(lt)return a.presetsScreenShare;const pt=Tt>yt?Tt/yt:yt/Tt;return Math.abs(pt-16/9)<Math.abs(pt-4/3)?a.presets169:a.presets43}a.presetsForResolution=dt;function ut(lt,Tt,yt){const pt=[];return yt.forEach((vt,it)=>{if(it>=tt.length)return;const ct=Math.min(lt,Tt),mt=tt[it];pt.push({rid:mt,scaleResolutionDownBy:ct/Math.min(vt.width,vt.height),maxBitrate:vt.encoding.maxBitrate,maxFramerate:vt.encoding.maxFramerate})}),pt}})(publishUtils);var RemoteParticipant$1={},RemoteTrackPublication$1={},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(RemoteTrackPublication$1,"__esModule",{value:!0});const logger_1$4=__importDefault$6(logger),livekit_models_1$1=livekit_models$1,livekit_rtc_1$2=livekit_rtc,events_1$2=events$1,RemoteVideoTrack_1$1=__importDefault$6(RemoteVideoTrack$1),TrackPublication_1=TrackPublication;class RemoteTrackPublication extends TrackPublication_1.TrackPublication{constructor(){super(...arguments),this._allowed=!0,this.disabled=!1,this.currentVideoQuality=livekit_models_1$1.VideoQuality.HIGH,this.handleEnded=s=>{this.emit(events_1$2.TrackEvent.Ended,s)},this.handleVisibilityChange=s=>{logger_1$4.default.debug("adaptivestream video visibility",this.trackSid,`visible=${s}`),this.disabled=!s,this.emitTrackUpdate()},this.handleVideoDimensionsChange=s=>{logger_1$4.default.debug("adaptivestream video dimensions",this.trackSid,`${s.width}x${s.height}`),this.videoDimensions=s,this.emitTrackUpdate()}}setSubscribed(s){this.subscribed=s;const d={trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[]};this.emit(events_1$2.TrackEvent.UpdateSubscription,d)}get subscriptionStatus(){return this.subscribed===!1||!super.isSubscribed?TrackPublication_1.TrackPublication.SubscriptionStatus.Unsubscribed:this._allowed?TrackPublication_1.TrackPublication.SubscriptionStatus.Subscribed:TrackPublication_1.TrackPublication.SubscriptionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1||!this._allowed?!1:super.isSubscribed}get isEnabled(){return!this.disabled}setEnabled(s){!this.isManualOperationAllowed()||this.disabled===!s||(this.disabled=!s,this.emitTrackUpdate())}setVideoQuality(s){!this.isManualOperationAllowed()||this.currentVideoQuality===s||(this.currentVideoQuality=s,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(s){var d,c;!this.isManualOperationAllowed()||((d=this.videoDimensions)===null||d===void 0?void 0:d.width)===s.width&&((c=this.videoDimensions)===null||c===void 0?void 0:c.height)===s.height||(this.track instanceof RemoteVideoTrack_1$1.default&&(this.videoDimensions=s),this.currentVideoQuality=void 0,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(s){this.track&&(this.track.off(events_1$2.TrackEvent.VideoDimensionsChanged,this.handleVideoDimensionsChange),this.track.off(events_1$2.TrackEvent.VisibilityChanged,this.handleVisibilityChange),this.track.off(events_1$2.TrackEvent.Ended,this.handleEnded)),super.setTrack(s),s&&(s.sid=this.trackSid,s.on(events_1$2.TrackEvent.VideoDimensionsChanged,this.handleVideoDimensionsChange),s.on(events_1$2.TrackEvent.VisibilityChanged,this.handleVisibilityChange),s.on(events_1$2.TrackEvent.Ended,this.handleEnded))}updateInfo(s){var d;super.updateInfo(s),this.metadataMuted=s.muted,(d=this.track)===null||d===void 0||d.setMuted(s.muted)}isManualOperationAllowed(){return this.isAdaptiveStream?(logger_1$4.default.warn("adaptive stream is enabled, cannot change track settings",this.trackSid),!1):this.isSubscribed?!0:(logger_1$4.default.warn("cannot update track settings when not subscribed",this.trackSid),!1)}get isAdaptiveStream(){return this.track instanceof RemoteVideoTrack_1$1.default&&this.track.isAdaptiveStream}emitTrackUpdate(){const s=livekit_rtc_1$2.UpdateTrackSettings.fromPartial({trackSids:[this.trackSid],disabled:this.disabled});this.videoDimensions?(s.width=this.videoDimensions.width,s.height=this.videoDimensions.height):this.currentVideoQuality!==void 0?s.quality=this.currentVideoQuality:s.quality=livekit_models_1$1.VideoQuality.HIGH,this.emit(events_1$2.TrackEvent.UpdateSettings,s)}}RemoteTrackPublication$1.default=RemoteTrackPublication;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(RemoteParticipant$1,"__esModule",{value:!0});const logger_1$3=__importDefault$5(logger),events_1$1=events$1,RemoteAudioTrack_1=__importDefault$5(RemoteAudioTrack$1),RemoteTrackPublication_1=__importDefault$5(RemoteTrackPublication$1),RemoteVideoTrack_1=__importDefault$5(RemoteVideoTrack$1),Track_1$2=Track,Participant_1$1=__importDefault$5(Participant);class RemoteParticipant extends Participant_1$1.default{constructor(s,d,c){super(d,c||""),this.signalClient=s,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map}static fromParticipantInfo(s,d){const c=new RemoteParticipant(s,d.sid,d.identity);return c.updateInfo(d),c}addTrackPublication(s){super.addTrackPublication(s),s.on(events_1$1.TrackEvent.UpdateSettings,d=>{this.signalClient.sendUpdateTrackSettings(d)}),s.on(events_1$1.TrackEvent.UpdateSubscription,d=>{this.signalClient.sendUpdateSubscription(d)}),s.on(events_1$1.TrackEvent.Ended,d=>{this.emit(events_1$1.ParticipantEvent.TrackUnsubscribed,d,s)})}getTrack(s){const d=super.getTrack(s);if(d)return d}getTrackByName(s){const d=super.getTrackByName(s);if(d)return d}addSubscribedMediaTrack(s,d,c,g,_,b){let $=this.getTrackPublication(d);if($||d.startsWith("TR")||this.tracks.forEach(ot=>{!$&&s.kind===ot.kind.toString()&&($=ot)}),!$){if(b===0){logger_1$3.default.error("could not find published track",this.sid,d),this.emit(events_1$1.ParticipantEvent.TrackSubscriptionFailed,d);return}b===void 0&&(b=20),setTimeout(()=>{this.addSubscribedMediaTrack(s,d,c,g,_,b-1)},150);return}const tt=s.kind==="video";let nt;return tt?nt=new RemoteVideoTrack_1.default(s,d,g,_):nt=new RemoteAudioTrack_1.default(s,d,g),nt.source=$.source,nt.isMuted=$.isMuted,nt.setMediaStream(c),nt.start(),$.setTrack(nt),this.emit(events_1$1.ParticipantEvent.TrackSubscribed,nt,$),$}get hasMetadata(){return!!this.participantInfo}getTrackPublication(s){return this.tracks.get(s)}updateInfo(s){const d=this.hasMetadata;super.updateInfo(s);const c=new Map,g=new Map;s.tracks.forEach(_=>{let b=this.getTrackPublication(_.sid);if(b)b.updateInfo(_);else{const $=Track_1$2.Track.kindFromProto(_.type);if(!$)return;b=new RemoteTrackPublication_1.default($,_.sid,_.name),b.updateInfo(_),g.set(_.sid,b),this.addTrackPublication(b)}c.set(_.sid,b)}),d&&g.forEach(_=>{this.emit(events_1$1.ParticipantEvent.TrackPublished,_)}),this.tracks.forEach(_=>{c.has(_.trackSid)||this.unpublishTrack(_.trackSid,!0)})}unpublishTrack(s,d){const c=this.tracks.get(s);if(!c)return;switch(this.tracks.delete(s),c.kind){case Track_1$2.Track.Kind.Audio:this.audioTracks.delete(s);break;case Track_1$2.Track.Kind.Video:this.videoTracks.delete(s);break}const{track:g}=c;if(g){const{isSubscribed:_}=c;g.stop(),c.setTrack(void 0),_&&this.emit(events_1$1.ParticipantEvent.TrackUnsubscribed,g,c)}d&&this.emit(events_1$1.ParticipantEvent.TrackUnpublished,c)}emit(s,...d){return logger_1$3.default.trace("participant event",this.sid,s,...d),super.emit(s,...d)}}RemoteParticipant$1.default=RemoteParticipant;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,s,d,c){c===void 0&&(c=d),Object.defineProperty(a,c,{enumerable:!0,get:function(){return s[d]}})}:function(a,s,d,c){c===void 0&&(c=d),a[c]=s[d]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&__createBinding(s,a,d);return __setModuleDefault(s,a),s},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(LocalParticipant$1,"__esModule",{value:!0});const logger_1$2=__importDefault$4(logger),livekit_rtc_1$1=livekit_rtc,errors_1$2=errors,events_1=events$1,LocalAudioTrack_1$1=__importDefault$4(LocalAudioTrack$1),LocalTrackPublication_1=__importDefault$4(LocalTrackPublication$1),LocalVideoTrack_1$1=__importStar(LocalVideoTrack$1),options_1$2=options$1,Track_1$1=Track,utils_1$2=utils$e,Participant_1=__importDefault$4(Participant),ParticipantTrackPermission_1=ParticipantTrackPermission,publishUtils_1$1=publishUtils,RemoteParticipant_1=__importDefault$4(RemoteParticipant$1);class LocalParticipant extends Participant_1.default{constructor(s,d,c,g){super(s,d),this.pendingPublishing=new Set,this.onTrackUnmuted=_=>{this.onTrackMuted(_,!1)},this.onTrackMuted=(_,b)=>{if(b===void 0&&(b=!0),!_.sid){logger_1$2.default.error("could not update mute status for unpublished track",_);return}this.engine.updateMuteStatus(_.sid,b)},this.handleSubscribedQualityUpdate=_=>{var b,$;if(!(!((b=this.roomOptions)===null||b===void 0)&&b.dynacast))return;const tt=this.videoTracks.get(_.trackSid);if(!tt){logger_1$2.default.warn("handleSubscribedQualityUpdate","received subscribed quality update for unknown track",_.trackSid);return}($=tt.videoTrack)===null||$===void 0||$.setPublishingLayers(_.subscribedQualities)},this.onTrackUnpublish=_=>{this.unpublishTrack(_)},this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=c,this.roomOptions=g,this.engine.client.onRemoteMuteChanged=(_,b)=>{const $=this.tracks.get(_);!$||!$.track||(b?$.mute():$.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}getTrack(s){const d=super.getTrack(s);if(d)return d}getTrackByName(s){const d=super.getTrackByName(s);if(d)return d}setCameraEnabled(s){return this.setTrackEnabled(Track_1$1.Track.Source.Camera,s)}setMicrophoneEnabled(s){return this.setTrackEnabled(Track_1$1.Track.Source.Microphone,s)}setScreenShareEnabled(s){return this.setTrackEnabled(Track_1$1.Track.Source.ScreenShare,s)}setTrackEnabled(s,d){return __awaiter$4(this,void 0,void 0,function*(){logger_1$2.default.debug("setTrackEnabled",s,d);const c=this.getTrack(s);if(d)if(c)yield c.unmute();else{let g;if(this.pendingPublishing.has(s)){logger_1$2.default.info("skipping duplicate published source",s);return}this.pendingPublishing.add(s);try{switch(s){case Track_1$1.Track.Source.Camera:[g]=yield this.createTracks({video:!0});break;case Track_1$1.Track.Source.Microphone:[g]=yield this.createTracks({audio:!0});break;case Track_1$1.Track.Source.ScreenShare:[g]=yield this.createScreenTracks({audio:!1});break;default:throw new errors_1$2.TrackInvalidError(s)}yield this.publishTrack(g)}catch(_){throw _ instanceof Error&&!(_ instanceof errors_1$2.TrackInvalidError)&&this.emit(events_1.ParticipantEvent.MediaDevicesError,_),_}finally{this.pendingPublishing.delete(s)}}else c&&c.track&&(s===Track_1$1.Track.Source.ScreenShare?this.unpublishTrack(c.track):yield c.mute())})}enableCameraAndMicrophone(){return __awaiter$4(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(Track_1$1.Track.Source.Camera)||this.pendingPublishing.has(Track_1$1.Track.Source.Microphone))){this.pendingPublishing.add(Track_1$1.Track.Source.Camera),this.pendingPublishing.add(Track_1$1.Track.Source.Microphone);try{const s=yield this.createTracks({audio:!0,video:!0});yield Promise.all(s.map(d=>this.publishTrack(d)))}finally{this.pendingPublishing.delete(Track_1$1.Track.Source.Camera),this.pendingPublishing.delete(Track_1$1.Track.Source.Microphone)}}})}createTracks(s){var d,c;return __awaiter$4(this,void 0,void 0,function*(){const g=utils_1$2.mergeDefaultOptions(s,(d=this.roomOptions)===null||d===void 0?void 0:d.audioCaptureDefaults,(c=this.roomOptions)===null||c===void 0?void 0:c.videoCaptureDefaults),_=utils_1$2.constraintsForOptions(g);let b;try{b=yield navigator.mediaDevices.getUserMedia(_)}catch($){throw $ instanceof Error&&(_.audio&&(this.microphoneError=$),_.video&&(this.cameraError=$)),$}return _.audio&&(this.microphoneError=void 0),_.video&&(this.cameraError=void 0),b.getTracks().map($=>{const tt=$.kind==="audio";tt?s.audio:s.video;let nt;const ot=tt?_.audio:_.video;typeof ot!="boolean"&&(nt=ot);const dt=publishUtils_1$1.mediaTrackToLocalTrack($,nt);return dt.kind===Track_1$1.Track.Kind.Video?dt.source=Track_1$1.Track.Source.Camera:dt.kind===Track_1$1.Track.Kind.Audio&&(dt.source=Track_1$1.Track.Source.Microphone),dt})})}createScreenTracks(s){var d;return __awaiter$4(this,void 0,void 0,function*(){s===void 0&&(s={}),s.resolution===void 0&&(s.resolution=options_1$2.VideoPresets.fhd.resolution);let c=!0;s.resolution&&(c={width:s.resolution.width,height:s.resolution.height,frameRate:s.resolution.frameRate});const g=yield navigator.mediaDevices.getDisplayMedia({audio:(d=s.audio)!==null&&d!==void 0?d:!1,video:c}),_=g.getVideoTracks();if(_.length===0)throw new errors_1$2.TrackInvalidError("no video track found");const b=new LocalVideoTrack_1$1.default(_[0]);b.source=Track_1$1.Track.Source.ScreenShare;const $=[b];if(g.getAudioTracks().length>0){const tt=new LocalAudioTrack_1$1.default(g.getAudioTracks()[0]);tt.source=Track_1$1.Track.Source.ScreenShareAudio,$.push(tt)}return $})}publishTrack(s,d){var c,g,_,b,$,tt,nt,ot;return __awaiter$4(this,void 0,void 0,function*(){const dt=Object.assign(Object.assign({},(c=this.roomOptions)===null||c===void 0?void 0:c.publishDefaults),d);if(s instanceof MediaStreamTrack)switch(s.kind){case"audio":s=new LocalAudioTrack_1$1.default(s);break;case"video":s=new LocalVideoTrack_1$1.default(s);break;default:throw new errors_1$2.TrackInvalidError(`unsupported MediaStreamTrack kind ${s.kind}`)}let ut;if(this.tracks.forEach(ct=>{!ct.track||ct.track===s&&(ut=ct)}),ut)return ut;dt.source&&(s.source=dt.source),dt.stopMicTrackOnMute&&s instanceof LocalAudioTrack_1$1.default&&(s.stopOnMute=!0),s.on(events_1.TrackEvent.Muted,this.onTrackMuted),s.on(events_1.TrackEvent.Unmuted,this.onTrackUnmuted),s.on(events_1.TrackEvent.Ended,this.onTrackUnpublish);const lt=livekit_rtc_1$1.AddTrackRequest.fromPartial({cid:s.mediaStreamTrack.id,name:d==null?void 0:d.name,type:Track_1$1.Track.kindToProto(s.kind),muted:s.isMuted,source:Track_1$1.Track.sourceToProto(s.source),disableDtx:!(!((g=dt==null?void 0:dt.dtx)!==null&&g!==void 0)||g)});let Tt;if(s.kind===Track_1$1.Track.Kind.Video){const ct=s.mediaStreamTrack.getSettings(),mt=(_=ct.width)!==null&&_!==void 0?_:(b=s.dimensions)===null||b===void 0?void 0:b.width,Nt=($=ct.height)!==null&&$!==void 0?$:(tt=s.dimensions)===null||tt===void 0?void 0:tt.height;lt.width=mt!=null?mt:0,lt.height=Nt!=null?Nt:0,Tt=publishUtils_1$1.computeVideoEncodings(s.source===Track_1$1.Track.Source.ScreenShare,mt,Nt,dt),lt.layers=LocalVideoTrack_1$1.videoLayersFromEncodings(lt.width,lt.height,Tt)}else s.kind===Track_1$1.Track.Kind.Audio&&dt.audioBitrate&&(Tt=[{maxBitrate:dt.audioBitrate}]);const yt=yield this.engine.addTrack(lt),pt=new LocalTrackPublication_1.default(s.kind,yt,s);if(s.sid=yt.sid,!this.engine.publisher)throw new errors_1$2.UnexpectedConnectionState("publisher is closed");logger_1$2.default.debug(`publishing ${s.kind} with encodings`,Tt,yt);const vt={direction:"sendonly"};Tt&&(vt.sendEncodings=Tt);const it=this.engine.publisher.pc.addTransceiver(s.mediaStreamTrack,vt);if(this.engine.negotiate(),s.sender=it.sender,s instanceof LocalVideoTrack_1$1.default){const ct=(ot=(nt=this.roomOptions)===null||nt===void 0?void 0:nt.expDisableLayerPause)!==null&&ot!==void 0?ot:!1;s.startMonitor(this.engine.client,ct)}else s instanceof LocalAudioTrack_1$1.default&&s.startMonitor();return dt.videoCodec&&this.setPreferredCodec(it,s.kind,dt.videoCodec),this.addTrackPublication(pt),this.emit(events_1.ParticipantEvent.LocalTrackPublished,pt),pt})}unpublishTrack(s){var d,c;const g=this.getPublicationForTrack(s);if(logger_1$2.default.debug("unpublishTrack","unpublishing track",s),!g||!g.track)return logger_1$2.default.warn("unpublishTrack","track was not unpublished because no publication was found",s),null;s=g.track,s.off(events_1.TrackEvent.Muted,this.onTrackMuted),s.off(events_1.TrackEvent.Unmuted,this.onTrackUnmuted),s.off(events_1.TrackEvent.Ended,this.onTrackUnpublish),(!((c=(d=this.roomOptions)===null||d===void 0?void 0:d.stopLocalTrackOnUnpublish)!==null&&c!==void 0)||c)&&s.stop();const{mediaStreamTrack:_}=s;switch(this.engine.publisher&&this.engine.publisher.pc.getSenders().forEach($=>{var tt;if($.track===_)try{(tt=this.engine.publisher)===null||tt===void 0||tt.pc.removeTrack($),this.engine.negotiate()}catch(nt){logger_1$2.default.warn("unpublishTrack","failed to remove track",nt)}}),this.tracks.delete(g.trackSid),g.kind){case Track_1$1.Track.Kind.Audio:this.audioTracks.delete(g.trackSid);break;case Track_1$1.Track.Kind.Video:this.videoTracks.delete(g.trackSid);break}return g.setTrack(void 0),this.emit(events_1.ParticipantEvent.LocalTrackUnpublished,g),g}unpublishTracks(s){const d=[];return s.forEach(c=>{const g=this.unpublishTrack(c);g&&d.push(g)}),d}get publisherMetrics(){return null}publishData(s,d,c){return __awaiter$4(this,void 0,void 0,function*(){const g=[];c!==void 0&&c.forEach(b=>{b instanceof RemoteParticipant_1.default?g.push(b.sid):g.push(b)});const _={kind:d,user:{participantSid:this.sid,payload:s,destinationSids:g}};yield this.engine.sendDataPacket(_,d)})}setTrackSubscriptionPermissions(s,d=[]){this.engine.client.sendUpdateSubscriptionPermissions(s,d.map(c=>ParticipantTrackPermission_1.trackPermissionToProto(c)))}getPublicationForTrack(s){let d;return this.tracks.forEach(c=>{const g=c.track;!g||(s instanceof MediaStreamTrack?(g instanceof LocalAudioTrack_1$1.default||g instanceof LocalVideoTrack_1$1.default)&&g.mediaStreamTrack===s&&(d=c):s===g&&(d=c))}),d}setPreferredCodec(s,d,c){if(!("getCapabilities"in RTCRtpSender))return;const g=RTCRtpSender.getCapabilities(d);if(!g)return;const _=g.codecs.find(b=>{const $=b.mimeType.toLowerCase(),tt=$===`video/${c}`;return c==="h264"&&b.sdpFmtpLine?tt&&b.sdpFmtpLine.includes("profile-level-id=42e01f"):tt||$==="audio/opus"});_&&"setCodecPreferences"in s&&s.setCodecPreferences([_])}publishedTracksInfo(){const s=[];return this.tracks.forEach(d=>{d.track!==void 0&&s.push({cid:d.track.mediaStreamTrack.id,track:d.trackInfo})}),s}}LocalParticipant$1.default=LocalParticipant;var Room={},SignalClient$1={};let logDisabled_=!0,deprecationWarnings_=!0;function extractVersion(a,s,d){const c=a.match(s);return c&&c.length>=d&&parseInt(c[d],10)}function wrapPeerConnectionEvent(a,s,d){if(!a.RTCPeerConnection)return;const c=a.RTCPeerConnection.prototype,g=c.addEventListener;c.addEventListener=function(b,$){if(b!==s)return g.apply(this,arguments);const tt=nt=>{const ot=d(nt);ot&&($.handleEvent?$.handleEvent(ot):$(ot))};return this._eventMap=this._eventMap||{},this._eventMap[s]||(this._eventMap[s]=new Map),this._eventMap[s].set($,tt),g.apply(this,[b,tt])};const _=c.removeEventListener;c.removeEventListener=function(b,$){if(b!==s||!this._eventMap||!this._eventMap[s])return _.apply(this,arguments);if(!this._eventMap[s].has($))return _.apply(this,arguments);const tt=this._eventMap[s].get($);return this._eventMap[s].delete($),this._eventMap[s].size===0&&delete this._eventMap[s],Object.keys(this._eventMap).length===0&&delete this._eventMap,_.apply(this,[b,tt])},Object.defineProperty(c,"on"+s,{get(){return this["_on"+s]},set(b){this["_on"+s]&&(this.removeEventListener(s,this["_on"+s]),delete this["_on"+s]),b&&this.addEventListener(s,this["_on"+s]=b)},enumerable:!0,configurable:!0})}function disableLog(a){return typeof a!="boolean"?new Error("Argument type: "+typeof a+". Please use a boolean."):(logDisabled_=a,a?"adapter.js logging disabled":"adapter.js logging enabled")}function disableWarnings(a){return typeof a!="boolean"?new Error("Argument type: "+typeof a+". Please use a boolean."):(deprecationWarnings_=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))}function log(){if(typeof window=="object"){if(logDisabled_)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function deprecated(a,s){!deprecationWarnings_||console.warn(a+" is deprecated, please use "+s+" instead.")}function detectBrowser(a){const s={browser:null,version:null};if(typeof a=="undefined"||!a.navigator)return s.browser="Not a browser.",s;const{navigator:d}=a;if(d.mozGetUserMedia)s.browser="firefox",s.version=extractVersion(d.userAgent,/Firefox\/(\d+)\./,1);else if(d.webkitGetUserMedia||a.isSecureContext===!1&&a.webkitRTCPeerConnection&&!a.RTCIceGatherer)s.browser="chrome",s.version=extractVersion(d.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(a.RTCPeerConnection&&d.userAgent.match(/AppleWebKit\/(\d+)\./))s.browser="safari",s.version=extractVersion(d.userAgent,/AppleWebKit\/(\d+)\./,1),s.supportsUnifiedPlan=a.RTCRtpTransceiver&&"currentDirection"in a.RTCRtpTransceiver.prototype;else return s.browser="Not a supported browser.",s;return s}function isObject$3(a){return Object.prototype.toString.call(a)==="[object Object]"}function compactObject(a){return isObject$3(a)?Object.keys(a).reduce(function(s,d){const c=isObject$3(a[d]),g=c?compactObject(a[d]):a[d],_=c&&!Object.keys(g).length;return g===void 0||_?s:Object.assign(s,{[d]:g})},{}):a}function walkStats(a,s,d){!s||d.has(s.id)||(d.set(s.id,s),Object.keys(s).forEach(c=>{c.endsWith("Id")?walkStats(a,a.get(s[c]),d):c.endsWith("Ids")&&s[c].forEach(g=>{walkStats(a,a.get(g),d)})}))}function filterStats(a,s,d){const c=d?"outbound-rtp":"inbound-rtp",g=new Map;if(s===null)return g;const _=[];return a.forEach(b=>{b.type==="track"&&b.trackIdentifier===s.id&&_.push(b)}),_.forEach(b=>{a.forEach($=>{$.type===c&&$.trackId===b.id&&walkStats(a,$,g)})}),g}const logging=log;function shimGetUserMedia$2(a,s){const d=a&&a.navigator;if(!d.mediaDevices)return;const c=function($){if(typeof $!="object"||$.mandatory||$.optional)return $;const tt={};return Object.keys($).forEach(nt=>{if(nt==="require"||nt==="advanced"||nt==="mediaSource")return;const ot=typeof $[nt]=="object"?$[nt]:{ideal:$[nt]};ot.exact!==void 0&&typeof ot.exact=="number"&&(ot.min=ot.max=ot.exact);const dt=function(ut,lt){return ut?ut+lt.charAt(0).toUpperCase()+lt.slice(1):lt==="deviceId"?"sourceId":lt};if(ot.ideal!==void 0){tt.optional=tt.optional||[];let ut={};typeof ot.ideal=="number"?(ut[dt("min",nt)]=ot.ideal,tt.optional.push(ut),ut={},ut[dt("max",nt)]=ot.ideal,tt.optional.push(ut)):(ut[dt("",nt)]=ot.ideal,tt.optional.push(ut))}ot.exact!==void 0&&typeof ot.exact!="number"?(tt.mandatory=tt.mandatory||{},tt.mandatory[dt("",nt)]=ot.exact):["min","max"].forEach(ut=>{ot[ut]!==void 0&&(tt.mandatory=tt.mandatory||{},tt.mandatory[dt(ut,nt)]=ot[ut])})}),$.advanced&&(tt.optional=(tt.optional||[]).concat($.advanced)),tt},g=function($,tt){if(s.version>=61)return tt($);if($=JSON.parse(JSON.stringify($)),$&&typeof $.audio=="object"){const nt=function(ot,dt,ut){dt in ot&&!(ut in ot)&&(ot[ut]=ot[dt],delete ot[dt])};$=JSON.parse(JSON.stringify($)),nt($.audio,"autoGainControl","googAutoGainControl"),nt($.audio,"noiseSuppression","googNoiseSuppression"),$.audio=c($.audio)}if($&&typeof $.video=="object"){let nt=$.video.facingMode;nt=nt&&(typeof nt=="object"?nt:{ideal:nt});const ot=s.version<66;if(nt&&(nt.exact==="user"||nt.exact==="environment"||nt.ideal==="user"||nt.ideal==="environment")&&!(d.mediaDevices.getSupportedConstraints&&d.mediaDevices.getSupportedConstraints().facingMode&&!ot)){delete $.video.facingMode;let dt;if(nt.exact==="environment"||nt.ideal==="environment"?dt=["back","rear"]:(nt.exact==="user"||nt.ideal==="user")&&(dt=["front"]),dt)return d.mediaDevices.enumerateDevices().then(ut=>{ut=ut.filter(Tt=>Tt.kind==="videoinput");let lt=ut.find(Tt=>dt.some(yt=>Tt.label.toLowerCase().includes(yt)));return!lt&&ut.length&&dt.includes("back")&&(lt=ut[ut.length-1]),lt&&($.video.deviceId=nt.exact?{exact:lt.deviceId}:{ideal:lt.deviceId}),$.video=c($.video),logging("chrome: "+JSON.stringify($)),tt($)})}$.video=c($.video)}return logging("chrome: "+JSON.stringify($)),tt($)},_=function($){return s.version>=64?$:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[$.name]||$.name,message:$.message,constraint:$.constraint||$.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},b=function($,tt,nt){g($,ot=>{d.webkitGetUserMedia(ot,tt,dt=>{nt&&nt(_(dt))})})};if(d.getUserMedia=b.bind(d),d.mediaDevices.getUserMedia){const $=d.mediaDevices.getUserMedia.bind(d.mediaDevices);d.mediaDevices.getUserMedia=function(tt){return g(tt,nt=>$(nt).then(ot=>{if(nt.audio&&!ot.getAudioTracks().length||nt.video&&!ot.getVideoTracks().length)throw ot.getTracks().forEach(dt=>{dt.stop()}),new DOMException("","NotFoundError");return ot},ot=>Promise.reject(_(ot))))}}}function shimGetDisplayMedia$1(a,s){if(!(a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices)&&!!a.navigator.mediaDevices){if(typeof s!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}a.navigator.mediaDevices.getDisplayMedia=function(c){return s(c).then(g=>{const _=c.video&&c.video.width,b=c.video&&c.video.height,$=c.video&&c.video.frameRate;return c.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:g,maxFrameRate:$||3}},_&&(c.video.mandatory.maxWidth=_),b&&(c.video.mandatory.maxHeight=b),a.navigator.mediaDevices.getUserMedia(c)})}}}function shimMediaStream(a){a.MediaStream=a.MediaStream||a.webkitMediaStream}function shimOnTrack$1(a){if(typeof a=="object"&&a.RTCPeerConnection&&!("ontrack"in a.RTCPeerConnection.prototype)){Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(d){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=d)},enumerable:!0,configurable:!0});const s=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=c=>{c.stream.addEventListener("addtrack",g=>{let _;a.RTCPeerConnection.prototype.getReceivers?_=this.getReceivers().find($=>$.track&&$.track.id===g.track.id):_={track:g.track};const b=new Event("track");b.track=g.track,b.receiver=_,b.transceiver={receiver:_},b.streams=[c.stream],this.dispatchEvent(b)}),c.stream.getTracks().forEach(g=>{let _;a.RTCPeerConnection.prototype.getReceivers?_=this.getReceivers().find($=>$.track&&$.track.id===g.id):_={track:g};const b=new Event("track");b.track=g,b.receiver=_,b.transceiver={receiver:_},b.streams=[c.stream],this.dispatchEvent(b)})},this.addEventListener("addstream",this._ontrackpoly)),s.apply(this,arguments)}}else wrapPeerConnectionEvent(a,"track",s=>(s.transceiver||Object.defineProperty(s,"transceiver",{value:{receiver:s.receiver}}),s))}function shimGetSendersWithDtmf(a){if(typeof a=="object"&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){const s=function(g,_){return{track:_,get dtmf(){return this._dtmf===void 0&&(_.kind==="audio"?this._dtmf=g.createDTMFSender(_):this._dtmf=null),this._dtmf},_pc:g}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const g=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function($,tt){let nt=g.apply(this,arguments);return nt||(nt=s(this,$),this._senders.push(nt)),nt};const _=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function($){_.apply(this,arguments);const tt=this._senders.indexOf($);tt!==-1&&this._senders.splice(tt,1)}}const d=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(_){this._senders=this._senders||[],d.apply(this,[_]),_.getTracks().forEach(b=>{this._senders.push(s(this,b))})};const c=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(_){this._senders=this._senders||[],c.apply(this,[_]),_.getTracks().forEach(b=>{const $=this._senders.find(tt=>tt.track===b);$&&this._senders.splice(this._senders.indexOf($),1)})}}else if(typeof a=="object"&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){const s=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){const c=s.apply(this,[]);return c.forEach(g=>g._pc=this),c},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function shimGetStats(a){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[c,g,_]=arguments;if(arguments.length>0&&typeof c=="function")return s.apply(this,arguments);if(s.length===0&&(arguments.length===0||typeof c!="function"))return s.apply(this,[]);const b=function(tt){const nt={};return tt.result().forEach(dt=>{const ut={id:dt.id,timestamp:dt.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[dt.type]||dt.type};dt.names().forEach(lt=>{ut[lt]=dt.stat(lt)}),nt[ut.id]=ut}),nt},$=function(tt){return new Map(Object.keys(tt).map(nt=>[nt,tt[nt]]))};if(arguments.length>=2){const tt=function(nt){g($(b(nt)))};return s.apply(this,[tt,c])}return new Promise((tt,nt)=>{s.apply(this,[function(ot){tt($(b(ot)))},nt])}).then(g,_)}}function shimSenderReceiverGetStats(a){if(!(typeof a=="object"&&a.RTCPeerConnection&&a.RTCRtpSender&&a.RTCRtpReceiver))return;if(!("getStats"in a.RTCRtpSender.prototype)){const d=a.RTCPeerConnection.prototype.getSenders;d&&(a.RTCPeerConnection.prototype.getSenders=function(){const _=d.apply(this,[]);return _.forEach(b=>b._pc=this),_});const c=a.RTCPeerConnection.prototype.addTrack;c&&(a.RTCPeerConnection.prototype.addTrack=function(){const _=c.apply(this,arguments);return _._pc=this,_}),a.RTCRtpSender.prototype.getStats=function(){const _=this;return this._pc.getStats().then(b=>filterStats(b,_.track,!0))}}if(!("getStats"in a.RTCRtpReceiver.prototype)){const d=a.RTCPeerConnection.prototype.getReceivers;d&&(a.RTCPeerConnection.prototype.getReceivers=function(){const g=d.apply(this,[]);return g.forEach(_=>_._pc=this),g}),wrapPeerConnectionEvent(a,"track",c=>(c.receiver._pc=c.srcElement,c)),a.RTCRtpReceiver.prototype.getStats=function(){const g=this;return this._pc.getStats().then(_=>filterStats(_,g.track,!1))}}if(!("getStats"in a.RTCRtpSender.prototype&&"getStats"in a.RTCRtpReceiver.prototype))return;const s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof a.MediaStreamTrack){const c=arguments[0];let g,_,b;return this.getSenders().forEach($=>{$.track===c&&(g?b=!0:g=$)}),this.getReceivers().forEach($=>($.track===c&&(_?b=!0:_=$),$.track===c)),b||g&&_?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):g?g.getStats():_?_.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(this,arguments)}}function shimAddTrackRemoveTrackWithNative(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(b=>this._shimmedLocalStreams[b][0])};const s=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(b,$){if(!$)return s.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const tt=s.apply(this,arguments);return this._shimmedLocalStreams[$.id]?this._shimmedLocalStreams[$.id].indexOf(tt)===-1&&this._shimmedLocalStreams[$.id].push(tt):this._shimmedLocalStreams[$.id]=[$,tt],tt};const d=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(b){this._shimmedLocalStreams=this._shimmedLocalStreams||{},b.getTracks().forEach(nt=>{if(this.getSenders().find(dt=>dt.track===nt))throw new DOMException("Track already exists.","InvalidAccessError")});const $=this.getSenders();d.apply(this,arguments);const tt=this.getSenders().filter(nt=>$.indexOf(nt)===-1);this._shimmedLocalStreams[b.id]=[b].concat(tt)};const c=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(b){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[b.id],c.apply(this,arguments)};const g=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(b){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},b&&Object.keys(this._shimmedLocalStreams).forEach($=>{const tt=this._shimmedLocalStreams[$].indexOf(b);tt!==-1&&this._shimmedLocalStreams[$].splice(tt,1),this._shimmedLocalStreams[$].length===1&&delete this._shimmedLocalStreams[$]}),g.apply(this,arguments)}}function shimAddTrackRemoveTrack(a,s){if(!a.RTCPeerConnection)return;if(a.RTCPeerConnection.prototype.addTrack&&s.version>=65)return shimAddTrackRemoveTrackWithNative(a);const d=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){const ot=d.apply(this);return this._reverseStreams=this._reverseStreams||{},ot.map(dt=>this._reverseStreams[dt.id])};const c=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(ot){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ot.getTracks().forEach(dt=>{if(this.getSenders().find(lt=>lt.track===dt))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[ot.id]){const dt=new a.MediaStream(ot.getTracks());this._streams[ot.id]=dt,this._reverseStreams[dt.id]=ot,ot=dt}c.apply(this,[ot])};const g=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(ot){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},g.apply(this,[this._streams[ot.id]||ot]),delete this._reverseStreams[this._streams[ot.id]?this._streams[ot.id].id:ot.id],delete this._streams[ot.id]},a.RTCPeerConnection.prototype.addTrack=function(ot,dt){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const ut=[].slice.call(arguments,1);if(ut.length!==1||!ut[0].getTracks().find(yt=>yt===ot))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(yt=>yt.track===ot))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Tt=this._streams[dt.id];if(Tt)Tt.addTrack(ot),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const yt=new a.MediaStream([ot]);this._streams[dt.id]=yt,this._reverseStreams[yt.id]=dt,this.addStream(yt)}return this.getSenders().find(yt=>yt.track===ot)};function _(nt,ot){let dt=ot.sdp;return Object.keys(nt._reverseStreams||[]).forEach(ut=>{const lt=nt._reverseStreams[ut],Tt=nt._streams[lt.id];dt=dt.replace(new RegExp(Tt.id,"g"),lt.id)}),new RTCSessionDescription({type:ot.type,sdp:dt})}function b(nt,ot){let dt=ot.sdp;return Object.keys(nt._reverseStreams||[]).forEach(ut=>{const lt=nt._reverseStreams[ut],Tt=nt._streams[lt.id];dt=dt.replace(new RegExp(lt.id,"g"),Tt.id)}),new RTCSessionDescription({type:ot.type,sdp:dt})}["createOffer","createAnswer"].forEach(function(nt){const ot=a.RTCPeerConnection.prototype[nt],dt={[nt](){const ut=arguments;return arguments.length&&typeof arguments[0]=="function"?ot.apply(this,[Tt=>{const yt=_(this,Tt);ut[0].apply(null,[yt])},Tt=>{ut[1]&&ut[1].apply(null,Tt)},arguments[2]]):ot.apply(this,arguments).then(Tt=>_(this,Tt))}};a.RTCPeerConnection.prototype[nt]=dt[nt]});const $=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?$.apply(this,arguments):(arguments[0]=b(this,arguments[0]),$.apply(this,arguments))};const tt=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get(){const nt=tt.get.apply(this);return nt.type===""?nt:_(this,nt)}}),a.RTCPeerConnection.prototype.removeTrack=function(ot){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ot._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(ot._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let ut;Object.keys(this._streams).forEach(lt=>{this._streams[lt].getTracks().find(yt=>ot.track===yt)&&(ut=this._streams[lt])}),ut&&(ut.getTracks().length===1?this.removeStream(this._reverseStreams[ut.id]):ut.removeTrack(ot.track),this.dispatchEvent(new Event("negotiationneeded")))}}function shimPeerConnection$1(a,s){!a.RTCPeerConnection&&a.webkitRTCPeerConnection&&(a.RTCPeerConnection=a.webkitRTCPeerConnection),!!a.RTCPeerConnection&&s.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(d){const c=a.RTCPeerConnection.prototype[d],g={[d](){return arguments[0]=new(d==="addIceCandidate"?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};a.RTCPeerConnection.prototype[d]=g[d]})}function fixNegotiationNeeded(a,s){wrapPeerConnectionEvent(a,"negotiationneeded",d=>{const c=d.target;if(!((s.version<72||c.getConfiguration&&c.getConfiguration().sdpSemantics==="plan-b")&&c.signalingState!=="stable"))return d})}var chromeShim=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream,shimOnTrack:shimOnTrack$1,shimGetSendersWithDtmf,shimGetStats,shimSenderReceiverGetStats,shimAddTrackRemoveTrackWithNative,shimAddTrackRemoveTrack,shimPeerConnection:shimPeerConnection$1,fixNegotiationNeeded,shimGetUserMedia:shimGetUserMedia$2,shimGetDisplayMedia:shimGetDisplayMedia$1},Symbol.toStringTag,{value:"Module"}));function shimGetUserMedia$1(a,s){const d=a&&a.navigator,c=a&&a.MediaStreamTrack;if(d.getUserMedia=function(g,_,b){deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),d.mediaDevices.getUserMedia(g).then(_,b)},!(s.version>55&&"autoGainControl"in d.mediaDevices.getSupportedConstraints())){const g=function(b,$,tt){$ in b&&!(tt in b)&&(b[tt]=b[$],delete b[$])},_=d.mediaDevices.getUserMedia.bind(d.mediaDevices);if(d.mediaDevices.getUserMedia=function(b){return typeof b=="object"&&typeof b.audio=="object"&&(b=JSON.parse(JSON.stringify(b)),g(b.audio,"autoGainControl","mozAutoGainControl"),g(b.audio,"noiseSuppression","mozNoiseSuppression")),_(b)},c&&c.prototype.getSettings){const b=c.prototype.getSettings;c.prototype.getSettings=function(){const $=b.apply(this,arguments);return g($,"mozAutoGainControl","autoGainControl"),g($,"mozNoiseSuppression","noiseSuppression"),$}}if(c&&c.prototype.applyConstraints){const b=c.prototype.applyConstraints;c.prototype.applyConstraints=function($){return this.kind==="audio"&&typeof $=="object"&&($=JSON.parse(JSON.stringify($)),g($,"autoGainControl","mozAutoGainControl"),g($,"noiseSuppression","mozNoiseSuppression")),b.apply(this,[$])}}}}function shimGetDisplayMedia(a,s){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||!a.navigator.mediaDevices||(a.navigator.mediaDevices.getDisplayMedia=function(c){if(!(c&&c.video)){const g=new DOMException("getDisplayMedia without video constraints is undefined");return g.name="NotFoundError",g.code=8,Promise.reject(g)}return c.video===!0?c.video={mediaSource:s}:c.video.mediaSource=s,a.navigator.mediaDevices.getUserMedia(c)})}function shimOnTrack(a){typeof a=="object"&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimPeerConnection(a,s){if(typeof a!="object"||!(a.RTCPeerConnection||a.mozRTCPeerConnection))return;!a.RTCPeerConnection&&a.mozRTCPeerConnection&&(a.RTCPeerConnection=a.mozRTCPeerConnection),s.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(g){const _=a.RTCPeerConnection.prototype[g],b={[g](){return arguments[0]=new(g==="addIceCandidate"?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),_.apply(this,arguments)}};a.RTCPeerConnection.prototype[g]=b[g]});const d={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},c=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[_,b,$]=arguments;return c.apply(this,[_||null]).then(tt=>{if(s.version<53&&!b)try{tt.forEach(nt=>{nt.type=d[nt.type]||nt.type})}catch(nt){if(nt.name!=="TypeError")throw nt;tt.forEach((ot,dt)=>{tt.set(dt,Object.assign({},ot,{type:d[ot.type]||ot.type}))})}return tt}).then(b,$)}}function shimSenderGetStats(a){if(!(typeof a=="object"&&a.RTCPeerConnection&&a.RTCRtpSender)||a.RTCRtpSender&&"getStats"in a.RTCRtpSender.prototype)return;const s=a.RTCPeerConnection.prototype.getSenders;s&&(a.RTCPeerConnection.prototype.getSenders=function(){const g=s.apply(this,[]);return g.forEach(_=>_._pc=this),g});const d=a.RTCPeerConnection.prototype.addTrack;d&&(a.RTCPeerConnection.prototype.addTrack=function(){const g=d.apply(this,arguments);return g._pc=this,g}),a.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function shimReceiverGetStats(a){if(!(typeof a=="object"&&a.RTCPeerConnection&&a.RTCRtpSender)||a.RTCRtpSender&&"getStats"in a.RTCRtpReceiver.prototype)return;const s=a.RTCPeerConnection.prototype.getReceivers;s&&(a.RTCPeerConnection.prototype.getReceivers=function(){const c=s.apply(this,[]);return c.forEach(g=>g._pc=this),c}),wrapPeerConnectionEvent(a,"track",d=>(d.receiver._pc=d.srcElement,d)),a.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function shimRemoveStream(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(d){deprecated("removeStream","removeTrack"),this.getSenders().forEach(c=>{c.track&&d.getTracks().includes(c.track)&&this.removeTrack(c)})})}function shimRTCDataChannel(a){a.DataChannel&&!a.RTCDataChannel&&(a.RTCDataChannel=a.DataChannel)}function shimAddTransceiver(a){if(!(typeof a=="object"&&a.RTCPeerConnection))return;const s=a.RTCPeerConnection.prototype.addTransceiver;s&&(a.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const c=arguments[1],g=c&&"sendEncodings"in c;g&&c.sendEncodings.forEach(b=>{if("rid"in b&&!/^[a-z0-9]{0,16}$/i.test(b.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in b&&!(parseFloat(b.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in b&&!(parseFloat(b.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const _=s.apply(this,arguments);if(g){const{sender:b}=_,$=b.getParameters();(!("encodings"in $)||$.encodings.length===1&&Object.keys($.encodings[0]).length===0)&&($.encodings=c.sendEncodings,b.sendEncodings=c.sendEncodings,this.setParametersPromises.push(b.setParameters($).then(()=>{delete b.sendEncodings}).catch(()=>{delete b.sendEncodings})))}return _})}function shimGetParameters(a){if(!(typeof a=="object"&&a.RTCRtpSender))return;const s=a.RTCRtpSender.prototype.getParameters;s&&(a.RTCRtpSender.prototype.getParameters=function(){const c=s.apply(this,arguments);return"encodings"in c||(c.encodings=[].concat(this.sendEncodings||[{}])),c})}function shimCreateOffer(a){if(!(typeof a=="object"&&a.RTCPeerConnection))return;const s=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>s.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):s.apply(this,arguments)}}function shimCreateAnswer(a){if(!(typeof a=="object"&&a.RTCPeerConnection))return;const s=a.RTCPeerConnection.prototype.createAnswer;a.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>s.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):s.apply(this,arguments)}}var firefoxShim=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack,shimPeerConnection,shimSenderGetStats,shimReceiverGetStats,shimRemoveStream,shimRTCDataChannel,shimAddTransceiver,shimGetParameters,shimCreateOffer,shimCreateAnswer,shimGetUserMedia:shimGetUserMedia$1,shimGetDisplayMedia},Symbol.toStringTag,{value:"Module"}));function shimLocalStreamsAPI(a){if(!(typeof a!="object"||!a.RTCPeerConnection)){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in a.RTCPeerConnection.prototype)){const s=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(c){this._localStreams||(this._localStreams=[]),this._localStreams.includes(c)||this._localStreams.push(c),c.getAudioTracks().forEach(g=>s.call(this,g,c)),c.getVideoTracks().forEach(g=>s.call(this,g,c))},a.RTCPeerConnection.prototype.addTrack=function(c,...g){return g&&g.forEach(_=>{this._localStreams?this._localStreams.includes(_)||this._localStreams.push(_):this._localStreams=[_]}),s.apply(this,arguments)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(d){this._localStreams||(this._localStreams=[]);const c=this._localStreams.indexOf(d);if(c===-1)return;this._localStreams.splice(c,1);const g=d.getTracks();this.getSenders().forEach(_=>{g.includes(_.track)&&this.removeTrack(_)})})}}function shimRemoteStreamsAPI(a){if(!(typeof a!="object"||!a.RTCPeerConnection)&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in a.RTCPeerConnection.prototype))){Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(d){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=d),this.addEventListener("track",this._onaddstreampoly=c=>{c.streams.forEach(g=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(g))return;this._remoteStreams.push(g);const _=new Event("addstream");_.stream=g,this.dispatchEvent(_)})})}});const s=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){const c=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(g){g.streams.forEach(_=>{if(c._remoteStreams||(c._remoteStreams=[]),c._remoteStreams.indexOf(_)>=0)return;c._remoteStreams.push(_);const b=new Event("addstream");b.stream=_,c.dispatchEvent(b)})}),s.apply(c,arguments)}}}function shimCallbacksAPI(a){if(typeof a!="object"||!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype,d=s.createOffer,c=s.createAnswer,g=s.setLocalDescription,_=s.setRemoteDescription,b=s.addIceCandidate;s.createOffer=function(nt,ot){const dt=arguments.length>=2?arguments[2]:arguments[0],ut=d.apply(this,[dt]);return ot?(ut.then(nt,ot),Promise.resolve()):ut},s.createAnswer=function(nt,ot){const dt=arguments.length>=2?arguments[2]:arguments[0],ut=c.apply(this,[dt]);return ot?(ut.then(nt,ot),Promise.resolve()):ut};let $=function(tt,nt,ot){const dt=g.apply(this,[tt]);return ot?(dt.then(nt,ot),Promise.resolve()):dt};s.setLocalDescription=$,$=function(tt,nt,ot){const dt=_.apply(this,[tt]);return ot?(dt.then(nt,ot),Promise.resolve()):dt},s.setRemoteDescription=$,$=function(tt,nt,ot){const dt=b.apply(this,[tt]);return ot?(dt.then(nt,ot),Promise.resolve()):dt},s.addIceCandidate=$}function shimGetUserMedia(a){const s=a&&a.navigator;if(s.mediaDevices&&s.mediaDevices.getUserMedia){const d=s.mediaDevices,c=d.getUserMedia.bind(d);s.mediaDevices.getUserMedia=g=>c(shimConstraints(g))}!s.getUserMedia&&s.mediaDevices&&s.mediaDevices.getUserMedia&&(s.getUserMedia=function(c,g,_){s.mediaDevices.getUserMedia(c).then(g,_)}.bind(s))}function shimConstraints(a){return a&&a.video!==void 0?Object.assign({},a,{video:compactObject(a.video)}):a}function shimRTCIceServerUrls(a){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection;a.RTCPeerConnection=function(c,g){if(c&&c.iceServers){const _=[];for(let b=0;b<c.iceServers.length;b++){let $=c.iceServers[b];!$.hasOwnProperty("urls")&&$.hasOwnProperty("url")?(deprecated("RTCIceServer.url","RTCIceServer.urls"),$=JSON.parse(JSON.stringify($)),$.urls=$.url,delete $.url,_.push($)):_.push(c.iceServers[b])}c.iceServers=_}return new s(c,g)},a.RTCPeerConnection.prototype=s.prototype,"generateCertificate"in s&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get(){return s.generateCertificate}})}function shimTrackEventTransceiver(a){typeof a=="object"&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimCreateOfferLegacy(a){const s=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(c){if(c){typeof c.offerToReceiveAudio!="undefined"&&(c.offerToReceiveAudio=!!c.offerToReceiveAudio);const g=this.getTransceivers().find(b=>b.receiver.track.kind==="audio");c.offerToReceiveAudio===!1&&g?g.direction==="sendrecv"?g.setDirection?g.setDirection("sendonly"):g.direction="sendonly":g.direction==="recvonly"&&(g.setDirection?g.setDirection("inactive"):g.direction="inactive"):c.offerToReceiveAudio===!0&&!g&&this.addTransceiver("audio",{direction:"recvonly"}),typeof c.offerToReceiveVideo!="undefined"&&(c.offerToReceiveVideo=!!c.offerToReceiveVideo);const _=this.getTransceivers().find(b=>b.receiver.track.kind==="video");c.offerToReceiveVideo===!1&&_?_.direction==="sendrecv"?_.setDirection?_.setDirection("sendonly"):_.direction="sendonly":_.direction==="recvonly"&&(_.setDirection?_.setDirection("inactive"):_.direction="inactive"):c.offerToReceiveVideo===!0&&!_&&this.addTransceiver("video",{direction:"recvonly"})}return s.apply(this,arguments)}}function shimAudioContext(a){typeof a!="object"||a.AudioContext||(a.AudioContext=a.webkitAudioContext)}var safariShim=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI,shimRemoteStreamsAPI,shimCallbacksAPI,shimGetUserMedia,shimConstraints,shimRTCIceServerUrls,shimTrackEventTransceiver,shimCreateOfferLegacy,shimAudioContext},Symbol.toStringTag,{value:"Module"})),sdp$1={exports:{}};(function(a){const s={};s.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},s.localCName=s.generateIdentifier(),s.splitLines=function(d){return d.trim().split(`
`).map(c=>c.trim())},s.splitSections=function(d){return d.split(`
m=`).map((g,_)=>(_>0?"m="+g:g).trim()+`\r
`)},s.getDescription=function(d){const c=s.splitSections(d);return c&&c[0]},s.getMediaSections=function(d){const c=s.splitSections(d);return c.shift(),c},s.matchPrefix=function(d,c){return s.splitLines(d).filter(g=>g.indexOf(c)===0)},s.parseCandidate=function(d){let c;d.indexOf("a=candidate:")===0?c=d.substring(12).split(" "):c=d.substring(10).split(" ");const g={foundation:c[0],component:{1:"rtp",2:"rtcp"}[c[1]]||c[1],protocol:c[2].toLowerCase(),priority:parseInt(c[3],10),ip:c[4],address:c[4],port:parseInt(c[5],10),type:c[7]};for(let _=8;_<c.length;_+=2)switch(c[_]){case"raddr":g.relatedAddress=c[_+1];break;case"rport":g.relatedPort=parseInt(c[_+1],10);break;case"tcptype":g.tcpType=c[_+1];break;case"ufrag":g.ufrag=c[_+1],g.usernameFragment=c[_+1];break;default:g[c[_]]===void 0&&(g[c[_]]=c[_+1]);break}return g},s.writeCandidate=function(d){const c=[];c.push(d.foundation);const g=d.component;g==="rtp"?c.push(1):g==="rtcp"?c.push(2):c.push(g),c.push(d.protocol.toUpperCase()),c.push(d.priority),c.push(d.address||d.ip),c.push(d.port);const _=d.type;return c.push("typ"),c.push(_),_!=="host"&&d.relatedAddress&&d.relatedPort&&(c.push("raddr"),c.push(d.relatedAddress),c.push("rport"),c.push(d.relatedPort)),d.tcpType&&d.protocol.toLowerCase()==="tcp"&&(c.push("tcptype"),c.push(d.tcpType)),(d.usernameFragment||d.ufrag)&&(c.push("ufrag"),c.push(d.usernameFragment||d.ufrag)),"candidate:"+c.join(" ")},s.parseIceOptions=function(d){return d.substr(14).split(" ")},s.parseRtpMap=function(d){let c=d.substr(9).split(" ");const g={payloadType:parseInt(c.shift(),10)};return c=c[0].split("/"),g.name=c[0],g.clockRate=parseInt(c[1],10),g.channels=c.length===3?parseInt(c[2],10):1,g.numChannels=g.channels,g},s.writeRtpMap=function(d){let c=d.payloadType;d.preferredPayloadType!==void 0&&(c=d.preferredPayloadType);const g=d.channels||d.numChannels||1;return"a=rtpmap:"+c+" "+d.name+"/"+d.clockRate+(g!==1?"/"+g:"")+`\r
`},s.parseExtmap=function(d){const c=d.substr(9).split(" ");return{id:parseInt(c[0],10),direction:c[0].indexOf("/")>0?c[0].split("/")[1]:"sendrecv",uri:c[1]}},s.writeExtmap=function(d){return"a=extmap:"+(d.id||d.preferredId)+(d.direction&&d.direction!=="sendrecv"?"/"+d.direction:"")+" "+d.uri+`\r
`},s.parseFmtp=function(d){const c={};let g;const _=d.substr(d.indexOf(" ")+1).split(";");for(let b=0;b<_.length;b++)g=_[b].trim().split("="),c[g[0].trim()]=g[1];return c},s.writeFmtp=function(d){let c="",g=d.payloadType;if(d.preferredPayloadType!==void 0&&(g=d.preferredPayloadType),d.parameters&&Object.keys(d.parameters).length){const _=[];Object.keys(d.parameters).forEach(b=>{d.parameters[b]!==void 0?_.push(b+"="+d.parameters[b]):_.push(b)}),c+="a=fmtp:"+g+" "+_.join(";")+`\r
`}return c},s.parseRtcpFb=function(d){const c=d.substr(d.indexOf(" ")+1).split(" ");return{type:c.shift(),parameter:c.join(" ")}},s.writeRtcpFb=function(d){let c="",g=d.payloadType;return d.preferredPayloadType!==void 0&&(g=d.preferredPayloadType),d.rtcpFeedback&&d.rtcpFeedback.length&&d.rtcpFeedback.forEach(_=>{c+="a=rtcp-fb:"+g+" "+_.type+(_.parameter&&_.parameter.length?" "+_.parameter:"")+`\r
`}),c},s.parseSsrcMedia=function(d){const c=d.indexOf(" "),g={ssrc:parseInt(d.substr(7,c-7),10)},_=d.indexOf(":",c);return _>-1?(g.attribute=d.substr(c+1,_-c-1),g.value=d.substr(_+1)):g.attribute=d.substr(c+1),g},s.parseSsrcGroup=function(d){const c=d.substr(13).split(" ");return{semantics:c.shift(),ssrcs:c.map(g=>parseInt(g,10))}},s.getMid=function(d){const c=s.matchPrefix(d,"a=mid:")[0];if(c)return c.substr(6)},s.parseFingerprint=function(d){const c=d.substr(14).split(" ");return{algorithm:c[0].toLowerCase(),value:c[1].toUpperCase()}},s.getDtlsParameters=function(d,c){const g=s.matchPrefix(d+c,"a=fingerprint:");return{role:"auto",fingerprints:g.map(s.parseFingerprint)}},s.writeDtlsParameters=function(d,c){let g="a=setup:"+c+`\r
`;return d.fingerprints.forEach(_=>{g+="a=fingerprint:"+_.algorithm+" "+_.value+`\r
`}),g},s.parseCryptoLine=function(d){const c=d.substr(9).split(" ");return{tag:parseInt(c[0],10),cryptoSuite:c[1],keyParams:c[2],sessionParams:c.slice(3)}},s.writeCryptoLine=function(d){return"a=crypto:"+d.tag+" "+d.cryptoSuite+" "+(typeof d.keyParams=="object"?s.writeCryptoKeyParams(d.keyParams):d.keyParams)+(d.sessionParams?" "+d.sessionParams.join(" "):"")+`\r
`},s.parseCryptoKeyParams=function(d){if(d.indexOf("inline:")!==0)return null;const c=d.substr(7).split("|");return{keyMethod:"inline",keySalt:c[0],lifeTime:c[1],mkiValue:c[2]?c[2].split(":")[0]:void 0,mkiLength:c[2]?c[2].split(":")[1]:void 0}},s.writeCryptoKeyParams=function(d){return d.keyMethod+":"+d.keySalt+(d.lifeTime?"|"+d.lifeTime:"")+(d.mkiValue&&d.mkiLength?"|"+d.mkiValue+":"+d.mkiLength:"")},s.getCryptoParameters=function(d,c){return s.matchPrefix(d+c,"a=crypto:").map(s.parseCryptoLine)},s.getIceParameters=function(d,c){const g=s.matchPrefix(d+c,"a=ice-ufrag:")[0],_=s.matchPrefix(d+c,"a=ice-pwd:")[0];return g&&_?{usernameFragment:g.substr(12),password:_.substr(10)}:null},s.writeIceParameters=function(d){let c="a=ice-ufrag:"+d.usernameFragment+`\r
a=ice-pwd:`+d.password+`\r
`;return d.iceLite&&(c+=`a=ice-lite\r
`),c},s.parseRtpParameters=function(d){const c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},_=s.splitLines(d)[0].split(" ");for(let b=3;b<_.length;b++){const $=_[b],tt=s.matchPrefix(d,"a=rtpmap:"+$+" ")[0];if(tt){const nt=s.parseRtpMap(tt),ot=s.matchPrefix(d,"a=fmtp:"+$+" ");switch(nt.parameters=ot.length?s.parseFmtp(ot[0]):{},nt.rtcpFeedback=s.matchPrefix(d,"a=rtcp-fb:"+$+" ").map(s.parseRtcpFb),c.codecs.push(nt),nt.name.toUpperCase()){case"RED":case"ULPFEC":c.fecMechanisms.push(nt.name.toUpperCase());break}}}return s.matchPrefix(d,"a=extmap:").forEach(b=>{c.headerExtensions.push(s.parseExtmap(b))}),c},s.writeRtpDescription=function(d,c){let g="";g+="m="+d+" ",g+=c.codecs.length>0?"9":"0",g+=" UDP/TLS/RTP/SAVPF ",g+=c.codecs.map(b=>b.preferredPayloadType!==void 0?b.preferredPayloadType:b.payloadType).join(" ")+`\r
`,g+=`c=IN IP4 0.0.0.0\r
`,g+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,c.codecs.forEach(b=>{g+=s.writeRtpMap(b),g+=s.writeFmtp(b),g+=s.writeRtcpFb(b)});let _=0;return c.codecs.forEach(b=>{b.maxptime>_&&(_=b.maxptime)}),_>0&&(g+="a=maxptime:"+_+`\r
`),c.headerExtensions&&c.headerExtensions.forEach(b=>{g+=s.writeExtmap(b)}),g},s.parseRtpEncodingParameters=function(d){const c=[],g=s.parseRtpParameters(d),_=g.fecMechanisms.indexOf("RED")!==-1,b=g.fecMechanisms.indexOf("ULPFEC")!==-1,$=s.matchPrefix(d,"a=ssrc:").map(ut=>s.parseSsrcMedia(ut)).filter(ut=>ut.attribute==="cname"),tt=$.length>0&&$[0].ssrc;let nt;const ot=s.matchPrefix(d,"a=ssrc-group:FID").map(ut=>ut.substr(17).split(" ").map(Tt=>parseInt(Tt,10)));ot.length>0&&ot[0].length>1&&ot[0][0]===tt&&(nt=ot[0][1]),g.codecs.forEach(ut=>{if(ut.name.toUpperCase()==="RTX"&&ut.parameters.apt){let lt={ssrc:tt,codecPayloadType:parseInt(ut.parameters.apt,10)};tt&&nt&&(lt.rtx={ssrc:nt}),c.push(lt),_&&(lt=JSON.parse(JSON.stringify(lt)),lt.fec={ssrc:tt,mechanism:b?"red+ulpfec":"red"},c.push(lt))}}),c.length===0&&tt&&c.push({ssrc:tt});let dt=s.matchPrefix(d,"b=");return dt.length&&(dt[0].indexOf("b=TIAS:")===0?dt=parseInt(dt[0].substr(7),10):dt[0].indexOf("b=AS:")===0?dt=parseInt(dt[0].substr(5),10)*1e3*.95-50*40*8:dt=void 0,c.forEach(ut=>{ut.maxBitrate=dt})),c},s.parseRtcpParameters=function(d){const c={},g=s.matchPrefix(d,"a=ssrc:").map($=>s.parseSsrcMedia($)).filter($=>$.attribute==="cname")[0];g&&(c.cname=g.value,c.ssrc=g.ssrc);const _=s.matchPrefix(d,"a=rtcp-rsize");c.reducedSize=_.length>0,c.compound=_.length===0;const b=s.matchPrefix(d,"a=rtcp-mux");return c.mux=b.length>0,c},s.writeRtcpParameters=function(d){let c="";return d.reducedSize&&(c+=`a=rtcp-rsize\r
`),d.mux&&(c+=`a=rtcp-mux\r
`),d.ssrc!==void 0&&d.cname&&(c+="a=ssrc:"+d.ssrc+" cname:"+d.cname+`\r
`),c},s.parseMsid=function(d){let c;const g=s.matchPrefix(d,"a=msid:");if(g.length===1)return c=g[0].substr(7).split(" "),{stream:c[0],track:c[1]};const _=s.matchPrefix(d,"a=ssrc:").map(b=>s.parseSsrcMedia(b)).filter(b=>b.attribute==="msid");if(_.length>0)return c=_[0].value.split(" "),{stream:c[0],track:c[1]}},s.parseSctpDescription=function(d){const c=s.parseMLine(d),g=s.matchPrefix(d,"a=max-message-size:");let _;g.length>0&&(_=parseInt(g[0].substr(19),10)),isNaN(_)&&(_=65536);const b=s.matchPrefix(d,"a=sctp-port:");if(b.length>0)return{port:parseInt(b[0].substr(12),10),protocol:c.fmt,maxMessageSize:_};const $=s.matchPrefix(d,"a=sctpmap:");if($.length>0){const tt=$[0].substr(10).split(" ");return{port:parseInt(tt[0],10),protocol:tt[1],maxMessageSize:_}}},s.writeSctpDescription=function(d,c){let g=[];return d.protocol!=="DTLS/SCTP"?g=["m="+d.kind+" 9 "+d.protocol+" "+c.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+c.port+`\r
`]:g=["m="+d.kind+" 9 "+d.protocol+" "+c.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+c.port+" "+c.protocol+` 65535\r
`],c.maxMessageSize!==void 0&&g.push("a=max-message-size:"+c.maxMessageSize+`\r
`),g.join("")},s.generateSessionId=function(){return Math.random().toString().substr(2,21)},s.writeSessionBoilerplate=function(d,c,g){let _;const b=c!==void 0?c:2;return d?_=d:_=s.generateSessionId(),`v=0\r
o=`+(g||"thisisadapterortc")+" "+_+" "+b+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},s.getDirection=function(d,c){const g=s.splitLines(d);for(let _=0;_<g.length;_++)switch(g[_]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return g[_].substr(2)}return c?s.getDirection(c):"sendrecv"},s.getKind=function(d){return s.splitLines(d)[0].split(" ")[0].substr(2)},s.isRejected=function(d){return d.split(" ",2)[1]==="0"},s.parseMLine=function(d){const g=s.splitLines(d)[0].substr(2).split(" ");return{kind:g[0],port:parseInt(g[1],10),protocol:g[2],fmt:g.slice(3).join(" ")}},s.parseOLine=function(d){const g=s.matchPrefix(d,"o=")[0].substr(2).split(" ");return{username:g[0],sessionId:g[1],sessionVersion:parseInt(g[2],10),netType:g[3],addressType:g[4],address:g[5]}},s.isValidSDP=function(d){if(typeof d!="string"||d.length===0)return!1;const c=s.splitLines(d);for(let g=0;g<c.length;g++)if(c[g].length<2||c[g].charAt(1)!=="=")return!1;return!0},a.exports=s})(sdp$1);var SDPUtils=sdp$1.exports,sdp=_mergeNamespaces({__proto__:null,default:SDPUtils},[sdp$1.exports]);function shimRTCIceCandidate(a){if(!a.RTCIceCandidate||a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)return;const s=a.RTCIceCandidate;a.RTCIceCandidate=function(c){if(typeof c=="object"&&c.candidate&&c.candidate.indexOf("a=")===0&&(c=JSON.parse(JSON.stringify(c)),c.candidate=c.candidate.substr(2)),c.candidate&&c.candidate.length){const g=new s(c),_=SDPUtils.parseCandidate(c.candidate),b=Object.assign(g,_);return b.toJSON=function(){return{candidate:b.candidate,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex,usernameFragment:b.usernameFragment}},b}return new s(c)},a.RTCIceCandidate.prototype=s.prototype,wrapPeerConnectionEvent(a,"icecandidate",d=>(d.candidate&&Object.defineProperty(d,"candidate",{value:new a.RTCIceCandidate(d.candidate),writable:"false"}),d))}function shimMaxMessageSize(a,s){if(!a.RTCPeerConnection)return;"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp=="undefined"?null:this._sctp}});const d=function($){if(!$||!$.sdp)return!1;const tt=SDPUtils.splitSections($.sdp);return tt.shift(),tt.some(nt=>{const ot=SDPUtils.parseMLine(nt);return ot&&ot.kind==="application"&&ot.protocol.indexOf("SCTP")!==-1})},c=function($){const tt=$.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(tt===null||tt.length<2)return-1;const nt=parseInt(tt[1],10);return nt!==nt?-1:nt},g=function($){let tt=65536;return s.browser==="firefox"&&(s.version<57?$===-1?tt=16384:tt=2147483637:s.version<60?tt=s.version===57?65535:65536:tt=2147483637),tt},_=function($,tt){let nt=65536;s.browser==="firefox"&&s.version===57&&(nt=65535);const ot=SDPUtils.matchPrefix($.sdp,"a=max-message-size:");return ot.length>0?nt=parseInt(ot[0].substr(19),10):s.browser==="firefox"&&tt!==-1&&(nt=2147483637),nt},b=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,s.browser==="chrome"&&s.version>=76){const{sdpSemantics:tt}=this.getConfiguration();tt==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp=="undefined"?null:this._sctp},enumerable:!0,configurable:!0})}if(d(arguments[0])){const tt=c(arguments[0]),nt=g(tt),ot=_(arguments[0],tt);let dt;nt===0&&ot===0?dt=Number.POSITIVE_INFINITY:nt===0||ot===0?dt=Math.max(nt,ot):dt=Math.min(nt,ot);const ut={};Object.defineProperty(ut,"maxMessageSize",{get(){return dt}}),this._sctp=ut}return b.apply(this,arguments)}}function shimSendThrowTypeError(a){if(!(a.RTCPeerConnection&&"createDataChannel"in a.RTCPeerConnection.prototype))return;function s(c,g){const _=c.send;c.send=function(){const $=arguments[0],tt=$.length||$.size||$.byteLength;if(c.readyState==="open"&&g.sctp&&tt>g.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+g.sctp.maxMessageSize+" bytes)");return _.apply(c,arguments)}}const d=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){const g=d.apply(this,arguments);return s(g,this),g},wrapPeerConnectionEvent(a,"datachannel",c=>(s(c.channel,c.target),c))}function shimConnectionState(a){if(!a.RTCPeerConnection||"connectionState"in a.RTCPeerConnection.prototype)return;const s=a.RTCPeerConnection.prototype;Object.defineProperty(s,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(s,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(d){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),d&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=d)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(d=>{const c=s[d];s[d]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=g=>{const _=g.target;if(_._lastConnectionState!==_.connectionState){_._lastConnectionState=_.connectionState;const b=new Event("connectionstatechange",g);_.dispatchEvent(b)}return g},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),c.apply(this,arguments)}})}function removeExtmapAllowMixed(a,s){if(!a.RTCPeerConnection||s.browser==="chrome"&&s.version>=71||s.browser==="safari"&&s.version>=605)return;const d=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(g){if(g&&g.sdp&&g.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const _=g.sdp.split(`
`).filter(b=>b.trim()!=="a=extmap-allow-mixed").join(`
`);a.RTCSessionDescription&&g instanceof a.RTCSessionDescription?arguments[0]=new a.RTCSessionDescription({type:g.type,sdp:_}):g.sdp=_}return d.apply(this,arguments)}}function shimAddIceCandidateNullOrEmpty(a,s){if(!(a.RTCPeerConnection&&a.RTCPeerConnection.prototype))return;const d=a.RTCPeerConnection.prototype.addIceCandidate;!d||d.length===0||(a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(s.browser==="chrome"&&s.version<78||s.browser==="firefox"&&s.version<68||s.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():d.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function shimParameterlessSetLocalDescription(a,s){if(!(a.RTCPeerConnection&&a.RTCPeerConnection.prototype))return;const d=a.RTCPeerConnection.prototype.setLocalDescription;!d||d.length===0||(a.RTCPeerConnection.prototype.setLocalDescription=function(){let g=arguments[0]||{};if(typeof g!="object"||g.type&&g.sdp)return d.apply(this,arguments);if(g={type:g.type,sdp:g.sdp},!g.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":g.type="offer";break;default:g.type="answer";break}return g.sdp||g.type!=="offer"&&g.type!=="answer"?d.apply(this,[g]):(g.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(b=>d.apply(this,[b]))})}var commonShim=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate,shimMaxMessageSize,shimSendThrowTypeError,shimConnectionState,removeExtmapAllowMixed,shimAddIceCandidateNullOrEmpty,shimParameterlessSetLocalDescription},Symbol.toStringTag,{value:"Module"}));function adapterFactory({window:a}={},s={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const d=log,c=detectBrowser(a),g={browserDetails:c,commonShim,extractVersion,disableLog,disableWarnings,sdp};switch(c.browser){case"chrome":if(!chromeShim||!shimPeerConnection$1||!s.shimChrome)return d("Chrome shim is not included in this adapter release."),g;if(c.version===null)return d("Chrome shim can not determine version, not shimming."),g;d("adapter.js shimming chrome."),g.browserShim=chromeShim,shimAddIceCandidateNullOrEmpty(a,c),shimParameterlessSetLocalDescription(a),shimGetUserMedia$2(a,c),shimMediaStream(a),shimPeerConnection$1(a,c),shimOnTrack$1(a),shimAddTrackRemoveTrack(a,c),shimGetSendersWithDtmf(a),shimGetStats(a),shimSenderReceiverGetStats(a),fixNegotiationNeeded(a,c),shimRTCIceCandidate(a),shimConnectionState(a),shimMaxMessageSize(a,c),shimSendThrowTypeError(a),removeExtmapAllowMixed(a,c);break;case"firefox":if(!firefoxShim||!shimPeerConnection||!s.shimFirefox)return d("Firefox shim is not included in this adapter release."),g;d("adapter.js shimming firefox."),g.browserShim=firefoxShim,shimAddIceCandidateNullOrEmpty(a,c),shimParameterlessSetLocalDescription(a),shimGetUserMedia$1(a,c),shimPeerConnection(a,c),shimOnTrack(a),shimRemoveStream(a),shimSenderGetStats(a),shimReceiverGetStats(a),shimRTCDataChannel(a),shimAddTransceiver(a),shimGetParameters(a),shimCreateOffer(a),shimCreateAnswer(a),shimRTCIceCandidate(a),shimConnectionState(a),shimMaxMessageSize(a,c),shimSendThrowTypeError(a);break;case"safari":if(!safariShim||!s.shimSafari)return d("Safari shim is not included in this adapter release."),g;d("adapter.js shimming safari."),g.browserShim=safariShim,shimAddIceCandidateNullOrEmpty(a,c),shimParameterlessSetLocalDescription(a),shimRTCIceServerUrls(a),shimCreateOfferLegacy(a),shimCallbacksAPI(a),shimLocalStreamsAPI(a),shimRemoteStreamsAPI(a),shimTrackEventTransceiver(a),shimGetUserMedia(a),shimAudioContext(a),shimRTCIceCandidate(a),shimMaxMessageSize(a,c),shimSendThrowTypeError(a),removeExtmapAllowMixed(a,c);break;default:d("Unsupported browser!");break}return g}adapterFactory({window:typeof window=="undefined"?void 0:window});var __awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(SignalClient$1,"__esModule",{value:!0});SignalClient$1.toProtoSessionDescription=SignalClient$1.SignalClient=void 0;const logger_1$1=__importDefault$3(logger),livekit_rtc_1=livekit_rtc,errors_1$1=errors,utils_1$1=utils$f;class SignalClient{constructor(s=!1){this.isConnected=!1,this.useJSON=s}join(s,d,c){return __awaiter$3(this,void 0,void 0,function*(){return yield this.connect(s,d,{autoSubscribe:c==null?void 0:c.autoSubscribe})})}reconnect(s,d){return __awaiter$3(this,void 0,void 0,function*(){yield this.connect(s,d,{reconnect:!0})})}connect(s,d,c){s.startsWith("http")&&(s=s.replace("http","ws")),s=s.replace(/\/$/,""),s+="/rtc";const g=utils_1$1.getClientInfo(),_=createConnectionParams(d,g,c);return new Promise((b,$)=>{logger_1$1.default.debug("connecting to",s+_),this.ws=void 0;const tt=new WebSocket(s+_);tt.binaryType="arraybuffer",tt.onerror=nt=>__awaiter$3(this,void 0,void 0,function*(){if(!this.ws){try{const ot=yield fetch(`http${s.substring(2)}/validate${_}`);if(ot.ok)$(new errors_1$1.ConnectionError("Internal error"));else{const dt=yield ot.text();$(new errors_1$1.ConnectionError(dt))}}catch{$(new errors_1$1.ConnectionError("server was not reachable"))}return}this.handleWSError(nt)}),tt.onopen=()=>{this.ws=tt,c.reconnect&&(this.isConnected=!0,b())},tt.onmessage=nt=>__awaiter$3(this,void 0,void 0,function*(){let ot;if(typeof nt.data=="string"){const dt=JSON.parse(nt.data);ot=livekit_rtc_1.SignalResponse.fromJSON(dt)}else if(nt.data instanceof ArrayBuffer)ot=livekit_rtc_1.SignalResponse.decode(new Uint8Array(nt.data));else{logger_1$1.default.error("could not decode websocket message",typeof nt.data);return}if(!this.isConnected){ot.join?(this.isConnected=!0,b(ot.join)):$(new errors_1$1.ConnectionError("did not receive join response"));return}this.signalLatency&&(yield utils_1$1.sleep(this.signalLatency)),this.handleSignalResponse(ot)}),tt.onclose=nt=>{!this.isConnected||(logger_1$1.default.debug("websocket connection closed",nt.reason),this.isConnected=!1,this.onClose&&this.onClose(nt.reason),this.ws===tt&&(this.ws=void 0))}})}close(){var s;this.isConnected=!1,this.ws&&(this.ws.onclose=null),(s=this.ws)===null||s===void 0||s.close(),this.ws=void 0}sendOffer(s){logger_1$1.default.debug("sending offer",s),this.sendRequest({offer:toProtoSessionDescription(s)})}sendAnswer(s){logger_1$1.default.debug("sending answer"),this.sendRequest({answer:toProtoSessionDescription(s)})}sendIceCandidate(s,d){logger_1$1.default.trace("sending ice candidate",s),this.sendRequest({trickle:{candidateInit:JSON.stringify(s),target:d}})}sendMuteTrack(s,d){this.sendRequest({mute:{sid:s,muted:d}})}sendAddTrack(s){this.sendRequest({addTrack:livekit_rtc_1.AddTrackRequest.fromPartial(s)})}sendUpdateTrackSettings(s){this.sendRequest({trackSetting:s})}sendUpdateSubscription(s){this.sendRequest({subscription:s})}sendSyncState(s){this.sendRequest({syncState:s})}sendUpdateVideoLayers(s,d){this.sendRequest({updateLayers:{trackSid:s,layers:d}})}sendUpdateSubscriptionPermissions(s,d){this.sendRequest({subscriptionPermissions:{allParticipants:s,trackPermissions:d}})}sendSimulateScenario(s){this.sendRequest({simulate:s})}sendLeave(){this.sendRequest(livekit_rtc_1.SignalRequest.fromPartial({leave:{}}))}sendRequest(s){return __awaiter$3(this,void 0,void 0,function*(){if(this.signalLatency&&(yield utils_1$1.sleep(this.signalLatency)),!this.ws){logger_1$1.default.error("cannot send signal request before connected");return}try{this.useJSON?this.ws.send(JSON.stringify(livekit_rtc_1.SignalRequest.toJSON(s))):this.ws.send(livekit_rtc_1.SignalRequest.encode(s).finish())}catch(d){logger_1$1.default.error("error sending signal message",d)}})}handleSignalResponse(s){if(s.answer){const d=fromProtoSessionDescription(s.answer);this.onAnswer&&this.onAnswer(d)}else if(s.offer){const d=fromProtoSessionDescription(s.offer);this.onOffer&&this.onOffer(d)}else if(s.trickle){const d=JSON.parse(s.trickle.candidateInit);this.onTrickle&&this.onTrickle(d,s.trickle.target)}else s.update?this.onParticipantUpdate&&this.onParticipantUpdate(s.update.participants):s.trackPublished?this.onLocalTrackPublished&&this.onLocalTrackPublished(s.trackPublished):s.speakersChanged?this.onSpeakersChanged&&this.onSpeakersChanged(s.speakersChanged.speakers):s.leave?this.onLeave&&this.onLeave():s.mute?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(s.mute.sid,s.mute.muted):s.roomUpdate?this.onRoomUpdate&&this.onRoomUpdate(s.roomUpdate.room):s.connectionQuality?this.onConnectionQuality&&this.onConnectionQuality(s.connectionQuality):s.streamStateUpdate?this.onStreamStateUpdate&&this.onStreamStateUpdate(s.streamStateUpdate):s.subscribedQualityUpdate?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(s.subscribedQualityUpdate):s.subscriptionPermissionUpdate?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(s.subscriptionPermissionUpdate):logger_1$1.default.debug("unsupported message",s)}handleWSError(s){logger_1$1.default.error("websocket error",s)}}SignalClient$1.SignalClient=SignalClient;function fromProtoSessionDescription(a){const s={type:"offer",sdp:a.sdp};switch(a.type){case"answer":case"offer":case"pranswer":case"rollback":s.type=a.type;break}return s}function toProtoSessionDescription(a){return{sdp:a.sdp,type:a.type}}SignalClient$1.toProtoSessionDescription=toProtoSessionDescription;function createConnectionParams(a,s,d){const c=new URLSearchParams;return c.set("access_token",a),d!=null&&d.reconnect&&c.set("reconnect","1"),(d==null?void 0:d.autoSubscribe)!==void 0&&c.set("auto_subscribe",d.autoSubscribe?"1":"0"),c.set("sdk","js"),c.set("version",s.version),c.set("protocol",s.protocol.toString()),s.deviceModel&&c.set("device_model",s.deviceModel),s.os&&c.set("os",s.os),s.osVersion&&c.set("os_version",s.osVersion),s.browser&&c.set("browser",s.browser),s.browserVersion&&c.set("browser_version",s.browserVersion),`?${c.toString()}`}var RTCEngine={},PCTransport$1={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(PCTransport$1,"__esModule",{value:!0});const ts_debounce_1=require$$0$1,logger_1=__importDefault$2(logger);class PCTransport{constructor(s){this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.negotiate=ts_debounce_1.debounce(()=>{this.createAndSendOffer()},100),this.pc=new RTCPeerConnection(s)}get isICEConnected(){return this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed"}addIceCandidate(s){return __awaiter$2(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(s);this.pendingCandidates.push(s)})}setRemoteDescription(s){return __awaiter$2(this,void 0,void 0,function*(){yield this.pc.setRemoteDescription(s),this.pendingCandidates.forEach(d=>{this.pc.addIceCandidate(d)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate&&(this.renegotiate=!1,this.createAndSendOffer())})}createAndSendOffer(s){return __awaiter$2(this,void 0,void 0,function*(){if(this.onOffer===void 0)return;if(s!=null&&s.iceRestart&&(logger_1.default.debug("restarting ICE"),this.restartingIce=!0),this.pc.signalingState==="have-local-offer"){const c=this.pc.remoteDescription;if((s==null?void 0:s.iceRestart)&&c)yield this.pc.setRemoteDescription(c);else{this.renegotiate=!0;return}}else if(this.pc.signalingState==="closed"){logger_1.default.warn("could not createOffer with closed peer connection");return}logger_1.default.debug("starting to negotiate");const d=yield this.pc.createOffer(s);yield this.pc.setLocalDescription(d),this.onOffer(d)})}close(){this.pc.close()}}PCTransport$1.default=PCTransport;(function(a){var s=commonjsGlobal&&commonjsGlobal.__awaiter||function(vt,it,ct,mt){function Nt(Ot){return Ot instanceof ct?Ot:new ct(function(At){At(Ot)})}return new(ct||(ct=Promise))(function(Ot,At){function Pt($t){try{Ct(mt.next($t))}catch(gt){At(gt)}}function St($t){try{Ct(mt.throw($t))}catch(gt){At(gt)}}function Ct($t){$t.done?Ot($t.value):Nt($t.value).then(Pt,St)}Ct((mt=mt.apply(vt,it||[])).next())})},d=commonjsGlobal&&commonjsGlobal.__importDefault||function(vt){return vt&&vt.__esModule?vt:{default:vt}};Object.defineProperty(a,"__esModule",{value:!0}),a.maxICEConnectTimeout=void 0;const c=events.exports,g=SignalClient$1,_=d(logger),b=livekit_models$1,$=livekit_rtc,tt=errors,nt=events$1,ot=d(PCTransport$1),dt=utils$f,ut="_lossy",lt="_reliable",Tt=5;a.maxICEConnectTimeout=5*1e3;class yt extends c.EventEmitter{constructor(){super(),this.rtcConfig={},this.subscriberPrimary=!1,this.iceConnected=!1,this.isClosed=!0,this.pendingTrackResolvers={},this.hasPublished=!1,this.reconnectAttempts=0,this.handleDataChannel=({channel:it})=>s(this,void 0,void 0,function*(){if(!!it){if(it.label===lt)this.reliableDCSub=it;else if(it.label===ut)this.lossyDCSub=it;else return;it.onmessage=this.handleDataMessage}}),this.handleDataMessage=it=>s(this,void 0,void 0,function*(){let ct;if(it.data instanceof ArrayBuffer)ct=it.data;else if(it.data instanceof Blob)ct=yield it.data.arrayBuffer();else{_.default.error("unsupported data type",it.data);return}const mt=b.DataPacket.decode(new Uint8Array(ct));mt.speaker?this.emit(nt.EngineEvent.ActiveSpeakersUpdate,mt.speaker.speakers):mt.user&&this.emit(nt.EngineEvent.DataPacketReceived,mt.user,mt.kind)}),this.handleDisconnect=it=>{if(this.isClosed)return;if(_.default.debug(`${it} disconnected`),this.reconnectAttempts>=Tt){_.default.info("could not connect to signal after",Tt,"attempts. giving up"),this.emit(nt.EngineEvent.Disconnected),this.close();return}const ct=this.reconnectAttempts*this.reconnectAttempts*300;setTimeout(()=>{this.reconnect().then(()=>{this.reconnectAttempts=0}).catch(this.handleDisconnect)},ct)},this.client=new g.SignalClient}join(it,ct,mt){return s(this,void 0,void 0,function*(){this.url=it,this.token=ct;const Nt=yield this.client.join(it,ct,mt);return this.emit(nt.EngineEvent.SignalConnected),this.isClosed=!1,this.subscriberPrimary=Nt.subscriberPrimary,this.publisher||this.configure(Nt),this.subscriberPrimary||this.negotiate(),Nt})}close(){this.isClosed=!0,this.removeAllListeners(),this.publisher&&this.publisher.pc.signalingState!=="closed"&&(this.publisher.pc.getSenders().forEach(it=>{var ct;try{(ct=this.publisher)===null||ct===void 0||ct.pc.removeTrack(it)}catch(mt){_.default.warn("could not removeTrack",mt)}}),this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),this.client.close()}addTrack(it){if(this.pendingTrackResolvers[it.cid])throw new tt.TrackInvalidError("a track with the same ID has already been published");return new Promise(ct=>{this.pendingTrackResolvers[it.cid]=ct,this.client.sendAddTrack(it)})}updateMuteStatus(it,ct){this.client.sendMuteTrack(it,ct)}get dataSubscriberReadyState(){var it;return(it=this.reliableDCSub)===null||it===void 0?void 0:it.readyState}get connectedServerAddress(){return this.connectedServerAddr}configure(it){if(this.publisher||this.subscriber)return;if(it.iceServers&&!this.rtcConfig.iceServers){const mt=[];it.iceServers.forEach(Nt=>{const Ot={urls:Nt.urls};Nt.username&&(Ot.username=Nt.username),Nt.credential&&(Ot.credential=Nt.credential),mt.push(Ot)}),this.rtcConfig.iceServers=mt}this.publisher=new ot.default(this.rtcConfig),this.subscriber=new ot.default(this.rtcConfig),this.publisher.pc.onicecandidate=mt=>{!mt.candidate||(_.default.trace("adding ICE candidate for peer",mt.candidate),this.client.sendIceCandidate(mt.candidate,$.SignalTarget.PUBLISHER))},this.subscriber.pc.onicecandidate=mt=>{!mt.candidate||this.client.sendIceCandidate(mt.candidate,$.SignalTarget.SUBSCRIBER)},this.publisher.onOffer=mt=>{this.client.sendOffer(mt)};let ct=this.publisher.pc;it.subscriberPrimary&&(ct=this.subscriber.pc,this.subscriber.pc.ondatachannel=this.handleDataChannel),ct.oniceconnectionstatechange=()=>{ct.iceConnectionState==="connected"?(_.default.trace("ICE connected"),this.iceConnected||(this.iceConnected=!0,this.emit(nt.EngineEvent.Connected)),pt(ct).then(mt=>{this.connectedServerAddr=mt})):ct.iceConnectionState==="failed"&&(_.default.trace("ICE disconnected"),this.iceConnected&&(this.iceConnected=!1,this.handleDisconnect("peerconnection")))},this.subscriber.pc.ontrack=mt=>{this.emit(nt.EngineEvent.MediaTrackAdded,mt.track,mt.streams[0],mt.receiver)},this.lossyDC=this.publisher.pc.createDataChannel(ut,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.publisher.pc.createDataChannel(lt,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.client.onAnswer=mt=>s(this,void 0,void 0,function*(){!this.publisher||(_.default.debug("received server answer",mt.type,this.publisher.pc.signalingState),yield this.publisher.setRemoteDescription(mt))}),this.client.onTrickle=(mt,Nt)=>{!this.publisher||!this.subscriber||(_.default.trace("got ICE candidate from peer",mt,Nt),Nt===$.SignalTarget.PUBLISHER?this.publisher.addIceCandidate(mt):this.subscriber.addIceCandidate(mt))},this.client.onOffer=mt=>s(this,void 0,void 0,function*(){if(!this.subscriber)return;_.default.debug("received server offer",mt.type,this.subscriber.pc.signalingState),yield this.subscriber.setRemoteDescription(mt);const Nt=yield this.subscriber.pc.createAnswer();yield this.subscriber.pc.setLocalDescription(Nt),this.client.sendAnswer(Nt)}),this.client.onLocalTrackPublished=mt=>{_.default.debug("received trackPublishedResponse",mt);const Nt=this.pendingTrackResolvers[mt.cid];if(!Nt){_.default.error("missing track resolver for ",mt.cid);return}delete this.pendingTrackResolvers[mt.cid],Nt(mt.track)},this.client.onClose=()=>{this.handleDisconnect("signal")},this.client.onLeave=()=>{this.emit(nt.EngineEvent.Disconnected),this.close()}}reconnect(){return s(this,void 0,void 0,function*(){if(this.isClosed)return;if(!this.url||!this.token)throw new tt.ConnectionError("could not reconnect, url or token not saved");if(_.default.info("reconnecting to signal connection, attempt",this.reconnectAttempts),this.reconnectAttempts===0&&this.emit(nt.EngineEvent.Reconnecting),this.reconnectAttempts+=1,yield this.client.reconnect(this.url,this.token),this.emit(nt.EngineEvent.SignalConnected),!this.publisher||!this.subscriber)throw new tt.UnexpectedConnectionState("publisher and subscriber connections unset");this.subscriber.restartingIce=!0,this.hasPublished&&(yield this.publisher.createAndSendOffer({iceRestart:!0}));const it=new Date().getTime();for(;new Date().getTime()-it<a.maxICEConnectTimeout*2;){if(this.iceConnected){this.emit(nt.EngineEvent.Reconnected);return}yield dt.sleep(100)}throw new tt.ConnectionError("could not establish ICE connection")})}sendDataPacket(it,ct){return s(this,void 0,void 0,function*(){const mt=b.DataPacket.encode(it).finish();yield this.ensurePublisherConnected(ct),ct===b.DataPacket_Kind.LOSSY&&this.lossyDC?this.lossyDC.send(mt):ct===b.DataPacket_Kind.RELIABLE&&this.reliableDC&&this.reliableDC.send(mt)})}ensurePublisherConnected(it){var ct,mt;return s(this,void 0,void 0,function*(){if(!this.subscriberPrimary)return;if(!this.publisher)throw new tt.ConnectionError("publisher connection not set");!this.publisher.isICEConnected&&this.publisher.pc.iceConnectionState!=="checking"&&this.negotiate();const Nt=this.dataChannelForKind(it);if((Nt==null?void 0:Nt.readyState)==="open")return;const Ot=new Date().getTime()+a.maxICEConnectTimeout;for(;new Date().getTime()<Ot;){if(this.publisher.isICEConnected&&((ct=this.dataChannelForKind(it))===null||ct===void 0?void 0:ct.readyState)==="open")return;yield dt.sleep(50)}throw new tt.ConnectionError(`could not establish publisher connection, state ${(mt=this.publisher)===null||mt===void 0?void 0:mt.pc.iceConnectionState}`)})}negotiate(){!this.publisher||(this.hasPublished=!0,this.publisher.negotiate())}dataChannelForKind(it){if(it===b.DataPacket_Kind.LOSSY)return this.lossyDC;if(it===b.DataPacket_Kind.RELIABLE)return this.reliableDC}}a.default=yt;function pt(vt){var it;return s(this,void 0,void 0,function*(){let ct="";const mt=new Map,Nt=new Map;if((yield vt.getStats()).forEach(Pt=>{switch(Pt.type){case"transport":ct=Pt.selectedCandidatePairId;break;case"candidate-pair":ct===""&&Pt.selected&&(ct=Pt.id),mt.set(Pt.id,Pt);break;case"remote-candidate":Nt.set(Pt.id,`${Pt.address}:${Pt.port}`);break}}),ct==="")return;const At=(it=mt.get(ct))===null||it===void 0?void 0:it.remoteCandidateId;if(At!==void 0)return Nt.get(At)})}})(RTCEngine);var defaults$4={};Object.defineProperty(defaults$4,"__esModule",{value:!0});defaults$4.videoDefaults=defaults$4.audioDefaults=defaults$4.publishDefaults=void 0;const options_1$1=options$1;defaults$4.publishDefaults={audioBitrate:options_1$1.AudioPresets.speech.maxBitrate,dtx:!0,simulcast:!0,screenShareEncoding:options_1$1.ScreenSharePresets.hd_15.encoding,stopMicTrackOnMute:!1};defaults$4.audioDefaults={autoGainControl:!0,channelCount:1,echoCancellation:!0,noiseSuppression:!0};defaults$4.videoDefaults={resolution:options_1$1.VideoPresets.qhd.resolution};(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ot,At,Pt,St){St===void 0&&(St=Pt),Object.defineProperty(Ot,St,{enumerable:!0,get:function(){return At[Pt]}})}:function(Ot,At,Pt,St){St===void 0&&(St=Pt),Ot[St]=At[Pt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ot,At){Object.defineProperty(Ot,"default",{enumerable:!0,value:At})}:function(Ot,At){Ot.default=At}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(Ot){if(Ot&&Ot.__esModule)return Ot;var At={};if(Ot!=null)for(var Pt in Ot)Pt!=="default"&&Object.prototype.hasOwnProperty.call(Ot,Pt)&&s(At,Ot,Pt);return d(At,Ot),At},g=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ot,At,Pt,St){function Ct($t){return $t instanceof Pt?$t:new Pt(function(gt){gt($t)})}return new(Pt||(Pt=Promise))(function($t,gt){function It(Ut){try{zt(St.next(Ut))}catch(Dt){gt(Dt)}}function Rt(Ut){try{zt(St.throw(Ut))}catch(Dt){gt(Dt)}}function zt(Ut){Ut.done?$t(Ut.value):Ct(Ut.value).then(It,Rt)}zt((St=St.apply(Ot,At||[])).next())})},_=commonjsGlobal&&commonjsGlobal.__importDefault||function(Ot){return Ot&&Ot.__esModule?Ot:{default:Ot}};Object.defineProperty(a,"__esModule",{value:!0}),a.RoomState=void 0;const b=events.exports,$=SignalClient$1,tt=_(logger),nt=livekit_models$1,ot=livekit_rtc,dt=_(DeviceManager$1),ut=errors,lt=events$1,Tt=_(LocalParticipant$1),yt=_(RemoteParticipant$1),pt=c(RTCEngine),vt=defaults$4,it=Track,ct=utils$f;var mt;(function(Ot){Ot.Disconnected="disconnected",Ot.Connected="connected",Ot.Reconnecting="reconnecting"})(mt=a.RoomState||(a.RoomState={}));class Nt extends b.EventEmitter{constructor(At){super(),this.state=mt.Disconnected,this.activeSpeakers=[],this.sid="",this.name="",this.metadata=void 0,this.audioEnabled=!0,this.connect=(Pt,St,Ct)=>g(this,void 0,void 0,function*(){if(this.state!==mt.Disconnected){tt.default.warn("already connected to room",this.name);return}this.createEngine(),this.acquireAudioContext(),Ct!=null&&Ct.rtcConfig&&(this.engine.rtcConfig=Ct.rtcConfig),this.connOptions=Ct;try{const $t=yield this.engine.join(Pt,St,Ct);if(tt.default.debug("connected to Livekit Server",$t.serverVersion),!$t.serverVersion)throw new ut.UnsupportedServer("unknown server version");$t.serverVersion==="0.15.1"&&this.options.dynacast&&(tt.default.debug("disabling dynacast due to server version"),this.options.dynacast=!1),this.state=mt.Connected;const gt=$t.participant;this.localParticipant=new Tt.default(gt.sid,gt.identity,this.engine,this.options),this.localParticipant.updateInfo(gt),this.localParticipant.on(lt.ParticipantEvent.MetadataChanged,It=>{this.emit(lt.RoomEvent.MetadataChanged,It,this.localParticipant)}).on(lt.ParticipantEvent.ParticipantMetadataChanged,It=>{this.emit(lt.RoomEvent.ParticipantMetadataChanged,It,this.localParticipant)}).on(lt.ParticipantEvent.TrackMuted,It=>{this.emit(lt.RoomEvent.TrackMuted,It,this.localParticipant)}).on(lt.ParticipantEvent.TrackUnmuted,It=>{this.emit(lt.RoomEvent.TrackUnmuted,It,this.localParticipant)}).on(lt.ParticipantEvent.LocalTrackPublished,It=>{this.emit(lt.RoomEvent.LocalTrackPublished,It,this.localParticipant)}).on(lt.ParticipantEvent.LocalTrackUnpublished,It=>{this.emit(lt.RoomEvent.LocalTrackUnpublished,It,this.localParticipant)}).on(lt.ParticipantEvent.ConnectionQualityChanged,It=>{this.emit(lt.RoomEvent.ConnectionQualityChanged,It,this.localParticipant)}).on(lt.ParticipantEvent.MediaDevicesError,It=>{this.emit(lt.RoomEvent.MediaDevicesError,It)}),$t.otherParticipants.forEach(It=>{this.getOrCreateParticipant(It.sid,It)}),this.name=$t.room.name,this.sid=$t.room.sid,this.metadata=$t.room.metadata}catch($t){throw this.engine.close(),$t}return new Promise(($t,gt)=>{const It=setTimeout(()=>{this.engine.close(),gt(new ut.ConnectionError("could not connect after timeout"))},pt.maxICEConnectTimeout);this.engine.once(lt.EngineEvent.Connected,()=>{clearTimeout(It),window.addEventListener("beforeunload",this.onBeforeUnload),navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange),$t(this)})})}),this.disconnect=(Pt=!0)=>{this.engine&&(this.engine.client.sendLeave(),this.engine.close()),this.handleDisconnect(Pt),this.engine=void 0},this.onBeforeUnload=()=>{this.disconnect()},this.handleParticipantUpdates=Pt=>{Pt.forEach(St=>{if(St.sid===this.localParticipant.sid){this.localParticipant.updateInfo(St);return}let Ct=this.participants.get(St.sid);const $t=!Ct;Ct=this.getOrCreateParticipant(St.sid,St),St.state===nt.ParticipantInfo_State.DISCONNECTED?this.handleParticipantDisconnected(St.sid,Ct):$t?this.emit(lt.RoomEvent.ParticipantConnected,Ct):Ct.updateInfo(St)})},this.handleActiveSpeakersUpdate=Pt=>{const St=[],Ct={};Pt.forEach($t=>{if(Ct[$t.sid]=!0,$t.sid===this.localParticipant.sid)this.localParticipant.audioLevel=$t.level,this.localParticipant.setIsSpeaking(!0),St.push(this.localParticipant);else{const gt=this.participants.get($t.sid);gt&&(gt.audioLevel=$t.level,gt.setIsSpeaking(!0),St.push(gt))}}),Ct[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach($t=>{Ct[$t.sid]||($t.audioLevel=0,$t.setIsSpeaking(!1))}),this.activeSpeakers=St,this.emit(lt.RoomEvent.ActiveSpeakersChanged,St)},this.handleSpeakersChanged=Pt=>{const St=new Map;this.activeSpeakers.forEach($t=>{St.set($t.sid,$t)}),Pt.forEach($t=>{let gt=this.participants.get($t.sid);$t.sid===this.localParticipant.sid&&(gt=this.localParticipant),gt&&(gt.audioLevel=$t.level,gt.setIsSpeaking($t.active),$t.active?St.set($t.sid,gt):St.delete($t.sid))});const Ct=Array.from(St.values());Ct.sort(($t,gt)=>gt.audioLevel-$t.audioLevel),this.activeSpeakers=Ct,this.emit(lt.RoomEvent.ActiveSpeakersChanged,Ct)},this.handleStreamStateUpdate=Pt=>{Pt.streamStates.forEach(St=>{const Ct=this.participants.get(St.participantSid);if(!Ct)return;const $t=Ct.getTrackPublication(St.trackSid);!$t||!$t.track||($t.track.streamState=it.Track.streamStateFromProto(St.state),Ct.emit(lt.ParticipantEvent.TrackStreamStateChanged,$t,$t.track.streamState),this.emit(lt.ParticipantEvent.TrackStreamStateChanged,$t,$t.track.streamState,Ct))})},this.handleSubscriptionPermissionUpdate=Pt=>{const St=this.participants.get(Pt.participantSid);if(!St)return;const Ct=St.getTrackPublication(Pt.trackSid);!Ct||(Ct._allowed=Pt.allowed,St.emit(lt.ParticipantEvent.TrackSubscriptionPermissionChanged,Ct,Ct.subscriptionStatus),this.emit(lt.ParticipantEvent.TrackSubscriptionPermissionChanged,Ct,Ct.subscriptionStatus,St))},this.handleDataPacket=(Pt,St)=>{const Ct=this.participants.get(Pt.participantSid);this.emit(lt.RoomEvent.DataReceived,Pt.payload,Ct,St),Ct==null||Ct.emit(lt.ParticipantEvent.DataReceived,Pt.payload,St)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(lt.RoomEvent.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=Pt=>{tt.default.warn("could not playback audio",Pt),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(lt.RoomEvent.AudioPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>g(this,void 0,void 0,function*(){this.emit(lt.RoomEvent.MediaDevicesChanged)}),this.handleRoomUpdate=Pt=>{this.metadata=Pt.metadata,this.emit(lt.RoomEvent.RoomMetadataChanged,Pt.metadata)},this.handleConnectionQualityUpdate=Pt=>{Pt.updates.forEach(St=>{if(St.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(St.quality);return}const Ct=this.participants.get(St.participantSid);Ct&&Ct.setConnectionQuality(St.quality)})},this.participants=new Map,this.options=At||{},this.options.audioCaptureDefaults=Object.assign(Object.assign({},vt.audioDefaults),At==null?void 0:At.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},vt.videoDefaults),At==null?void 0:At.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},vt.publishDefaults),At==null?void 0:At.publishDefaults),this.createEngine(),this.localParticipant=new Tt.default("","",this.engine,this.options)}createEngine(){this.engine||(this.engine=new pt.default,this.engine.client.signalLatency=this.options.expSignalLatency,this.engine.on(lt.EngineEvent.MediaTrackAdded,(At,Pt,St)=>{this.onTrackAdded(At,Pt,St)}),this.engine.on(lt.EngineEvent.Disconnected,()=>{this.handleDisconnect()}),this.engine.client.onParticipantUpdate=this.handleParticipantUpdates,this.engine.client.onRoomUpdate=this.handleRoomUpdate,this.engine.client.onSpeakersChanged=this.handleSpeakersChanged,this.engine.client.onStreamStateUpdate=this.handleStreamStateUpdate,this.engine.client.onSubscriptionPermissionUpdate=this.handleSubscriptionPermissionUpdate,this.engine.on(lt.EngineEvent.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate),this.engine.on(lt.EngineEvent.DataPacketReceived,this.handleDataPacket),this.engine.on(lt.EngineEvent.Reconnecting,()=>{this.state=mt.Reconnecting,this.emit(lt.RoomEvent.Reconnecting)}),this.engine.on(lt.EngineEvent.Reconnected,()=>{this.state=mt.Connected,this.emit(lt.RoomEvent.Reconnected)}),this.engine.on(lt.EngineEvent.SignalConnected,()=>{this.state===mt.Reconnecting&&this.sendSyncState()}),this.engine.client.onConnectionQuality=this.handleConnectionQualityUpdate)}static getLocalDevices(At){return dt.default.getInstance().getDevices(At)}getParticipantByIdentity(At){for(const[,Pt]of this.participants)if(Pt.identity===At)return Pt;if(this.localParticipant.identity===At)return this.localParticipant}simulateScenario(At){let Pt;switch(At){case"speaker":Pt=ot.SimulateScenario.fromPartial({speakerUpdate:3});break;case"node-failure":Pt=ot.SimulateScenario.fromPartial({nodeFailure:!0});break;case"server-leave":Pt=ot.SimulateScenario.fromPartial({serverLeave:!0});break;case"migration":Pt=ot.SimulateScenario.fromPartial({migration:!0});break}Pt&&this.engine.client.sendSimulateScenario(Pt)}startAudio(){return g(this,void 0,void 0,function*(){this.acquireAudioContext();const At=[];this.participants.forEach(Pt=>{Pt.audioTracks.forEach(St=>{St.track&&St.track.attachedElements.forEach(Ct=>{At.push(Ct)})})});try{yield Promise.all(At.map(Pt=>Pt.play())),this.handleAudioPlaybackStarted()}catch(Pt){throw this.handleAudioPlaybackFailed(Pt),Pt}})}get canPlaybackAudio(){return this.audioEnabled}switchActiveDevice(At,Pt){return g(this,void 0,void 0,function*(){if(At==="audioinput"){const St=Array.from(this.localParticipant.audioTracks.values()).filter(Ct=>Ct.source===it.Track.Source.Microphone);yield Promise.all(St.map(Ct=>{var $t;return($t=Ct.audioTrack)===null||$t===void 0?void 0:$t.setDeviceId(Pt)})),this.options.audioCaptureDefaults.deviceId=Pt}else if(At==="videoinput"){const St=Array.from(this.localParticipant.videoTracks.values()).filter(Ct=>Ct.source===it.Track.Source.Camera);yield Promise.all(St.map(Ct=>{var $t;return($t=Ct.videoTrack)===null||$t===void 0?void 0:$t.setDeviceId(Pt)})),this.options.videoCaptureDefaults.deviceId=Pt}else if(At==="audiooutput"){const St=[];this.participants.forEach(Ct=>{Ct.audioTracks.forEach($t=>{$t.isSubscribed&&$t.track&&$t.track.attachedElements.forEach(gt=>{St.push(gt)})})}),yield Promise.all(St.map(Ct=>g(this,void 0,void 0,function*(){"setSinkId"in Ct&&(yield Ct.setSinkId(Pt))})))}})}onTrackAdded(At,Pt,St){const Ct=ct.unpackStreamId(Pt.id),$t=Ct[0];let gt=Ct[1];(!gt||gt==="")&&(gt=At.id),this.getOrCreateParticipant($t).addSubscribedMediaTrack(At,gt,Pt,St,this.options.adaptiveStream)}handleDisconnect(At=!0){this.state!==mt.Disconnected&&(this.participants.forEach(Pt=>{Pt.tracks.forEach(St=>{Pt.unpublishTrack(St.trackSid)})}),this.localParticipant.tracks.forEach(Pt=>{var St,Ct;Pt.track&&this.localParticipant.unpublishTrack(Pt.track),At&&((St=Pt.track)===null||St===void 0||St.detach(),(Ct=Pt.track)===null||Ct===void 0||Ct.stop())}),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&(this.audioContext.close(),this.audioContext=void 0),window.removeEventListener("beforeunload",this.onBeforeUnload),navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceChange),this.state=mt.Disconnected,this.emit(lt.RoomEvent.Disconnected))}handleParticipantDisconnected(At,Pt){this.participants.delete(At),Pt&&(Pt.tracks.forEach(St=>{Pt.unpublishTrack(St.trackSid)}),this.emit(lt.RoomEvent.ParticipantDisconnected,Pt))}acquireAudioContext(){this.audioContext&&this.audioContext.close();const At=window.AudioContext||window.webkitAudioContext;At&&(this.audioContext=new At)}getOrCreateParticipant(At,Pt){let St=this.participants.get(At);return St||(Pt?St=yt.default.fromParticipantInfo(this.engine.client,Pt):St=new yt.default(this.engine.client,At,""),this.participants.set(At,St),St.on(lt.ParticipantEvent.TrackPublished,Ct=>{this.emit(lt.RoomEvent.TrackPublished,Ct,St)}).on(lt.ParticipantEvent.TrackSubscribed,(Ct,$t)=>{Ct.kind===it.Track.Kind.Audio&&(Ct.on(lt.TrackEvent.AudioPlaybackStarted,this.handleAudioPlaybackStarted),Ct.on(lt.TrackEvent.AudioPlaybackFailed,this.handleAudioPlaybackFailed)),this.emit(lt.RoomEvent.TrackSubscribed,Ct,$t,St)}).on(lt.ParticipantEvent.TrackUnpublished,Ct=>{this.emit(lt.RoomEvent.TrackUnpublished,Ct,St)}).on(lt.ParticipantEvent.TrackUnsubscribed,(Ct,$t)=>{this.emit(lt.RoomEvent.TrackUnsubscribed,Ct,$t,St)}).on(lt.ParticipantEvent.TrackSubscriptionFailed,Ct=>{this.emit(lt.RoomEvent.TrackSubscriptionFailed,Ct,St)}).on(lt.ParticipantEvent.TrackMuted,Ct=>{this.emit(lt.RoomEvent.TrackMuted,Ct,St)}).on(lt.ParticipantEvent.TrackUnmuted,Ct=>{this.emit(lt.RoomEvent.TrackUnmuted,Ct,St)}).on(lt.ParticipantEvent.MetadataChanged,Ct=>{this.emit(lt.RoomEvent.MetadataChanged,Ct,St)}).on(lt.ParticipantEvent.ParticipantMetadataChanged,Ct=>{this.emit(lt.RoomEvent.ParticipantMetadataChanged,Ct,St)}).on(lt.ParticipantEvent.ConnectionQualityChanged,Ct=>{this.emit(lt.RoomEvent.ConnectionQualityChanged,Ct,St)})),St}sendSyncState(){var At;if(this.engine.subscriber===void 0||this.engine.subscriber.pc.localDescription===null)return;const Pt=this.engine.subscriber.pc.localDescription,St=((At=this.connOptions)===null||At===void 0?void 0:At.autoSubscribe)||!1,Ct=new Array;this.participants.forEach($t=>{$t.tracks.forEach(gt=>{gt.isSubscribed!==St&&Ct.push(gt.trackSid)})}),this.engine.client.sendSyncState({answer:$.toProtoSessionDescription({sdp:Pt.sdp,type:Pt.type}),subscription:{trackSids:Ct,subscribe:!St,participantTracks:[]},publishTracks:this.localParticipant.publishedTracksInfo()})}emit(At,...Pt){return tt.default.debug("room event",At,...Pt),super.emit(At,...Pt)}}a.default=Nt})(Room);var connect={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ut,lt,Tt,yt){yt===void 0&&(yt=Tt),Object.defineProperty(ut,yt,{enumerable:!0,get:function(){return lt[Tt]}})}:function(ut,lt,Tt,yt){yt===void 0&&(yt=Tt),ut[yt]=lt[Tt]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ut,lt){Object.defineProperty(ut,"default",{enumerable:!0,value:lt})}:function(ut,lt){ut.default=lt}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var lt={};if(ut!=null)for(var Tt in ut)Tt!=="default"&&Object.prototype.hasOwnProperty.call(ut,Tt)&&s(lt,ut,Tt);return d(lt,ut),lt},g=commonjsGlobal&&commonjsGlobal.__awaiter||function(ut,lt,Tt,yt){function pt(vt){return vt instanceof Tt?vt:new Tt(function(it){it(vt)})}return new(Tt||(Tt=Promise))(function(vt,it){function ct(Ot){try{Nt(yt.next(Ot))}catch(At){it(At)}}function mt(Ot){try{Nt(yt.throw(Ot))}catch(At){it(At)}}function Nt(Ot){Ot.done?vt(Ot.value):pt(Ot.value).then(ct,mt)}Nt((yt=yt.apply(ut,lt||[])).next())})},_=commonjsGlobal&&commonjsGlobal.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(a,"__esModule",{value:!0}),a.connect=a.version=void 0;const b=c(logger),$=errors,tt=events$1,nt=_(Room);var ot=version$1;Object.defineProperty(a,"version",{enumerable:!0,get:function(){return ot.version}});function dt(ut,lt,Tt){var yt,pt,vt,it;return g(this,void 0,void 0,function*(){Tt!=null||(Tt={}),Tt.adaptiveStream===void 0&&(Tt.adaptiveStream=Tt.autoManageVideo),b.setLogLevel((yt=Tt.logLevel)!==null&&yt!==void 0?yt:b.LogLevel.warn);const ct=(pt=Tt.rtcConfig)!==null&&pt!==void 0?pt:{};Tt.iceServers&&(ct.iceServers=Tt.iceServers);const mt=new nt.default(Tt);yield mt.connect(ut,lt,Tt);const Nt=(vt=Tt.audio)!==null&&vt!==void 0?vt:!1,Ot=(it=Tt.video)!==null&&it!==void 0?it:!1;return(Nt||Ot)&&setTimeout(()=>g(this,void 0,void 0,function*(){let At;if(Nt&&Ot)try{yield mt.localParticipant.enableCameraAndMicrophone()}catch(Pt){const St=$.MediaDeviceFailure.getFailure(Pt);if(b.default.warn("received error while creating media",St),Pt instanceof Error&&b.default.warn(Pt.message),St===$.MediaDeviceFailure.NotFound||St===$.MediaDeviceFailure.DeviceInUse)try{yield mt.localParticipant.setMicrophoneEnabled(!0)}catch(Ct){At=Ct}else At=Pt}else if(Nt)try{yield mt.localParticipant.setMicrophoneEnabled(!0)}catch(Pt){At=Pt}else if(Ot)try{yield mt.localParticipant.setCameraEnabled(!0)}catch(Pt){At=Pt}At&&(mt.emit(tt.RoomEvent.MediaDevicesError,At),b.default.error("could not create media",At))})),mt})}a.connect=dt})(connect);var options={};Object.defineProperty(options,"__esModule",{value:!0});var create$1={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(create$1,"__esModule",{value:!0});create$1.createLocalScreenTracks=create$1.createLocalAudioTrack=create$1.createLocalVideoTrack=create$1.createLocalTracks=void 0;const errors_1=errors,publishUtils_1=publishUtils,defaults_1$1=defaults$4,LocalAudioTrack_1=__importDefault$1(LocalAudioTrack$1),LocalVideoTrack_1=__importDefault$1(LocalVideoTrack$1),options_1=options$1,Track_1=Track,utils_1=utils$e;function createLocalTracks(a){var s,d;return __awaiter$1(this,void 0,void 0,function*(){a!=null||(a={}),(s=a.audio)!==null&&s!==void 0||(a.audio=!0),(d=a.video)!==null&&d!==void 0||(a.video=!0);const c=utils_1.mergeDefaultOptions(a,defaults_1$1.audioDefaults,defaults_1$1.videoDefaults),g=utils_1.constraintsForOptions(c);return(yield navigator.mediaDevices.getUserMedia(g)).getTracks().map(b=>{const $=b.kind==="audio";$?a.audio:a.video;let tt;const nt=$?g.audio:g.video;typeof nt!="boolean"&&(tt=nt);const ot=publishUtils_1.mediaTrackToLocalTrack(b,tt);return ot.kind===Track_1.Track.Kind.Video?ot.source=Track_1.Track.Source.Camera:ot.kind===Track_1.Track.Kind.Audio&&(ot.source=Track_1.Track.Source.Microphone),ot})})}create$1.createLocalTracks=createLocalTracks;function createLocalVideoTrack(a){return __awaiter$1(this,void 0,void 0,function*(){return(yield createLocalTracks({audio:!1,video:a}))[0]})}create$1.createLocalVideoTrack=createLocalVideoTrack;function createLocalAudioTrack(a){return __awaiter$1(this,void 0,void 0,function*(){return(yield createLocalTracks({audio:a,video:!1}))[0]})}create$1.createLocalAudioTrack=createLocalAudioTrack;function createLocalScreenTracks(a){var s;return __awaiter$1(this,void 0,void 0,function*(){a===void 0&&(a={}),a.resolution===void 0&&(a.resolution=options_1.VideoPresets.fhd.resolution);let d=!0;a.resolution&&(d={width:a.resolution.width,height:a.resolution.height});const c=yield navigator.mediaDevices.getDisplayMedia({audio:(s=a.audio)!==null&&s!==void 0?s:!1,video:d}),g=c.getVideoTracks();if(g.length===0)throw new errors_1.TrackInvalidError("no video track found");const _=new LocalVideoTrack_1.default(g[0]);_.source=Track_1.Track.Source.ScreenShare;const b=[_];if(c.getAudioTracks().length>0){const $=new LocalAudioTrack_1.default(c.getAudioTracks()[0]);$.source=Track_1.Track.Source.ScreenShareAudio,b.push($)}return b})}create$1.createLocalScreenTracks=createLocalScreenTracks;var types={};Object.defineProperty(types,"__esModule",{value:!0});(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Nt,Ot,At,Pt){Pt===void 0&&(Pt=At),Object.defineProperty(Nt,Pt,{enumerable:!0,get:function(){return Ot[At]}})}:function(Nt,Ot,At,Pt){Pt===void 0&&(Pt=At),Nt[Pt]=Ot[At]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Nt,Ot){Object.defineProperty(Nt,"default",{enumerable:!0,value:Ot})}:function(Nt,Ot){Nt.default=Ot}),c=commonjsGlobal&&commonjsGlobal.__importStar||function(Nt){if(Nt&&Nt.__esModule)return Nt;var Ot={};if(Nt!=null)for(var At in Nt)At!=="default"&&Object.prototype.hasOwnProperty.call(Nt,At)&&s(Ot,Nt,At);return d(Ot,Nt),Ot},g=commonjsGlobal&&commonjsGlobal.__exportStar||function(Nt,Ot){for(var At in Nt)At!=="default"&&!Object.prototype.hasOwnProperty.call(Ot,At)&&s(Ot,Nt,At)},_=commonjsGlobal&&commonjsGlobal.__importDefault||function(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}};Object.defineProperty(a,"__esModule",{value:!0}),a.VideoQuality=a.TrackPublication=a.RemoteTrackPublication=a.RemoteVideoTrack=a.RemoteAudioTrack=a.RemoteTrack=a.LocalTrackPublication=a.LocalTrack=a.LocalVideoTrack=a.LocalAudioTrack=a.LocalParticipant=a.RemoteParticipant=a.Participant=a.ConnectionQuality=a.DataPacket_Kind=a.RoomState=a.Room=a.setLogLevel=void 0;const b=logger;Object.defineProperty(a,"setLogLevel",{enumerable:!0,get:function(){return b.setLogLevel}});const $=livekit_models$1;Object.defineProperty(a,"DataPacket_Kind",{enumerable:!0,get:function(){return $.DataPacket_Kind}}),Object.defineProperty(a,"VideoQuality",{enumerable:!0,get:function(){return $.VideoQuality}});const tt=_(LocalParticipant$1);a.LocalParticipant=tt.default;const nt=c(Participant);a.Participant=nt.default,Object.defineProperty(a,"ConnectionQuality",{enumerable:!0,get:function(){return nt.ConnectionQuality}});const ot=_(RemoteParticipant$1);a.RemoteParticipant=ot.default;const dt=c(Room);a.Room=dt.default,Object.defineProperty(a,"RoomState",{enumerable:!0,get:function(){return dt.RoomState}});const ut=_(LocalAudioTrack$1);a.LocalAudioTrack=ut.default;const lt=_(LocalTrack$1);a.LocalTrack=lt.default;const Tt=_(LocalTrackPublication$1);a.LocalTrackPublication=Tt.default;const yt=_(LocalVideoTrack$1);a.LocalVideoTrack=yt.default;const pt=_(RemoteAudioTrack$1);a.RemoteAudioTrack=pt.default;const vt=_(RemoteTrack$1);a.RemoteTrack=vt.default;const it=_(RemoteTrackPublication$1);a.RemoteTrackPublication=it.default;const ct=_(RemoteVideoTrack$1);a.RemoteVideoTrack=ct.default;const mt=TrackPublication;Object.defineProperty(a,"TrackPublication",{enumerable:!0,get:function(){return mt.TrackPublication}}),g(connect,a),g(options,a),g(errors,a),g(events$1,a),g(create$1,a),g(options$1,a),g(Track,a),g(types,a),g(version$1,a)})(dist$1);var dist={},grants={};Object.defineProperty(grants,"__esModule",{value:!0});var livekit_models={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(a,"__esModule",{value:!0}),a.ParticipantTracks=a.UserPacket=a.SpeakerInfo=a.ActiveSpeakerUpdate=a.DataPacket=a.VideoLayer=a.TrackInfo=a.ParticipantInfo=a.Codec=a.Room=a.dataPacket_KindToJSON=a.dataPacket_KindFromJSON=a.DataPacket_Kind=a.participantInfo_StateToJSON=a.participantInfo_StateFromJSON=a.ParticipantInfo_State=a.connectionQualityToJSON=a.connectionQualityFromJSON=a.ConnectionQuality=a.videoQualityToJSON=a.videoQualityFromJSON=a.VideoQuality=a.trackSourceToJSON=a.trackSourceFromJSON=a.TrackSource=a.trackTypeToJSON=a.trackTypeFromJSON=a.TrackType=a.protobufPackage=void 0;const d=s(umd.exports),c=s(minimal);a.protobufPackage="livekit";var g;(function(j){j[j.AUDIO=0]="AUDIO",j[j.VIDEO=1]="VIDEO",j[j.DATA=2]="DATA",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(g=a.TrackType||(a.TrackType={}));function _(j){switch(j){case 0:case"AUDIO":return g.AUDIO;case 1:case"VIDEO":return g.VIDEO;case 2:case"DATA":return g.DATA;case-1:case"UNRECOGNIZED":default:return g.UNRECOGNIZED}}a.trackTypeFromJSON=_;function b(j){switch(j){case g.AUDIO:return"AUDIO";case g.VIDEO:return"VIDEO";case g.DATA:return"DATA";default:return"UNKNOWN"}}a.trackTypeToJSON=b;var $;(function(j){j[j.UNKNOWN=0]="UNKNOWN",j[j.CAMERA=1]="CAMERA",j[j.MICROPHONE=2]="MICROPHONE",j[j.SCREEN_SHARE=3]="SCREEN_SHARE",j[j.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})($=a.TrackSource||(a.TrackSource={}));function tt(j){switch(j){case 0:case"UNKNOWN":return $.UNKNOWN;case 1:case"CAMERA":return $.CAMERA;case 2:case"MICROPHONE":return $.MICROPHONE;case 3:case"SCREEN_SHARE":return $.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return $.SCREEN_SHARE_AUDIO;case-1:case"UNRECOGNIZED":default:return $.UNRECOGNIZED}}a.trackSourceFromJSON=tt;function nt(j){switch(j){case $.UNKNOWN:return"UNKNOWN";case $.CAMERA:return"CAMERA";case $.MICROPHONE:return"MICROPHONE";case $.SCREEN_SHARE:return"SCREEN_SHARE";case $.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";default:return"UNKNOWN"}}a.trackSourceToJSON=nt;var ot;(function(j){j[j.LOW=0]="LOW",j[j.MEDIUM=1]="MEDIUM",j[j.HIGH=2]="HIGH",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ot=a.VideoQuality||(a.VideoQuality={}));function dt(j){switch(j){case 0:case"LOW":return ot.LOW;case 1:case"MEDIUM":return ot.MEDIUM;case 2:case"HIGH":return ot.HIGH;case-1:case"UNRECOGNIZED":default:return ot.UNRECOGNIZED}}a.videoQualityFromJSON=dt;function ut(j){switch(j){case ot.LOW:return"LOW";case ot.MEDIUM:return"MEDIUM";case ot.HIGH:return"HIGH";default:return"UNKNOWN"}}a.videoQualityToJSON=ut;var lt;(function(j){j[j.POOR=0]="POOR",j[j.GOOD=1]="GOOD",j[j.EXCELLENT=2]="EXCELLENT",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(lt=a.ConnectionQuality||(a.ConnectionQuality={}));function Tt(j){switch(j){case 0:case"POOR":return lt.POOR;case 1:case"GOOD":return lt.GOOD;case 2:case"EXCELLENT":return lt.EXCELLENT;case-1:case"UNRECOGNIZED":default:return lt.UNRECOGNIZED}}a.connectionQualityFromJSON=Tt;function yt(j){switch(j){case lt.POOR:return"POOR";case lt.GOOD:return"GOOD";case lt.EXCELLENT:return"EXCELLENT";default:return"UNKNOWN"}}a.connectionQualityToJSON=yt;var pt;(function(j){j[j.JOINING=0]="JOINING",j[j.JOINED=1]="JOINED",j[j.ACTIVE=2]="ACTIVE",j[j.DISCONNECTED=3]="DISCONNECTED",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(pt=a.ParticipantInfo_State||(a.ParticipantInfo_State={}));function vt(j){switch(j){case 0:case"JOINING":return pt.JOINING;case 1:case"JOINED":return pt.JOINED;case 2:case"ACTIVE":return pt.ACTIVE;case 3:case"DISCONNECTED":return pt.DISCONNECTED;case-1:case"UNRECOGNIZED":default:return pt.UNRECOGNIZED}}a.participantInfo_StateFromJSON=vt;function it(j){switch(j){case pt.JOINING:return"JOINING";case pt.JOINED:return"JOINED";case pt.ACTIVE:return"ACTIVE";case pt.DISCONNECTED:return"DISCONNECTED";default:return"UNKNOWN"}}a.participantInfo_StateToJSON=it;var ct;(function(j){j[j.RELIABLE=0]="RELIABLE",j[j.LOSSY=1]="LOSSY",j[j.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ct=a.DataPacket_Kind||(a.DataPacket_Kind={}));function mt(j){switch(j){case 0:case"RELIABLE":return ct.RELIABLE;case 1:case"LOSSY":return ct.LOSSY;case-1:case"UNRECOGNIZED":default:return ct.UNRECOGNIZED}}a.dataPacket_KindFromJSON=mt;function Nt(j){switch(j){case ct.RELIABLE:return"RELIABLE";case ct.LOSSY:return"LOSSY";default:return"UNKNOWN"}}a.dataPacket_KindToJSON=Nt;const Ot={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",metadata:"",numParticipants:0,activeRecording:!1};a.Room={encode(j,rt=c.default.Writer.create()){j.sid!==""&&rt.uint32(10).string(j.sid),j.name!==""&&rt.uint32(18).string(j.name),j.emptyTimeout!==0&&rt.uint32(24).uint32(j.emptyTimeout),j.maxParticipants!==0&&rt.uint32(32).uint32(j.maxParticipants),j.creationTime!==0&&rt.uint32(40).int64(j.creationTime),j.turnPassword!==""&&rt.uint32(50).string(j.turnPassword);for(const ht of j.enabledCodecs)a.Codec.encode(ht,rt.uint32(58).fork()).ldelim();return j.metadata!==""&&rt.uint32(66).string(j.metadata),j.numParticipants!==0&&rt.uint32(72).uint32(j.numParticipants),j.activeRecording===!0&&rt.uint32(80).bool(j.activeRecording),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Ot);for(at.enabledCodecs=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.sid=ht.string();break;case 2:at.name=ht.string();break;case 3:at.emptyTimeout=ht.uint32();break;case 4:at.maxParticipants=ht.uint32();break;case 5:at.creationTime=Ht(ht.int64());break;case 6:at.turnPassword=ht.string();break;case 7:at.enabledCodecs.push(a.Codec.decode(ht,ht.uint32()));break;case 8:at.metadata=ht.string();break;case 9:at.numParticipants=ht.uint32();break;case 10:at.activeRecording=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Ot);if(rt.enabledCodecs=[],j.sid!==void 0&&j.sid!==null?rt.sid=String(j.sid):rt.sid="",j.name!==void 0&&j.name!==null?rt.name=String(j.name):rt.name="",j.emptyTimeout!==void 0&&j.emptyTimeout!==null?rt.emptyTimeout=Number(j.emptyTimeout):rt.emptyTimeout=0,j.maxParticipants!==void 0&&j.maxParticipants!==null?rt.maxParticipants=Number(j.maxParticipants):rt.maxParticipants=0,j.creationTime!==void 0&&j.creationTime!==null?rt.creationTime=Number(j.creationTime):rt.creationTime=0,j.turnPassword!==void 0&&j.turnPassword!==null?rt.turnPassword=String(j.turnPassword):rt.turnPassword="",j.enabledCodecs!==void 0&&j.enabledCodecs!==null)for(const ht of j.enabledCodecs)rt.enabledCodecs.push(a.Codec.fromJSON(ht));return j.metadata!==void 0&&j.metadata!==null?rt.metadata=String(j.metadata):rt.metadata="",j.numParticipants!==void 0&&j.numParticipants!==null?rt.numParticipants=Number(j.numParticipants):rt.numParticipants=0,j.activeRecording!==void 0&&j.activeRecording!==null?rt.activeRecording=Boolean(j.activeRecording):rt.activeRecording=!1,rt},toJSON(j){const rt={};return j.sid!==void 0&&(rt.sid=j.sid),j.name!==void 0&&(rt.name=j.name),j.emptyTimeout!==void 0&&(rt.emptyTimeout=j.emptyTimeout),j.maxParticipants!==void 0&&(rt.maxParticipants=j.maxParticipants),j.creationTime!==void 0&&(rt.creationTime=j.creationTime),j.turnPassword!==void 0&&(rt.turnPassword=j.turnPassword),j.enabledCodecs?rt.enabledCodecs=j.enabledCodecs.map(ht=>ht?a.Codec.toJSON(ht):void 0):rt.enabledCodecs=[],j.metadata!==void 0&&(rt.metadata=j.metadata),j.numParticipants!==void 0&&(rt.numParticipants=j.numParticipants),j.activeRecording!==void 0&&(rt.activeRecording=j.activeRecording),rt},fromPartial(j){const rt=Object.assign({},Ot);if(rt.enabledCodecs=[],j.sid!==void 0&&j.sid!==null?rt.sid=j.sid:rt.sid="",j.name!==void 0&&j.name!==null?rt.name=j.name:rt.name="",j.emptyTimeout!==void 0&&j.emptyTimeout!==null?rt.emptyTimeout=j.emptyTimeout:rt.emptyTimeout=0,j.maxParticipants!==void 0&&j.maxParticipants!==null?rt.maxParticipants=j.maxParticipants:rt.maxParticipants=0,j.creationTime!==void 0&&j.creationTime!==null?rt.creationTime=j.creationTime:rt.creationTime=0,j.turnPassword!==void 0&&j.turnPassword!==null?rt.turnPassword=j.turnPassword:rt.turnPassword="",j.enabledCodecs!==void 0&&j.enabledCodecs!==null)for(const ht of j.enabledCodecs)rt.enabledCodecs.push(a.Codec.fromPartial(ht));return j.metadata!==void 0&&j.metadata!==null?rt.metadata=j.metadata:rt.metadata="",j.numParticipants!==void 0&&j.numParticipants!==null?rt.numParticipants=j.numParticipants:rt.numParticipants=0,j.activeRecording!==void 0&&j.activeRecording!==null?rt.activeRecording=j.activeRecording:rt.activeRecording=!1,rt}};const At={mime:"",fmtpLine:""};a.Codec={encode(j,rt=c.default.Writer.create()){return j.mime!==""&&rt.uint32(10).string(j.mime),j.fmtpLine!==""&&rt.uint32(18).string(j.fmtpLine),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},At);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.mime=ht.string();break;case 2:at.fmtpLine=ht.string();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},At);return j.mime!==void 0&&j.mime!==null?rt.mime=String(j.mime):rt.mime="",j.fmtpLine!==void 0&&j.fmtpLine!==null?rt.fmtpLine=String(j.fmtpLine):rt.fmtpLine="",rt},toJSON(j){const rt={};return j.mime!==void 0&&(rt.mime=j.mime),j.fmtpLine!==void 0&&(rt.fmtpLine=j.fmtpLine),rt},fromPartial(j){const rt=Object.assign({},At);return j.mime!==void 0&&j.mime!==null?rt.mime=j.mime:rt.mime="",j.fmtpLine!==void 0&&j.fmtpLine!==null?rt.fmtpLine=j.fmtpLine:rt.fmtpLine="",rt}};const Pt={sid:"",identity:"",state:0,metadata:"",joinedAt:0,hidden:!1,recorder:!1,name:""};a.ParticipantInfo={encode(j,rt=c.default.Writer.create()){j.sid!==""&&rt.uint32(10).string(j.sid),j.identity!==""&&rt.uint32(18).string(j.identity),j.state!==0&&rt.uint32(24).int32(j.state);for(const ht of j.tracks)a.TrackInfo.encode(ht,rt.uint32(34).fork()).ldelim();return j.metadata!==""&&rt.uint32(42).string(j.metadata),j.joinedAt!==0&&rt.uint32(48).int64(j.joinedAt),j.hidden===!0&&rt.uint32(56).bool(j.hidden),j.recorder===!0&&rt.uint32(64).bool(j.recorder),j.name!==""&&rt.uint32(74).string(j.name),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Pt);for(at.tracks=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.sid=ht.string();break;case 2:at.identity=ht.string();break;case 3:at.state=ht.int32();break;case 4:at.tracks.push(a.TrackInfo.decode(ht,ht.uint32()));break;case 5:at.metadata=ht.string();break;case 6:at.joinedAt=Ht(ht.int64());break;case 7:at.hidden=ht.bool();break;case 8:at.recorder=ht.bool();break;case 9:at.name=ht.string();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Pt);if(rt.tracks=[],j.sid!==void 0&&j.sid!==null?rt.sid=String(j.sid):rt.sid="",j.identity!==void 0&&j.identity!==null?rt.identity=String(j.identity):rt.identity="",j.state!==void 0&&j.state!==null?rt.state=vt(j.state):rt.state=0,j.tracks!==void 0&&j.tracks!==null)for(const ht of j.tracks)rt.tracks.push(a.TrackInfo.fromJSON(ht));return j.metadata!==void 0&&j.metadata!==null?rt.metadata=String(j.metadata):rt.metadata="",j.joinedAt!==void 0&&j.joinedAt!==null?rt.joinedAt=Number(j.joinedAt):rt.joinedAt=0,j.hidden!==void 0&&j.hidden!==null?rt.hidden=Boolean(j.hidden):rt.hidden=!1,j.recorder!==void 0&&j.recorder!==null?rt.recorder=Boolean(j.recorder):rt.recorder=!1,j.name!==void 0&&j.name!==null?rt.name=String(j.name):rt.name="",rt},toJSON(j){const rt={};return j.sid!==void 0&&(rt.sid=j.sid),j.identity!==void 0&&(rt.identity=j.identity),j.state!==void 0&&(rt.state=it(j.state)),j.tracks?rt.tracks=j.tracks.map(ht=>ht?a.TrackInfo.toJSON(ht):void 0):rt.tracks=[],j.metadata!==void 0&&(rt.metadata=j.metadata),j.joinedAt!==void 0&&(rt.joinedAt=j.joinedAt),j.hidden!==void 0&&(rt.hidden=j.hidden),j.recorder!==void 0&&(rt.recorder=j.recorder),j.name!==void 0&&(rt.name=j.name),rt},fromPartial(j){const rt=Object.assign({},Pt);if(rt.tracks=[],j.sid!==void 0&&j.sid!==null?rt.sid=j.sid:rt.sid="",j.identity!==void 0&&j.identity!==null?rt.identity=j.identity:rt.identity="",j.state!==void 0&&j.state!==null?rt.state=j.state:rt.state=0,j.tracks!==void 0&&j.tracks!==null)for(const ht of j.tracks)rt.tracks.push(a.TrackInfo.fromPartial(ht));return j.metadata!==void 0&&j.metadata!==null?rt.metadata=j.metadata:rt.metadata="",j.joinedAt!==void 0&&j.joinedAt!==null?rt.joinedAt=j.joinedAt:rt.joinedAt=0,j.hidden!==void 0&&j.hidden!==null?rt.hidden=j.hidden:rt.hidden=!1,j.recorder!==void 0&&j.recorder!==null?rt.recorder=j.recorder:rt.recorder=!1,j.name!==void 0&&j.name!==null?rt.name=j.name:rt.name="",rt}};const St={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,mimeType:""};a.TrackInfo={encode(j,rt=c.default.Writer.create()){j.sid!==""&&rt.uint32(10).string(j.sid),j.type!==0&&rt.uint32(16).int32(j.type),j.name!==""&&rt.uint32(26).string(j.name),j.muted===!0&&rt.uint32(32).bool(j.muted),j.width!==0&&rt.uint32(40).uint32(j.width),j.height!==0&&rt.uint32(48).uint32(j.height),j.simulcast===!0&&rt.uint32(56).bool(j.simulcast),j.disableDtx===!0&&rt.uint32(64).bool(j.disableDtx),j.source!==0&&rt.uint32(72).int32(j.source);for(const ht of j.layers)a.VideoLayer.encode(ht,rt.uint32(82).fork()).ldelim();return j.mimeType!==""&&rt.uint32(90).string(j.mimeType),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},St);for(at.layers=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.sid=ht.string();break;case 2:at.type=ht.int32();break;case 3:at.name=ht.string();break;case 4:at.muted=ht.bool();break;case 5:at.width=ht.uint32();break;case 6:at.height=ht.uint32();break;case 7:at.simulcast=ht.bool();break;case 8:at.disableDtx=ht.bool();break;case 9:at.source=ht.int32();break;case 10:at.layers.push(a.VideoLayer.decode(ht,ht.uint32()));break;case 11:at.mimeType=ht.string();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},St);if(rt.layers=[],j.sid!==void 0&&j.sid!==null?rt.sid=String(j.sid):rt.sid="",j.type!==void 0&&j.type!==null?rt.type=_(j.type):rt.type=0,j.name!==void 0&&j.name!==null?rt.name=String(j.name):rt.name="",j.muted!==void 0&&j.muted!==null?rt.muted=Boolean(j.muted):rt.muted=!1,j.width!==void 0&&j.width!==null?rt.width=Number(j.width):rt.width=0,j.height!==void 0&&j.height!==null?rt.height=Number(j.height):rt.height=0,j.simulcast!==void 0&&j.simulcast!==null?rt.simulcast=Boolean(j.simulcast):rt.simulcast=!1,j.disableDtx!==void 0&&j.disableDtx!==null?rt.disableDtx=Boolean(j.disableDtx):rt.disableDtx=!1,j.source!==void 0&&j.source!==null?rt.source=tt(j.source):rt.source=0,j.layers!==void 0&&j.layers!==null)for(const ht of j.layers)rt.layers.push(a.VideoLayer.fromJSON(ht));return j.mimeType!==void 0&&j.mimeType!==null?rt.mimeType=String(j.mimeType):rt.mimeType="",rt},toJSON(j){const rt={};return j.sid!==void 0&&(rt.sid=j.sid),j.type!==void 0&&(rt.type=b(j.type)),j.name!==void 0&&(rt.name=j.name),j.muted!==void 0&&(rt.muted=j.muted),j.width!==void 0&&(rt.width=j.width),j.height!==void 0&&(rt.height=j.height),j.simulcast!==void 0&&(rt.simulcast=j.simulcast),j.disableDtx!==void 0&&(rt.disableDtx=j.disableDtx),j.source!==void 0&&(rt.source=nt(j.source)),j.layers?rt.layers=j.layers.map(ht=>ht?a.VideoLayer.toJSON(ht):void 0):rt.layers=[],j.mimeType!==void 0&&(rt.mimeType=j.mimeType),rt},fromPartial(j){const rt=Object.assign({},St);if(rt.layers=[],j.sid!==void 0&&j.sid!==null?rt.sid=j.sid:rt.sid="",j.type!==void 0&&j.type!==null?rt.type=j.type:rt.type=0,j.name!==void 0&&j.name!==null?rt.name=j.name:rt.name="",j.muted!==void 0&&j.muted!==null?rt.muted=j.muted:rt.muted=!1,j.width!==void 0&&j.width!==null?rt.width=j.width:rt.width=0,j.height!==void 0&&j.height!==null?rt.height=j.height:rt.height=0,j.simulcast!==void 0&&j.simulcast!==null?rt.simulcast=j.simulcast:rt.simulcast=!1,j.disableDtx!==void 0&&j.disableDtx!==null?rt.disableDtx=j.disableDtx:rt.disableDtx=!1,j.source!==void 0&&j.source!==null?rt.source=j.source:rt.source=0,j.layers!==void 0&&j.layers!==null)for(const ht of j.layers)rt.layers.push(a.VideoLayer.fromPartial(ht));return j.mimeType!==void 0&&j.mimeType!==null?rt.mimeType=j.mimeType:rt.mimeType="",rt}};const Ct={quality:0,width:0,height:0,bitrate:0};a.VideoLayer={encode(j,rt=c.default.Writer.create()){return j.quality!==0&&rt.uint32(8).int32(j.quality),j.width!==0&&rt.uint32(16).uint32(j.width),j.height!==0&&rt.uint32(24).uint32(j.height),j.bitrate!==0&&rt.uint32(32).uint32(j.bitrate),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Ct);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.quality=ht.int32();break;case 2:at.width=ht.uint32();break;case 3:at.height=ht.uint32();break;case 4:at.bitrate=ht.uint32();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Ct);return j.quality!==void 0&&j.quality!==null?rt.quality=dt(j.quality):rt.quality=0,j.width!==void 0&&j.width!==null?rt.width=Number(j.width):rt.width=0,j.height!==void 0&&j.height!==null?rt.height=Number(j.height):rt.height=0,j.bitrate!==void 0&&j.bitrate!==null?rt.bitrate=Number(j.bitrate):rt.bitrate=0,rt},toJSON(j){const rt={};return j.quality!==void 0&&(rt.quality=ut(j.quality)),j.width!==void 0&&(rt.width=j.width),j.height!==void 0&&(rt.height=j.height),j.bitrate!==void 0&&(rt.bitrate=j.bitrate),rt},fromPartial(j){const rt=Object.assign({},Ct);return j.quality!==void 0&&j.quality!==null?rt.quality=j.quality:rt.quality=0,j.width!==void 0&&j.width!==null?rt.width=j.width:rt.width=0,j.height!==void 0&&j.height!==null?rt.height=j.height:rt.height=0,j.bitrate!==void 0&&j.bitrate!==null?rt.bitrate=j.bitrate:rt.bitrate=0,rt}};const $t={kind:0};a.DataPacket={encode(j,rt=c.default.Writer.create()){return j.kind!==0&&rt.uint32(8).int32(j.kind),j.user!==void 0&&a.UserPacket.encode(j.user,rt.uint32(18).fork()).ldelim(),j.speaker!==void 0&&a.ActiveSpeakerUpdate.encode(j.speaker,rt.uint32(26).fork()).ldelim(),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},$t);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.kind=ht.int32();break;case 2:at.user=a.UserPacket.decode(ht,ht.uint32());break;case 3:at.speaker=a.ActiveSpeakerUpdate.decode(ht,ht.uint32());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},$t);return j.kind!==void 0&&j.kind!==null?rt.kind=mt(j.kind):rt.kind=0,j.user!==void 0&&j.user!==null?rt.user=a.UserPacket.fromJSON(j.user):rt.user=void 0,j.speaker!==void 0&&j.speaker!==null?rt.speaker=a.ActiveSpeakerUpdate.fromJSON(j.speaker):rt.speaker=void 0,rt},toJSON(j){const rt={};return j.kind!==void 0&&(rt.kind=Nt(j.kind)),j.user!==void 0&&(rt.user=j.user?a.UserPacket.toJSON(j.user):void 0),j.speaker!==void 0&&(rt.speaker=j.speaker?a.ActiveSpeakerUpdate.toJSON(j.speaker):void 0),rt},fromPartial(j){const rt=Object.assign({},$t);return j.kind!==void 0&&j.kind!==null?rt.kind=j.kind:rt.kind=0,j.user!==void 0&&j.user!==null?rt.user=a.UserPacket.fromPartial(j.user):rt.user=void 0,j.speaker!==void 0&&j.speaker!==null?rt.speaker=a.ActiveSpeakerUpdate.fromPartial(j.speaker):rt.speaker=void 0,rt}};const gt={};a.ActiveSpeakerUpdate={encode(j,rt=c.default.Writer.create()){for(const ht of j.speakers)a.SpeakerInfo.encode(ht,rt.uint32(10).fork()).ldelim();return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},gt);for(at.speakers=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.speakers.push(a.SpeakerInfo.decode(ht,ht.uint32()));break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},gt);if(rt.speakers=[],j.speakers!==void 0&&j.speakers!==null)for(const ht of j.speakers)rt.speakers.push(a.SpeakerInfo.fromJSON(ht));return rt},toJSON(j){const rt={};return j.speakers?rt.speakers=j.speakers.map(ht=>ht?a.SpeakerInfo.toJSON(ht):void 0):rt.speakers=[],rt},fromPartial(j){const rt=Object.assign({},gt);if(rt.speakers=[],j.speakers!==void 0&&j.speakers!==null)for(const ht of j.speakers)rt.speakers.push(a.SpeakerInfo.fromPartial(ht));return rt}};const It={sid:"",level:0,active:!1};a.SpeakerInfo={encode(j,rt=c.default.Writer.create()){return j.sid!==""&&rt.uint32(10).string(j.sid),j.level!==0&&rt.uint32(21).float(j.level),j.active===!0&&rt.uint32(24).bool(j.active),rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},It);for(;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.sid=ht.string();break;case 2:at.level=ht.float();break;case 3:at.active=ht.bool();break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},It);return j.sid!==void 0&&j.sid!==null?rt.sid=String(j.sid):rt.sid="",j.level!==void 0&&j.level!==null?rt.level=Number(j.level):rt.level=0,j.active!==void 0&&j.active!==null?rt.active=Boolean(j.active):rt.active=!1,rt},toJSON(j){const rt={};return j.sid!==void 0&&(rt.sid=j.sid),j.level!==void 0&&(rt.level=j.level),j.active!==void 0&&(rt.active=j.active),rt},fromPartial(j){const rt=Object.assign({},It);return j.sid!==void 0&&j.sid!==null?rt.sid=j.sid:rt.sid="",j.level!==void 0&&j.level!==null?rt.level=j.level:rt.level=0,j.active!==void 0&&j.active!==null?rt.active=j.active:rt.active=!1,rt}};const Rt={participantSid:"",destinationSids:""};a.UserPacket={encode(j,rt=c.default.Writer.create()){j.participantSid!==""&&rt.uint32(10).string(j.participantSid),j.payload.length!==0&&rt.uint32(18).bytes(j.payload);for(const ht of j.destinationSids)rt.uint32(26).string(ht);return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},Rt);for(at.destinationSids=[],at.payload=new Uint8Array;ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participantSid=ht.string();break;case 2:at.payload=ht.bytes();break;case 3:at.destinationSids.push(ht.string());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},Rt);if(rt.destinationSids=[],rt.payload=new Uint8Array,j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=String(j.participantSid):rt.participantSid="",j.payload!==void 0&&j.payload!==null&&(rt.payload=qt(j.payload)),j.destinationSids!==void 0&&j.destinationSids!==null)for(const ht of j.destinationSids)rt.destinationSids.push(String(ht));return rt},toJSON(j){const rt={};return j.participantSid!==void 0&&(rt.participantSid=j.participantSid),j.payload!==void 0&&(rt.payload=Qt(j.payload!==void 0?j.payload:new Uint8Array)),j.destinationSids?rt.destinationSids=j.destinationSids.map(ht=>ht):rt.destinationSids=[],rt},fromPartial(j){const rt=Object.assign({},Rt);if(rt.destinationSids=[],j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=j.participantSid:rt.participantSid="",j.payload!==void 0&&j.payload!==null?rt.payload=j.payload:rt.payload=new Uint8Array,j.destinationSids!==void 0&&j.destinationSids!==null)for(const ht of j.destinationSids)rt.destinationSids.push(ht);return rt}};const zt={participantSid:"",trackSids:""};a.ParticipantTracks={encode(j,rt=c.default.Writer.create()){j.participantSid!==""&&rt.uint32(10).string(j.participantSid);for(const ht of j.trackSids)rt.uint32(18).string(ht);return rt},decode(j,rt){const ht=j instanceof c.default.Reader?j:new c.default.Reader(j);let Vt=rt===void 0?ht.len:ht.pos+rt;const at=Object.assign({},zt);for(at.trackSids=[];ht.pos<Vt;){const _t=ht.uint32();switch(_t>>>3){case 1:at.participantSid=ht.string();break;case 2:at.trackSids.push(ht.string());break;default:ht.skipType(_t&7);break}}return at},fromJSON(j){const rt=Object.assign({},zt);if(rt.trackSids=[],j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=String(j.participantSid):rt.participantSid="",j.trackSids!==void 0&&j.trackSids!==null)for(const ht of j.trackSids)rt.trackSids.push(String(ht));return rt},toJSON(j){const rt={};return j.participantSid!==void 0&&(rt.participantSid=j.participantSid),j.trackSids?rt.trackSids=j.trackSids.map(ht=>ht):rt.trackSids=[],rt},fromPartial(j){const rt=Object.assign({},zt);if(rt.trackSids=[],j.participantSid!==void 0&&j.participantSid!==null?rt.participantSid=j.participantSid:rt.participantSid="",j.trackSids!==void 0&&j.trackSids!==null)for(const ht of j.trackSids)rt.trackSids.push(ht);return rt}};var Ut=(()=>{if(typeof Ut!="undefined")return Ut;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();const Dt=Ut.atob||(j=>Ut.Buffer.from(j,"base64").toString("binary"));function qt(j){const rt=Dt(j),ht=new Uint8Array(rt.length);for(let Vt=0;Vt<rt.length;++Vt)ht[Vt]=rt.charCodeAt(Vt);return ht}const Kt=Ut.btoa||(j=>Ut.Buffer.from(j,"binary").toString("base64"));function Qt(j){const rt=[];for(const ht of j)rt.push(String.fromCharCode(ht));return Kt(rt.join(""))}function Ht(j){if(j.gt(Number.MAX_SAFE_INTEGER))throw new Ut.Error("Value is larger than Number.MAX_SAFE_INTEGER");return j.toNumber()}c.default.util.Long!==d.default&&(c.default.util.Long=d.default,c.default.configure())})(livekit_models);var RoomServiceClient$1={},livekit_room={};(function(a){var s=commonjsGlobal&&commonjsGlobal.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(a,"__esModule",{value:!0}),a.UpdateRoomMetadataRequest=a.SendDataResponse=a.SendDataRequest=a.UpdateSubscriptionsResponse=a.UpdateSubscriptionsRequest=a.UpdateParticipantRequest=a.ParticipantPermission=a.MuteRoomTrackResponse=a.MuteRoomTrackRequest=a.RemoveParticipantResponse=a.RoomParticipantIdentity=a.ListParticipantsResponse=a.ListParticipantsRequest=a.DeleteRoomResponse=a.DeleteRoomRequest=a.ListRoomsResponse=a.ListRoomsRequest=a.CreateRoomRequest=a.protobufPackage=void 0;const d=s(umd.exports),c=s(minimal),g=livekit_models;a.protobufPackage="livekit";const _={name:"",emptyTimeout:0,maxParticipants:0,nodeId:"",metadata:""};a.CreateRoomRequest={encode(gt,It=c.default.Writer.create()){return gt.name!==""&&It.uint32(10).string(gt.name),gt.emptyTimeout!==0&&It.uint32(16).uint32(gt.emptyTimeout),gt.maxParticipants!==0&&It.uint32(24).uint32(gt.maxParticipants),gt.nodeId!==""&&It.uint32(34).string(gt.nodeId),gt.metadata!==""&&It.uint32(42).string(gt.metadata),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},_);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.name=Rt.string();break;case 2:Ut.emptyTimeout=Rt.uint32();break;case 3:Ut.maxParticipants=Rt.uint32();break;case 4:Ut.nodeId=Rt.string();break;case 5:Ut.metadata=Rt.string();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},_);return gt.name!==void 0&&gt.name!==null?It.name=String(gt.name):It.name="",gt.emptyTimeout!==void 0&&gt.emptyTimeout!==null?It.emptyTimeout=Number(gt.emptyTimeout):It.emptyTimeout=0,gt.maxParticipants!==void 0&&gt.maxParticipants!==null?It.maxParticipants=Number(gt.maxParticipants):It.maxParticipants=0,gt.nodeId!==void 0&&gt.nodeId!==null?It.nodeId=String(gt.nodeId):It.nodeId="",gt.metadata!==void 0&&gt.metadata!==null?It.metadata=String(gt.metadata):It.metadata="",It},toJSON(gt){const It={};return gt.name!==void 0&&(It.name=gt.name),gt.emptyTimeout!==void 0&&(It.emptyTimeout=gt.emptyTimeout),gt.maxParticipants!==void 0&&(It.maxParticipants=gt.maxParticipants),gt.nodeId!==void 0&&(It.nodeId=gt.nodeId),gt.metadata!==void 0&&(It.metadata=gt.metadata),It},fromPartial(gt){const It=Object.assign({},_);return gt.name!==void 0&&gt.name!==null?It.name=gt.name:It.name="",gt.emptyTimeout!==void 0&&gt.emptyTimeout!==null?It.emptyTimeout=gt.emptyTimeout:It.emptyTimeout=0,gt.maxParticipants!==void 0&&gt.maxParticipants!==null?It.maxParticipants=gt.maxParticipants:It.maxParticipants=0,gt.nodeId!==void 0&&gt.nodeId!==null?It.nodeId=gt.nodeId:It.nodeId="",gt.metadata!==void 0&&gt.metadata!==null?It.metadata=gt.metadata:It.metadata="",It}};const b={names:""};a.ListRoomsRequest={encode(gt,It=c.default.Writer.create()){for(const Rt of gt.names)It.uint32(10).string(Rt);return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},b);for(Ut.names=[];Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.names.push(Rt.string());break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},b);if(It.names=[],gt.names!==void 0&&gt.names!==null)for(const Rt of gt.names)It.names.push(String(Rt));return It},toJSON(gt){const It={};return gt.names?It.names=gt.names.map(Rt=>Rt):It.names=[],It},fromPartial(gt){const It=Object.assign({},b);if(It.names=[],gt.names!==void 0&&gt.names!==null)for(const Rt of gt.names)It.names.push(Rt);return It}};const $={};a.ListRoomsResponse={encode(gt,It=c.default.Writer.create()){for(const Rt of gt.rooms)g.Room.encode(Rt,It.uint32(10).fork()).ldelim();return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},$);for(Ut.rooms=[];Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.rooms.push(g.Room.decode(Rt,Rt.uint32()));break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},$);if(It.rooms=[],gt.rooms!==void 0&&gt.rooms!==null)for(const Rt of gt.rooms)It.rooms.push(g.Room.fromJSON(Rt));return It},toJSON(gt){const It={};return gt.rooms?It.rooms=gt.rooms.map(Rt=>Rt?g.Room.toJSON(Rt):void 0):It.rooms=[],It},fromPartial(gt){const It=Object.assign({},$);if(It.rooms=[],gt.rooms!==void 0&&gt.rooms!==null)for(const Rt of gt.rooms)It.rooms.push(g.Room.fromPartial(Rt));return It}};const tt={room:""};a.DeleteRoomRequest={encode(gt,It=c.default.Writer.create()){return gt.room!==""&&It.uint32(10).string(gt.room),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},tt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},tt);return gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),It},fromPartial(gt){const It=Object.assign({},tt);return gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",It}};const nt={};a.DeleteRoomResponse={encode(gt,It=c.default.Writer.create()){return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},nt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){return Object.assign({},nt)},toJSON(gt){return{}},fromPartial(gt){return Object.assign({},nt)}};const ot={room:""};a.ListParticipantsRequest={encode(gt,It=c.default.Writer.create()){return gt.room!==""&&It.uint32(10).string(gt.room),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},ot);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},ot);return gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),It},fromPartial(gt){const It=Object.assign({},ot);return gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",It}};const dt={};a.ListParticipantsResponse={encode(gt,It=c.default.Writer.create()){for(const Rt of gt.participants)g.ParticipantInfo.encode(Rt,It.uint32(10).fork()).ldelim();return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},dt);for(Ut.participants=[];Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.participants.push(g.ParticipantInfo.decode(Rt,Rt.uint32()));break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},dt);if(It.participants=[],gt.participants!==void 0&&gt.participants!==null)for(const Rt of gt.participants)It.participants.push(g.ParticipantInfo.fromJSON(Rt));return It},toJSON(gt){const It={};return gt.participants?It.participants=gt.participants.map(Rt=>Rt?g.ParticipantInfo.toJSON(Rt):void 0):It.participants=[],It},fromPartial(gt){const It=Object.assign({},dt);if(It.participants=[],gt.participants!==void 0&&gt.participants!==null)for(const Rt of gt.participants)It.participants.push(g.ParticipantInfo.fromPartial(Rt));return It}};const ut={room:"",identity:""};a.RoomParticipantIdentity={encode(gt,It=c.default.Writer.create()){return gt.room!==""&&It.uint32(10).string(gt.room),gt.identity!==""&&It.uint32(18).string(gt.identity),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},ut);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;case 2:Ut.identity=Rt.string();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},ut);return gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=String(gt.identity):It.identity="",It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),gt.identity!==void 0&&(It.identity=gt.identity),It},fromPartial(gt){const It=Object.assign({},ut);return gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=gt.identity:It.identity="",It}};const lt={};a.RemoveParticipantResponse={encode(gt,It=c.default.Writer.create()){return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},lt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){return Object.assign({},lt)},toJSON(gt){return{}},fromPartial(gt){return Object.assign({},lt)}};const Tt={room:"",identity:"",trackSid:"",muted:!1};a.MuteRoomTrackRequest={encode(gt,It=c.default.Writer.create()){return gt.room!==""&&It.uint32(10).string(gt.room),gt.identity!==""&&It.uint32(18).string(gt.identity),gt.trackSid!==""&&It.uint32(26).string(gt.trackSid),gt.muted===!0&&It.uint32(32).bool(gt.muted),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},Tt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;case 2:Ut.identity=Rt.string();break;case 3:Ut.trackSid=Rt.string();break;case 4:Ut.muted=Rt.bool();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},Tt);return gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=String(gt.identity):It.identity="",gt.trackSid!==void 0&&gt.trackSid!==null?It.trackSid=String(gt.trackSid):It.trackSid="",gt.muted!==void 0&&gt.muted!==null?It.muted=Boolean(gt.muted):It.muted=!1,It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),gt.identity!==void 0&&(It.identity=gt.identity),gt.trackSid!==void 0&&(It.trackSid=gt.trackSid),gt.muted!==void 0&&(It.muted=gt.muted),It},fromPartial(gt){const It=Object.assign({},Tt);return gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=gt.identity:It.identity="",gt.trackSid!==void 0&&gt.trackSid!==null?It.trackSid=gt.trackSid:It.trackSid="",gt.muted!==void 0&&gt.muted!==null?It.muted=gt.muted:It.muted=!1,It}};const yt={};a.MuteRoomTrackResponse={encode(gt,It=c.default.Writer.create()){return gt.track!==void 0&&g.TrackInfo.encode(gt.track,It.uint32(10).fork()).ldelim(),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},yt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.track=g.TrackInfo.decode(Rt,Rt.uint32());break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},yt);return gt.track!==void 0&&gt.track!==null?It.track=g.TrackInfo.fromJSON(gt.track):It.track=void 0,It},toJSON(gt){const It={};return gt.track!==void 0&&(It.track=gt.track?g.TrackInfo.toJSON(gt.track):void 0),It},fromPartial(gt){const It=Object.assign({},yt);return gt.track!==void 0&&gt.track!==null?It.track=g.TrackInfo.fromPartial(gt.track):It.track=void 0,It}};const pt={canSubscribe:!1,canPublish:!1,canPublishData:!1};a.ParticipantPermission={encode(gt,It=c.default.Writer.create()){return gt.canSubscribe===!0&&It.uint32(8).bool(gt.canSubscribe),gt.canPublish===!0&&It.uint32(16).bool(gt.canPublish),gt.canPublishData===!0&&It.uint32(24).bool(gt.canPublishData),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},pt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.canSubscribe=Rt.bool();break;case 2:Ut.canPublish=Rt.bool();break;case 3:Ut.canPublishData=Rt.bool();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},pt);return gt.canSubscribe!==void 0&&gt.canSubscribe!==null?It.canSubscribe=Boolean(gt.canSubscribe):It.canSubscribe=!1,gt.canPublish!==void 0&&gt.canPublish!==null?It.canPublish=Boolean(gt.canPublish):It.canPublish=!1,gt.canPublishData!==void 0&&gt.canPublishData!==null?It.canPublishData=Boolean(gt.canPublishData):It.canPublishData=!1,It},toJSON(gt){const It={};return gt.canSubscribe!==void 0&&(It.canSubscribe=gt.canSubscribe),gt.canPublish!==void 0&&(It.canPublish=gt.canPublish),gt.canPublishData!==void 0&&(It.canPublishData=gt.canPublishData),It},fromPartial(gt){const It=Object.assign({},pt);return gt.canSubscribe!==void 0&&gt.canSubscribe!==null?It.canSubscribe=gt.canSubscribe:It.canSubscribe=!1,gt.canPublish!==void 0&&gt.canPublish!==null?It.canPublish=gt.canPublish:It.canPublish=!1,gt.canPublishData!==void 0&&gt.canPublishData!==null?It.canPublishData=gt.canPublishData:It.canPublishData=!1,It}};const vt={room:"",identity:"",metadata:""};a.UpdateParticipantRequest={encode(gt,It=c.default.Writer.create()){return gt.room!==""&&It.uint32(10).string(gt.room),gt.identity!==""&&It.uint32(18).string(gt.identity),gt.metadata!==""&&It.uint32(26).string(gt.metadata),gt.permission!==void 0&&a.ParticipantPermission.encode(gt.permission,It.uint32(34).fork()).ldelim(),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},vt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;case 2:Ut.identity=Rt.string();break;case 3:Ut.metadata=Rt.string();break;case 4:Ut.permission=a.ParticipantPermission.decode(Rt,Rt.uint32());break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},vt);return gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=String(gt.identity):It.identity="",gt.metadata!==void 0&&gt.metadata!==null?It.metadata=String(gt.metadata):It.metadata="",gt.permission!==void 0&&gt.permission!==null?It.permission=a.ParticipantPermission.fromJSON(gt.permission):It.permission=void 0,It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),gt.identity!==void 0&&(It.identity=gt.identity),gt.metadata!==void 0&&(It.metadata=gt.metadata),gt.permission!==void 0&&(It.permission=gt.permission?a.ParticipantPermission.toJSON(gt.permission):void 0),It},fromPartial(gt){const It=Object.assign({},vt);return gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=gt.identity:It.identity="",gt.metadata!==void 0&&gt.metadata!==null?It.metadata=gt.metadata:It.metadata="",gt.permission!==void 0&&gt.permission!==null?It.permission=a.ParticipantPermission.fromPartial(gt.permission):It.permission=void 0,It}};const it={room:"",identity:"",trackSids:"",subscribe:!1};a.UpdateSubscriptionsRequest={encode(gt,It=c.default.Writer.create()){gt.room!==""&&It.uint32(10).string(gt.room),gt.identity!==""&&It.uint32(18).string(gt.identity);for(const Rt of gt.trackSids)It.uint32(26).string(Rt);gt.subscribe===!0&&It.uint32(32).bool(gt.subscribe);for(const Rt of gt.participantTracks)g.ParticipantTracks.encode(Rt,It.uint32(42).fork()).ldelim();return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},it);for(Ut.trackSids=[],Ut.participantTracks=[];Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;case 2:Ut.identity=Rt.string();break;case 3:Ut.trackSids.push(Rt.string());break;case 4:Ut.subscribe=Rt.bool();break;case 5:Ut.participantTracks.push(g.ParticipantTracks.decode(Rt,Rt.uint32()));break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},it);if(It.trackSids=[],It.participantTracks=[],gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=String(gt.identity):It.identity="",gt.trackSids!==void 0&&gt.trackSids!==null)for(const Rt of gt.trackSids)It.trackSids.push(String(Rt));if(gt.subscribe!==void 0&&gt.subscribe!==null?It.subscribe=Boolean(gt.subscribe):It.subscribe=!1,gt.participantTracks!==void 0&&gt.participantTracks!==null)for(const Rt of gt.participantTracks)It.participantTracks.push(g.ParticipantTracks.fromJSON(Rt));return It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),gt.identity!==void 0&&(It.identity=gt.identity),gt.trackSids?It.trackSids=gt.trackSids.map(Rt=>Rt):It.trackSids=[],gt.subscribe!==void 0&&(It.subscribe=gt.subscribe),gt.participantTracks?It.participantTracks=gt.participantTracks.map(Rt=>Rt?g.ParticipantTracks.toJSON(Rt):void 0):It.participantTracks=[],It},fromPartial(gt){const It=Object.assign({},it);if(It.trackSids=[],It.participantTracks=[],gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",gt.identity!==void 0&&gt.identity!==null?It.identity=gt.identity:It.identity="",gt.trackSids!==void 0&&gt.trackSids!==null)for(const Rt of gt.trackSids)It.trackSids.push(Rt);if(gt.subscribe!==void 0&&gt.subscribe!==null?It.subscribe=gt.subscribe:It.subscribe=!1,gt.participantTracks!==void 0&&gt.participantTracks!==null)for(const Rt of gt.participantTracks)It.participantTracks.push(g.ParticipantTracks.fromPartial(Rt));return It}};const ct={};a.UpdateSubscriptionsResponse={encode(gt,It=c.default.Writer.create()){return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},ct);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){return Object.assign({},ct)},toJSON(gt){return{}},fromPartial(gt){return Object.assign({},ct)}};const mt={room:"",kind:0,destinationSids:""};a.SendDataRequest={encode(gt,It=c.default.Writer.create()){gt.room!==""&&It.uint32(10).string(gt.room),gt.data.length!==0&&It.uint32(18).bytes(gt.data),gt.kind!==0&&It.uint32(24).int32(gt.kind);for(const Rt of gt.destinationSids)It.uint32(34).string(Rt);return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},mt);for(Ut.destinationSids=[],Ut.data=new Uint8Array;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;case 2:Ut.data=Rt.bytes();break;case 3:Ut.kind=Rt.int32();break;case 4:Ut.destinationSids.push(Rt.string());break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},mt);if(It.destinationSids=[],It.data=new Uint8Array,gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",gt.data!==void 0&&gt.data!==null&&(It.data=St(gt.data)),gt.kind!==void 0&&gt.kind!==null?It.kind=g.dataPacket_KindFromJSON(gt.kind):It.kind=0,gt.destinationSids!==void 0&&gt.destinationSids!==null)for(const Rt of gt.destinationSids)It.destinationSids.push(String(Rt));return It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),gt.data!==void 0&&(It.data=$t(gt.data!==void 0?gt.data:new Uint8Array)),gt.kind!==void 0&&(It.kind=g.dataPacket_KindToJSON(gt.kind)),gt.destinationSids?It.destinationSids=gt.destinationSids.map(Rt=>Rt):It.destinationSids=[],It},fromPartial(gt){const It=Object.assign({},mt);if(It.destinationSids=[],gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",gt.data!==void 0&&gt.data!==null?It.data=gt.data:It.data=new Uint8Array,gt.kind!==void 0&&gt.kind!==null?It.kind=gt.kind:It.kind=0,gt.destinationSids!==void 0&&gt.destinationSids!==null)for(const Rt of gt.destinationSids)It.destinationSids.push(Rt);return It}};const Nt={};a.SendDataResponse={encode(gt,It=c.default.Writer.create()){return It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},Nt);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){return Object.assign({},Nt)},toJSON(gt){return{}},fromPartial(gt){return Object.assign({},Nt)}};const Ot={room:"",metadata:""};a.UpdateRoomMetadataRequest={encode(gt,It=c.default.Writer.create()){return gt.room!==""&&It.uint32(10).string(gt.room),gt.metadata!==""&&It.uint32(18).string(gt.metadata),It},decode(gt,It){const Rt=gt instanceof c.default.Reader?gt:new c.default.Reader(gt);let zt=It===void 0?Rt.len:Rt.pos+It;const Ut=Object.assign({},Ot);for(;Rt.pos<zt;){const Dt=Rt.uint32();switch(Dt>>>3){case 1:Ut.room=Rt.string();break;case 2:Ut.metadata=Rt.string();break;default:Rt.skipType(Dt&7);break}}return Ut},fromJSON(gt){const It=Object.assign({},Ot);return gt.room!==void 0&&gt.room!==null?It.room=String(gt.room):It.room="",gt.metadata!==void 0&&gt.metadata!==null?It.metadata=String(gt.metadata):It.metadata="",It},toJSON(gt){const It={};return gt.room!==void 0&&(It.room=gt.room),gt.metadata!==void 0&&(It.metadata=gt.metadata),It},fromPartial(gt){const It=Object.assign({},Ot);return gt.room!==void 0&&gt.room!==null?It.room=gt.room:It.room="",gt.metadata!==void 0&&gt.metadata!==null?It.metadata=gt.metadata:It.metadata="",It}};var At=(()=>{if(typeof At!="undefined")return At;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal;throw"Unable to locate global object"})();const Pt=At.atob||(gt=>At.Buffer.from(gt,"base64").toString("binary"));function St(gt){const It=Pt(gt),Rt=new Uint8Array(It.length);for(let zt=0;zt<It.length;++zt)Rt[zt]=It.charCodeAt(zt);return Rt}const Ct=At.btoa||(gt=>At.Buffer.from(gt,"binary").toString("base64"));function $t(gt){const It=[];for(const Rt of gt)It.push(String.fromCharCode(Rt));return Ct(It.join(""))}c.default.util.Long!==d.default&&(c.default.util.Long=d.default,c.default.configure())})(livekit_room);var TwirpRPC={},axios$2={exports:{}},bind$2=function a(s,d){return function(){for(var g=new Array(arguments.length),_=0;_<g.length;_++)g[_]=arguments[_];return s.apply(d,g)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray$1(a){return toString.call(a)==="[object Array]"}function isUndefined(a){return typeof a=="undefined"}function isBuffer(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function isArrayBuffer(a){return toString.call(a)==="[object ArrayBuffer]"}function isFormData(a){return typeof FormData!="undefined"&&a instanceof FormData}function isArrayBufferView(a){var s;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?s=ArrayBuffer.isView(a):s=a&&a.buffer&&a.buffer instanceof ArrayBuffer,s}function isString(a){return typeof a=="string"}function isNumber(a){return typeof a=="number"}function isObject$2(a){return a!==null&&typeof a=="object"}function isPlainObject(a){if(toString.call(a)!=="[object Object]")return!1;var s=Object.getPrototypeOf(a);return s===null||s===Object.prototype}function isDate(a){return toString.call(a)==="[object Date]"}function isFile(a){return toString.call(a)==="[object File]"}function isBlob(a){return toString.call(a)==="[object Blob]"}function isFunction(a){return toString.call(a)==="[object Function]"}function isStream(a){return isObject$2(a)&&isFunction(a.pipe)}function isURLSearchParams(a){return typeof URLSearchParams!="undefined"&&a instanceof URLSearchParams}function trim$1(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(a,s){if(!(a===null||typeof a=="undefined"))if(typeof a!="object"&&(a=[a]),isArray$1(a))for(var d=0,c=a.length;d<c;d++)s.call(null,a[d],d,a);else for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&s.call(null,a[g],g,a)}function merge(){var a={};function s(g,_){isPlainObject(a[_])&&isPlainObject(g)?a[_]=merge(a[_],g):isPlainObject(g)?a[_]=merge({},g):isArray$1(g)?a[_]=g.slice():a[_]=g}for(var d=0,c=arguments.length;d<c;d++)forEach(arguments[d],s);return a}function extend(a,s,d){return forEach(s,function(g,_){d&&typeof g=="function"?a[_]=bind$1(g,d):a[_]=g}),a}function stripBOM(a){return a.charCodeAt(0)===65279&&(a=a.slice(1)),a}var utils$d={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject:isObject$2,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim:trim$1,stripBOM},utils$c=utils$d;function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function a(s,d,c){if(!d)return s;var g;if(c)g=c(d);else if(utils$c.isURLSearchParams(d))g=d.toString();else{var _=[];utils$c.forEach(d,function(tt,nt){tt===null||typeof tt=="undefined"||(utils$c.isArray(tt)?nt=nt+"[]":tt=[tt],utils$c.forEach(tt,function(dt){utils$c.isDate(dt)?dt=dt.toISOString():utils$c.isObject(dt)&&(dt=JSON.stringify(dt)),_.push(encode(nt)+"="+encode(dt))}))}),g=_.join("&")}if(g){var b=s.indexOf("#");b!==-1&&(s=s.slice(0,b)),s+=(s.indexOf("?")===-1?"?":"&")+g}return s},utils$b=utils$d;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function a(s,d,c){return this.handlers.push({fulfilled:s,rejected:d,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function a(s){this.handlers[s]&&(this.handlers[s]=null)};InterceptorManager$1.prototype.forEach=function a(s){utils$b.forEach(this.handlers,function(c){c!==null&&s(c)})};var InterceptorManager_1=InterceptorManager$1,utils$a=utils$d,normalizeHeaderName$1=function a(s,d){utils$a.forEach(s,function(g,_){_!==d&&_.toUpperCase()===d.toUpperCase()&&(s[d]=g,delete s[_])})},enhanceError$2=function a(s,d,c,g,_){return s.config=d,c&&(s.code=c),s.request=g,s.response=_,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s},enhanceError$1=enhanceError$2,createError$2=function a(s,d,c,g,_){var b=new Error(s);return enhanceError$1(b,d,c,g,_)},createError$1=createError$2,settle$1=function a(s,d,c){var g=c.config.validateStatus;!c.status||!g||g(c.status)?s(c):d(createError$1("Request failed with status code "+c.status,c.config,null,c.request,c))},utils$9=utils$d,cookies$1=utils$9.isStandardBrowserEnv()?function a(){return{write:function(d,c,g,_,b,$){var tt=[];tt.push(d+"="+encodeURIComponent(c)),utils$9.isNumber(g)&&tt.push("expires="+new Date(g).toGMTString()),utils$9.isString(_)&&tt.push("path="+_),utils$9.isString(b)&&tt.push("domain="+b),$===!0&&tt.push("secure"),document.cookie=tt.join("; ")},read:function(d){var c=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(d){this.write(d,"",Date.now()-864e5)}}}():function a(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function a(s){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(s)},combineURLs$1=function a(s,d){return d?s.replace(/\/+$/,"")+"/"+d.replace(/^\/+/,""):s},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function a(s,d){return s&&!isAbsoluteURL(d)?combineURLs(s,d):d},utils$8=utils$d,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function a(s){var d={},c,g,_;return s&&utils$8.forEach(s.split(`
`),function($){if(_=$.indexOf(":"),c=utils$8.trim($.substr(0,_)).toLowerCase(),g=utils$8.trim($.substr(_+1)),c){if(d[c]&&ignoreDuplicateOf.indexOf(c)>=0)return;c==="set-cookie"?d[c]=(d[c]?d[c]:[]).concat([g]):d[c]=d[c]?d[c]+", "+g:g}}),d},utils$7=utils$d,isURLSameOrigin$1=utils$7.isStandardBrowserEnv()?function a(){var s=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a"),c;function g(_){var b=_;return s&&(d.setAttribute("href",b),b=d.href),d.setAttribute("href",b),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return c=g(window.location.href),function(b){var $=utils$7.isString(b)?g(b):b;return $.protocol===c.protocol&&$.host===c.host}}():function a(){return function(){return!0}}(),utils$6=utils$d,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,xhr=function a(s){return new Promise(function(c,g){var _=s.data,b=s.headers,$=s.responseType;utils$6.isFormData(_)&&delete b["Content-Type"];var tt=new XMLHttpRequest;if(s.auth){var nt=s.auth.username||"",ot=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";b.Authorization="Basic "+btoa(nt+":"+ot)}var dt=buildFullPath(s.baseURL,s.url);tt.open(s.method.toUpperCase(),buildURL$1(dt,s.params,s.paramsSerializer),!0),tt.timeout=s.timeout;function ut(){if(!!tt){var Tt="getAllResponseHeaders"in tt?parseHeaders(tt.getAllResponseHeaders()):null,yt=!$||$==="text"||$==="json"?tt.responseText:tt.response,pt={data:yt,status:tt.status,statusText:tt.statusText,headers:Tt,config:s,request:tt};settle(c,g,pt),tt=null}}if("onloadend"in tt?tt.onloadend=ut:tt.onreadystatechange=function(){!tt||tt.readyState!==4||tt.status===0&&!(tt.responseURL&&tt.responseURL.indexOf("file:")===0)||setTimeout(ut)},tt.onabort=function(){!tt||(g(createError("Request aborted",s,"ECONNABORTED",tt)),tt=null)},tt.onerror=function(){g(createError("Network Error",s,null,tt)),tt=null},tt.ontimeout=function(){var yt="timeout of "+s.timeout+"ms exceeded";s.timeoutErrorMessage&&(yt=s.timeoutErrorMessage),g(createError(yt,s,s.transitional&&s.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",tt)),tt=null},utils$6.isStandardBrowserEnv()){var lt=(s.withCredentials||isURLSameOrigin(dt))&&s.xsrfCookieName?cookies.read(s.xsrfCookieName):void 0;lt&&(b[s.xsrfHeaderName]=lt)}"setRequestHeader"in tt&&utils$6.forEach(b,function(yt,pt){typeof _=="undefined"&&pt.toLowerCase()==="content-type"?delete b[pt]:tt.setRequestHeader(pt,yt)}),utils$6.isUndefined(s.withCredentials)||(tt.withCredentials=!!s.withCredentials),$&&$!=="json"&&(tt.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&tt.addEventListener("progress",s.onDownloadProgress),typeof s.onUploadProgress=="function"&&tt.upload&&tt.upload.addEventListener("progress",s.onUploadProgress),s.cancelToken&&s.cancelToken.promise.then(function(yt){!tt||(tt.abort(),g(yt),tt=null)}),_||(_=null),tt.send(_)})},utils$5=utils$d,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(a,s){!utils$5.isUndefined(a)&&utils$5.isUndefined(a["Content-Type"])&&(a["Content-Type"]=s)}function getDefaultAdapter(){var a;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(a=xhr),a}function stringifySafely(a,s,d){if(utils$5.isString(a))try{return(s||JSON.parse)(a),utils$5.trim(a)}catch(c){if(c.name!=="SyntaxError")throw c}return(d||JSON.stringify)(a)}var defaults$3={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function a(s,d){return normalizeHeaderName(d,"Accept"),normalizeHeaderName(d,"Content-Type"),utils$5.isFormData(s)||utils$5.isArrayBuffer(s)||utils$5.isBuffer(s)||utils$5.isStream(s)||utils$5.isFile(s)||utils$5.isBlob(s)?s:utils$5.isArrayBufferView(s)?s.buffer:utils$5.isURLSearchParams(s)?(setContentTypeIfUnset(d,"application/x-www-form-urlencoded;charset=utf-8"),s.toString()):utils$5.isObject(s)||d&&d["Content-Type"]==="application/json"?(setContentTypeIfUnset(d,"application/json"),stringifySafely(s)):s}],transformResponse:[function a(s){var d=this.transitional,c=d&&d.silentJSONParsing,g=d&&d.forcedJSONParsing,_=!c&&this.responseType==="json";if(_||g&&utils$5.isString(s)&&s.length)try{return JSON.parse(s)}catch(b){if(_)throw b.name==="SyntaxError"?enhanceError(b,this,"E_JSON_PARSE"):b}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function a(s){return s>=200&&s<300}};defaults$3.headers={common:{Accept:"application/json, text/plain, */*"}};utils$5.forEach(["delete","get","head"],function a(s){defaults$3.headers[s]={}});utils$5.forEach(["post","put","patch"],function a(s){defaults$3.headers[s]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$4=utils$d,defaults$2=defaults_1,transformData$1=function a(s,d,c){var g=this||defaults$2;return utils$4.forEach(c,function(b){s=b.call(g,s,d)}),s},isCancel$1=function a(s){return!!(s&&s.__CANCEL__)},utils$3=utils$d,transformData=transformData$1,isCancel=isCancel$1,defaults$1=defaults_1;function throwIfCancellationRequested(a){a.cancelToken&&a.cancelToken.throwIfRequested()}var dispatchRequest$1=function a(s){throwIfCancellationRequested(s),s.headers=s.headers||{},s.data=transformData.call(s,s.data,s.headers,s.transformRequest),s.headers=utils$3.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(g){delete s.headers[g]});var d=s.adapter||defaults$1.adapter;return d(s).then(function(g){return throwIfCancellationRequested(s),g.data=transformData.call(s,g.data,g.headers,s.transformResponse),g},function(g){return isCancel(g)||(throwIfCancellationRequested(s),g&&g.response&&(g.response.data=transformData.call(s,g.response.data,g.response.headers,s.transformResponse))),Promise.reject(g)})},utils$2=utils$d,mergeConfig$2=function a(s,d){d=d||{};var c={},g=["url","method","data"],_=["headers","auth","proxy","params"],b=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],$=["validateStatus"];function tt(ut,lt){return utils$2.isPlainObject(ut)&&utils$2.isPlainObject(lt)?utils$2.merge(ut,lt):utils$2.isPlainObject(lt)?utils$2.merge({},lt):utils$2.isArray(lt)?lt.slice():lt}function nt(ut){utils$2.isUndefined(d[ut])?utils$2.isUndefined(s[ut])||(c[ut]=tt(void 0,s[ut])):c[ut]=tt(s[ut],d[ut])}utils$2.forEach(g,function(lt){utils$2.isUndefined(d[lt])||(c[lt]=tt(void 0,d[lt]))}),utils$2.forEach(_,nt),utils$2.forEach(b,function(lt){utils$2.isUndefined(d[lt])?utils$2.isUndefined(s[lt])||(c[lt]=tt(void 0,s[lt])):c[lt]=tt(void 0,d[lt])}),utils$2.forEach($,function(lt){lt in d?c[lt]=tt(s[lt],d[lt]):lt in s&&(c[lt]=tt(void 0,s[lt]))});var ot=g.concat(_).concat(b).concat($),dt=Object.keys(s).concat(Object.keys(d)).filter(function(lt){return ot.indexOf(lt)===-1});return utils$2.forEach(dt,nt),c};const name="axios",version="0.21.4",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://axios-http.com",devDependencies={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr="dist/axios.min.js",unpkg="dist/axios.min.js",typings="./index.d.ts",dependencies={"follow-redirects":"^1.14.0"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}];var require$$0={name,version,description,main,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,browser,jsdelivr,unpkg,typings,dependencies,bundlesize},pkg=require$$0,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(a,s){validators$1[a]=function(c){return typeof c===a||"a"+(s<1?"n ":" ")+a}});var deprecatedWarnings={},currentVerArr=pkg.version.split(".");function isOlderVersion(a,s){for(var d=s?s.split("."):currentVerArr,c=a.split("."),g=0;g<3;g++){if(d[g]>c[g])return!0;if(d[g]<c[g])return!1}return!1}validators$1.transitional=function a(s,d,c){var g=d&&isOlderVersion(d);function _(b,$){return"[Axios v"+pkg.version+"] Transitional option '"+b+"'"+$+(c?". "+c:"")}return function(b,$,tt){if(s===!1)throw new Error(_($," has been removed in "+d));return g&&!deprecatedWarnings[$]&&(deprecatedWarnings[$]=!0,console.warn(_($," has been deprecated since v"+d+" and will be removed in the near future"))),s?s(b,$,tt):!0}};function assertOptions(a,s,d){if(typeof a!="object")throw new TypeError("options must be an object");for(var c=Object.keys(a),g=c.length;g-- >0;){var _=c[g],b=s[_];if(b){var $=a[_],tt=$===void 0||b($,_,a);if(tt!==!0)throw new TypeError("option "+_+" must be "+tt);continue}if(d!==!0)throw Error("Unknown option "+_)}}var validator$1={isOlderVersion,assertOptions,validators:validators$1},utils$1=utils$d,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(a){this.defaults=a,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function a(s){typeof s=="string"?(s=arguments[1]||{},s.url=arguments[0]):s=s||{},s=mergeConfig$1(this.defaults,s),s.method?s.method=s.method.toLowerCase():this.defaults.method?s.method=this.defaults.method.toLowerCase():s.method="get";var d=s.transitional;d!==void 0&&validator.assertOptions(d,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var c=[],g=!0;this.interceptors.request.forEach(function(ut){typeof ut.runWhen=="function"&&ut.runWhen(s)===!1||(g=g&&ut.synchronous,c.unshift(ut.fulfilled,ut.rejected))});var _=[];this.interceptors.response.forEach(function(ut){_.push(ut.fulfilled,ut.rejected)});var b;if(!g){var $=[dispatchRequest,void 0];for(Array.prototype.unshift.apply($,c),$=$.concat(_),b=Promise.resolve(s);$.length;)b=b.then($.shift(),$.shift());return b}for(var tt=s;c.length;){var nt=c.shift(),ot=c.shift();try{tt=nt(tt)}catch(dt){ot(dt);break}}try{b=dispatchRequest(tt)}catch(dt){return Promise.reject(dt)}for(;_.length;)b=b.then(_.shift(),_.shift());return b};Axios$1.prototype.getUri=function a(s){return s=mergeConfig$1(this.defaults,s),buildURL(s.url,s.params,s.paramsSerializer).replace(/^\?/,"")};utils$1.forEach(["delete","get","head","options"],function a(s){Axios$1.prototype[s]=function(d,c){return this.request(mergeConfig$1(c||{},{method:s,url:d,data:(c||{}).data}))}});utils$1.forEach(["post","put","patch"],function a(s){Axios$1.prototype[s]=function(d,c,g){return this.request(mergeConfig$1(g||{},{method:s,url:d,data:c}))}});var Axios_1=Axios$1;function Cancel$1(a){this.message=a}Cancel$1.prototype.toString=function a(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$1.prototype.__CANCEL__=!0;var Cancel_1=Cancel$1,Cancel=Cancel_1;function CancelToken(a){if(typeof a!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(g){s=g});var d=this;a(function(g){d.reason||(d.reason=new Cancel(g),s(d.reason))})}CancelToken.prototype.throwIfRequested=function a(){if(this.reason)throw this.reason};CancelToken.source=function a(){var s,d=new CancelToken(function(g){s=g});return{token:d,cancel:s}};var CancelToken_1=CancelToken,spread=function a(s){return function(c){return s.apply(null,c)}},isAxiosError=function a(s){return typeof s=="object"&&s.isAxiosError===!0},utils=utils$d,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(a){var s=new Axios(a),d=bind(Axios.prototype.request,s);return utils.extend(d,Axios.prototype,s),utils.extend(d,s),d}var axios$1=createInstance(defaults);axios$1.Axios=Axios;axios$1.create=function a(s){return createInstance(mergeConfig(axios$1.defaults,s))};axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.all=function a(s){return Promise.all(s)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports,mapObj$1={exports:{}};const isObject$1=a=>typeof a=="object"&&a!==null,mapObjectSkip=Symbol("skip"),isObjectCustom=a=>isObject$1(a)&&!(a instanceof RegExp)&&!(a instanceof Error)&&!(a instanceof Date),mapObject=(a,s,d,c=new WeakMap)=>{if(d={deep:!1,target:{},...d},c.has(a))return c.get(a);c.set(a,d.target);const{target:g}=d;delete d.target;const _=b=>b.map($=>isObjectCustom($)?mapObject($,s,d,c):$);if(Array.isArray(a))return _(a);for(const[b,$]of Object.entries(a)){const tt=s(b,$,a);if(tt===mapObjectSkip)continue;let[nt,ot,{shouldRecurse:dt=!0}={}]=tt;nt!=="__proto__"&&(d.deep&&dt&&isObjectCustom(ot)&&(ot=Array.isArray(ot)?_(ot):mapObject(ot,s,d,c)),g[nt]=ot)}return g};mapObj$1.exports=(a,s,d)=>{if(!isObject$1(a))throw new TypeError(`Expected an object, got \`${a}\` (${typeof a})`);return mapObject(a,s,d)};mapObj$1.exports.mapObjectSkip=mapObjectSkip;var camelcase={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase=(a,s,d)=>{let c=!1,g=!1,_=!1;for(let b=0;b<a.length;b++){const $=a[b];c&&UPPERCASE.test($)?(a=a.slice(0,b)+"-"+a.slice(b),c=!1,_=g,g=!0,b++):g&&_&&LOWERCASE.test($)?(a=a.slice(0,b-1)+"-"+a.slice(b-1),_=g,g=!1,c=!0):(c=s($)===$&&d($)!==$,_=g,g=d($)===$&&s($)!==$)}return a},preserveConsecutiveUppercase=(a,s)=>(LEADING_CAPITAL.lastIndex=0,a.replace(LEADING_CAPITAL,d=>s(d))),postProcess=(a,s)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,a.replace(SEPARATORS_AND_IDENTIFIER,(d,c)=>s(c)).replace(NUMBERS_AND_IDENTIFIER,d=>s(d))),camelCase$1=(a,s)=>{if(!(typeof a=="string"||Array.isArray(a)))throw new TypeError("Expected the input to be `string | string[]`");if(s={pascalCase:!1,preserveConsecutiveUppercase:!1,...s},Array.isArray(a)?a=a.map(_=>_.trim()).filter(_=>_.length).join("-"):a=a.trim(),a.length===0)return"";const d=s.locale===!1?_=>_.toLowerCase():_=>_.toLocaleLowerCase(s.locale),c=s.locale===!1?_=>_.toUpperCase():_=>_.toLocaleUpperCase(s.locale);return a.length===1?s.pascalCase?c(a):d(a):(a!==d(a)&&(a=preserveCamelCase(a,d,c)),a=a.replace(LEADING_SEPARATORS,""),s.preserveConsecutiveUppercase?a=preserveConsecutiveUppercase(a,d):a=d(a),s.pascalCase&&(a=c(a.charAt(0))+a.slice(1)),postProcess(a,c))};camelcase.exports=camelCase$1;camelcase.exports.default=camelCase$1;class QuickLRU{constructor(s={}){if(!(s.maxSize&&s.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=s.maxSize,this.onEviction=s.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(s,d){if(this.cache.set(s,d),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[c,g]of this.oldCache.entries())this.onEviction(c,g);this.oldCache=this.cache,this.cache=new Map}}get(s){if(this.cache.has(s))return this.cache.get(s);if(this.oldCache.has(s)){const d=this.oldCache.get(s);return this.oldCache.delete(s),this._set(s,d),d}}set(s,d){return this.cache.has(s)?this.cache.set(s,d):this._set(s,d),this}has(s){return this.cache.has(s)||this.oldCache.has(s)}peek(s){if(this.cache.has(s))return this.cache.get(s);if(this.oldCache.has(s))return this.oldCache.get(s)}delete(s){const d=this.cache.delete(s);return d&&this._size--,this.oldCache.delete(s)||d}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[s]of this)yield s}*values(){for(const[,s]of this)yield s}*[Symbol.iterator](){for(const s of this.cache)yield s;for(const s of this.oldCache){const[d]=s;this.cache.has(d)||(yield s)}}get size(){let s=0;for(const d of this.oldCache.keys())this.cache.has(d)||s++;return Math.min(this._size+s,this.maxSize)}}var quickLru=QuickLRU;const mapObj=mapObj$1.exports,camelCase=camelcase.exports,QuickLru=quickLru,has=(a,s)=>a.some(d=>typeof d=="string"?d===s:(d.lastIndex=0,d.test(s))),cache$1=new QuickLru({maxSize:1e5}),isObject=a=>typeof a=="object"&&a!==null&&!(a instanceof RegExp)&&!(a instanceof Error)&&!(a instanceof Date),camelCaseConvert=(a,s)=>{if(!isObject(a))return a;s={deep:!1,pascalCase:!1,...s};const{exclude:d,pascalCase:c,stopPaths:g,deep:_}=s,b=new Set(g),$=tt=>(nt,ot)=>{if(_&&isObject(ot)){const dt=tt===void 0?nt:`${tt}.${nt}`;b.has(dt)||(ot=mapObj(ot,$(dt)))}if(!(d&&has(d,nt))){const dt=c?`${nt}_`:nt;if(cache$1.has(dt))nt=cache$1.get(dt);else{const ut=camelCase(nt,{pascalCase:c,locale:!1});nt.length<100&&cache$1.set(dt,ut),nt=ut}}return[nt,ot]};return mapObj(a,$(void 0))};var camelcaseKeys=(a,s)=>Array.isArray(a)?Object.keys(a).map(d=>camelCaseConvert(a[d],s)):camelCaseConvert(a,s),__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(TwirpRPC,"__esModule",{value:!0});TwirpRPC.TwirpRpc=TwirpRPC.livekitPackage=void 0;const axios_1=__importDefault(axios),camelcase_keys_1=__importDefault(camelcaseKeys),defaultPrefix="/twirp";TwirpRPC.livekitPackage="livekit";class TwirpRpc{constructor(s,d,c,g){this.host=s,this.pkg=d,this.prefix=c||defaultPrefix;let _={baseURL:s};g!=null&&(_.headers={Host:g}),this.instance=axios_1.default.create(_)}request(s,d,c,g){return new Promise((_,b)=>{const $=`${this.prefix}/${this.pkg}.${s}/${d}`;this.instance.post($,c,{headers:g}).then(tt=>{_(camelcase_keys_1.default(tt.data,{deep:!0}))}).catch(b)})}}TwirpRPC.TwirpRpc=TwirpRpc;var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,s,d,c){function g(_){return _ instanceof d?_:new d(function(b){b(_)})}return new(d||(d=Promise))(function(_,b){function $(ot){try{nt(c.next(ot))}catch(dt){b(dt)}}function tt(ot){try{nt(c.throw(ot))}catch(dt){b(dt)}}function nt(ot){ot.done?_(ot.value):g(ot.value).then($,tt)}nt((c=c.apply(a,s||[])).next())})};Object.defineProperty(RoomServiceClient$1,"__esModule",{value:!0});RoomServiceClient$1.RoomServiceClient=void 0;const livekit_models_1=livekit_models,livekit_room_1=livekit_room,TwirpRPC_1=TwirpRPC,svc="RoomService";class RoomServiceClient{constructor(s,d,c,g,_){this.rpc=new TwirpRPC_1.TwirpRpc(s,TwirpRPC_1.livekitPackage,void 0,_),this.apiKey=d,this.secret=c,this.jwt=g}createRoom(s){return __awaiter(this,void 0,void 0,function*(){const d=yield this.rpc.request(svc,"CreateRoom",livekit_room_1.CreateRoomRequest.toJSON(livekit_room_1.CreateRoomRequest.fromPartial(s)),this.authHeader({roomCreate:!0}));return livekit_models_1.Room.fromJSON(d)})}listRooms(s){return __awaiter(this,void 0,void 0,function*(){const d=yield this.rpc.request(svc,"ListRooms",livekit_room_1.ListRoomsRequest.toJSON({names:s!=null?s:[]}),this.authHeader({roomList:!0}));return livekit_room_1.ListRoomsResponse.fromJSON(d).rooms})}deleteRoom(s){return __awaiter(this,void 0,void 0,function*(){yield this.rpc.request(svc,"DeleteRoom",livekit_room_1.DeleteRoomRequest.toJSON({room:s}),this.authHeader({roomCreate:!0}))})}updateRoomMetadata(s,d){return __awaiter(this,void 0,void 0,function*(){const c=yield this.rpc.request(svc,"UpdateRoomMetadata",livekit_room_1.UpdateRoomMetadataRequest.toJSON({room:s,metadata:d}),this.authHeader({roomAdmin:!0,room:s}));return livekit_models_1.Room.fromJSON(c)})}listParticipants(s){return __awaiter(this,void 0,void 0,function*(){const d=yield this.rpc.request(svc,"ListParticipants",livekit_room_1.ListParticipantsRequest.toJSON({room:s}),this.authHeader({roomAdmin:!0,room:s}));return livekit_room_1.ListParticipantsResponse.fromJSON(d).participants})}getParticipant(s,d){return __awaiter(this,void 0,void 0,function*(){const c=yield this.rpc.request(svc,"GetParticipant",livekit_room_1.RoomParticipantIdentity.toJSON({room:s,identity:d}),this.authHeader({roomAdmin:!0,room:s}));return livekit_models_1.ParticipantInfo.fromJSON(c)})}removeParticipant(s,d){return __awaiter(this,void 0,void 0,function*(){yield this.rpc.request(svc,"RemoveParticipant",livekit_room_1.RoomParticipantIdentity.toJSON({room:s,identity:d}),this.authHeader({roomAdmin:!0,room:s}))})}mutePublishedTrack(s,d,c,g){return __awaiter(this,void 0,void 0,function*(){const _=livekit_room_1.MuteRoomTrackRequest.toJSON({room:s,identity:d,trackSid:c,muted:g}),b=yield this.rpc.request(svc,"MutePublishedTrack",_,this.authHeader({roomAdmin:!0,room:s}));return livekit_room_1.MuteRoomTrackResponse.fromJSON(b).track})}updateParticipant(s,d,c,g){return __awaiter(this,void 0,void 0,function*(){const _={room:s,identity:d,metadata:c||"",permission:g},b=yield this.rpc.request(svc,"UpdateParticipant",livekit_room_1.UpdateParticipantRequest.toJSON(_),this.authHeader({roomAdmin:!0,room:s}));return livekit_models_1.ParticipantInfo.fromJSON(b)})}updateSubscriptions(s,d,c,g){return __awaiter(this,void 0,void 0,function*(){const _=livekit_room_1.UpdateSubscriptionsRequest.toJSON({room:s,identity:d,trackSids:c,subscribe:g,participantTracks:[]});yield this.rpc.request(svc,"UpdateSubscriptions",_,this.authHeader({roomAdmin:!0,room:s}))})}sendData(s,d,c,g=[]){return __awaiter(this,void 0,void 0,function*(){const _=livekit_room_1.SendDataRequest.toJSON({room:s,data:d,kind:c,destinationSids:g});yield this.rpc.request(svc,"SendData",_,this.authHeader({roomAdmin:!0,room:s}))})}authHeader(s){if(this.jwt!=null)return{Authorization:`Bearer ${this.jwt}`}}}RoomServiceClient$1.RoomServiceClient=RoomServiceClient;(function(a){var s=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,_,b,$){$===void 0&&($=b),Object.defineProperty(g,$,{enumerable:!0,get:function(){return _[b]}})}:function(g,_,b,$){$===void 0&&($=b),g[$]=_[b]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,_){for(var b in g)b!=="default"&&!Object.prototype.hasOwnProperty.call(_,b)&&s(_,g,b)};Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=a.TrackInfo=a.Room=a.ParticipantInfo_State=a.ParticipantInfo=a.DataPacket_Kind=void 0,d(grants,a);var c=livekit_models;Object.defineProperty(a,"DataPacket_Kind",{enumerable:!0,get:function(){return c.DataPacket_Kind}}),Object.defineProperty(a,"ParticipantInfo",{enumerable:!0,get:function(){return c.ParticipantInfo}}),Object.defineProperty(a,"ParticipantInfo_State",{enumerable:!0,get:function(){return c.ParticipantInfo_State}}),Object.defineProperty(a,"Room",{enumerable:!0,get:function(){return c.Room}}),Object.defineProperty(a,"TrackInfo",{enumerable:!0,get:function(){return c.TrackInfo}}),Object.defineProperty(a,"TrackType",{enumerable:!0,get:function(){return c.TrackType}}),d(RoomServiceClient$1,a)})(dist);var SpecialEvent=(a=>(a.Chat="Chat",a))(SpecialEvent||{});const decoder$1=new TextDecoder,encoder$1=new TextEncoder;class RoomsManager{constructor(){this.rooms=new Map,this.addRoom=this.addRoom.bind(this),this.ensureRoom=this.ensureRoom.bind(this),this.removeRoom=this.removeRoom.bind(this)}addRoom(s,d,c){const g=new RoomContext(s,d,c,this);return this.rooms.set(d,g),g}ensureRoom(s,d,c){return this.rooms.get(d)?(this.rooms.get(d).token=c,this.rooms.get(d)):this.addRoom(s,d,c)}async removeRoom(s){const d=this.rooms.get(s);if(!dist$1.Room)throw new Error("room not found!");if(d.isConnecting)throw new Error("Cannot remove room: Room is in connecting state");d.livekitRoom&&await d.livekitRoom.disconnect(!0),this.rooms.delete(s)}}class RoomContext{constructor(s,d,c,g){this._baseUrl=s,this._connectListeners=[],this._roomEventListenerRegistry={},this._jwt=c,Object.values(dist$1.RoomEvent).forEach(_=>{this._roomEventListenerRegistry[_]=new Set}),this._localParticipantEventListenerRegistry={},Object.values(dist$1.ParticipantEvent).forEach(_=>{this._localParticipantEventListenerRegistry[_]=new Set}),this._specialEventListenerRegistry={},this._manager=g,this._chatHistory=[],this.roomName=d,this.audioTracks=[],this.participants=[],this.isConnecting=!1,this.subscribeToRoomEvent(dist$1.RoomEvent.DataReceived,(_,b,$)=>{const tt=decoder$1.decode(_);switch(JSON.parse(tt).type){case"ChatMessage":return this._appendChat(_,b,$);default:return}}),this.connect=this.connect.bind(this),this.subscribeToRoomEvent=this.subscribeToRoomEvent.bind(this),this.subscribeToConnect=this.subscribeToConnect.bind(this),this.subscribeToLocalParticipantEvent=this.subscribeToLocalParticipantEvent.bind(this),this.subscribeToSpecialEvent=this.subscribeToSpecialEvent.bind(this),this.unsubscribeFromRoomEvent=this.unsubscribeFromRoomEvent.bind(this),this.unsubscribeFromSpecialEvent=this.unsubscribeFromSpecialEvent.bind(this),this.unsubscribeFromConnect=this.unsubscribeFromConnect.bind(this),this.unsubscribeFromLocalParticipantEvent=this.unsubscribeFromLocalParticipantEvent.bind(this),this.sendChatMessage=this.sendChatMessage.bind(this),this.kickParticipant=this.kickParticipant.bind(this),this.updateParticipant=this.updateParticipant.bind(this),this.muteTrackAsAdmin=this.muteTrackAsAdmin.bind(this),this._updateParticipants=this._updateParticipants.bind(this),this.subscribeToRoomEvent(dist$1.RoomEvent.ParticipantConnected,this._updateParticipants),this.subscribeToRoomEvent(dist$1.RoomEvent.ParticipantDisconnected,this._updateParticipants),this.subscribeToRoomEvent(dist$1.RoomEvent.TrackSubscribed,this._updateParticipants),this.subscribeToRoomEvent(dist$1.RoomEvent.TrackUnsubscribed,this._updateParticipants),this.subscribeToRoomEvent(dist$1.RoomEvent.LocalTrackPublished,this._updateParticipants),this.subscribeToRoomEvent(dist$1.RoomEvent.LocalTrackUnpublished,this._updateParticipants),this.subscribeToRoomEvent(dist$1.RoomEvent.Disconnected,()=>{this.livekitRoom.removeAllListeners(),this.livekitRoom=null,this._updateParticipants()})}bindApiClient(s){this._apiClient=s}get isAdmin(){return o(this._jwt).video.roomAdmin}set isAdmin(s){log$1.warn("isAdmin cannot be set")}get token(){return this._jwt}set token(s){this._jwt=s}get url(){return this._baseUrl}set url(s){}get chatHistory(){return this._chatHistory}set chatHistory(s){this._chatHistory=s}_updateParticipants(){if(!this.livekitRoom||this.livekitRoom.state===dist$1.RoomState.Disconnected){this.participants=[];return}else{const s=Array.from(this.livekitRoom.participants.values()),d=[this.livekitRoom.localParticipant];d.push(...s),this.participants=d}}async kickParticipant(s){if(this._admin)this._admin.removeParticipant(this.roomName,s);else throw new Error("no admin permissions")}updateParticipant(s,d){if(this._admin){const c=JSON.stringify(d);this._admin.updateParticipant(this.roomName,s,c)}else throw new Error("no admin permissions")}muteTrackAsAdmin(s,d=!0){if(this._admin){const c=this.participants.find(g=>[...g.audioTracks.values(),...g.videoTracks.values()].find(_=>_.trackSid===s));if(!c){log$1.warn("Could not find participant for track:",{trackSid:s});return}this._admin.mutePublishedTrack(this.roomName,c==null?void 0:c.identity,s,d)}else throw new Error("no admin permissions")}_appendChat(s,d,c){const g=decoder$1.decode(s),_=JSON.parse(g),b=d.identity,$=d.name,tt={..._,displayName:$,sender:b};this.chatHistory=[...this.chatHistory,tt],this._triggerSpecialEvents("Chat",tt)}subscribeToConnect(s){return this._connectListeners.push(s),()=>this.unsubscribeFromConnect(s)}unsubscribeFromConnect(s){this._connectListeners=this._connectListeners.filter(d=>d!==s)}subscribeToSpecialEvent(s,d){return this._specialEventListenerRegistry[s]||(this._specialEventListenerRegistry[s]=new Set),this._specialEventListenerRegistry[s].add(d),()=>{this.unsubscribeFromSpecialEvent(s,d)}}unsubscribeFromSpecialEvent(s,d){this._specialEventListenerRegistry[s]||(this._specialEventListenerRegistry[s]=new Set),this._specialEventListenerRegistry[s].delete(d)}_triggerSpecialEvents(s,...d){this._specialEventListenerRegistry[s]||(this._specialEventListenerRegistry[s]=new Set),this._specialEventListenerRegistry[s].forEach(c=>{c(...d)})}async connect(s={}){var d,c;try{return this.livekitRoom&&this.livekitRoom.state==="connected"?this.livekitRoom:this.isConnecting?null:(this.isConnecting=!0,this.livekitRoom=await dist$1.connect(`wss://${this._baseUrl}`,this._jwt,{logLevel:CoreContext.logLevel,...s}),this.isConnecting=!1,Object.values(dist$1.RoomEvent).forEach(g=>{this.livekitRoom.on(g,(..._)=>{this._roomEventListenerRegistry[g].forEach(b=>{b(..._)})})}),Object.values(dist$1.ParticipantEvent).forEach(g=>{this.livekitRoom.localParticipant.on(g,(..._)=>{this._localParticipantEventListenerRegistry[g].forEach(b=>{b(..._)})})}),this._updateParticipants(),this._connectListeners.forEach(g=>g(this.livekitRoom)),lib$2.LiveKitUtils.isRoomAdmin(this._jwt)?(log$1.info("Room: Granting admin permissions"),log$1.debug("Livekit server: ",(d=this._apiClient)==null?void 0:d.getLiveKitServer(!0)),this._admin=new dist.RoomServiceClient((c=this._apiClient)==null?void 0:c.getLiveKitServer(!0),void 0,void 0,this._jwt)):log$1.debug("Room: Not an admin"),this.livekitRoom)}catch(g){this.isConnecting=!1,log$1.error(g)}}subscribeToLocalParticipantEvent(s,d){return this._localParticipantEventListenerRegistry[s]||(this._localParticipantEventListenerRegistry[s]=new Set),this._localParticipantEventListenerRegistry[s].add(d),()=>{this.unsubscribeFromLocalParticipantEvent(s,d)}}unsubscribeFromLocalParticipantEvent(s,d){this._localParticipantEventListenerRegistry[s]||(this._localParticipantEventListenerRegistry[s]=new Set),this._localParticipantEventListenerRegistry[s].delete(d)}subscribeToRoomEvent(s,d){return this._roomEventListenerRegistry[s]||(this._roomEventListenerRegistry[s]=new Set),this._roomEventListenerRegistry[s].add(d),()=>{this.unsubscribeFromRoomEvent(s,d)}}unsubscribeFromRoomEvent(s,d){this._roomEventListenerRegistry[s]||(this._roomEventListenerRegistry[s]=new Set),this._roomEventListenerRegistry[s].delete(d)}sendChatMessage(s){const{message:d,recipients:c,metadata:g}=s;if(!this.livekitRoom||this.livekitRoom.state!=="connected")return;const _={type:"ChatMessage",recipients:c,metadata:g,content:d,timestamp:Date.now()},b=JSON.stringify(_),$=encoder$1.encode(b);if({..._,sender:this.livekitRoom.localParticipant.identity,displayName:this.livekitRoom.localParticipant.identity},Boolean(c)){const tt=c.map(this.livekitRoom.getParticipantByIdentity);return this.livekitRoom.localParticipant.publishData($,dist$1.DataPacket_Kind.RELIABLE,tt).then(()=>{this._appendChat($,this.livekitRoom.localParticipant,dist$1.DataPacket_Kind.RELIABLE)})}else return this.livekitRoom.localParticipant.publishData($,dist$1.DataPacket_Kind.RELIABLE).then(()=>{this._appendChat($,this.livekitRoom.localParticipant,dist$1.DataPacket_Kind.RELIABLE)})}}const webrtcManager=new RoomsManager,encoder=new TextEncoder,decoder=new TextDecoder,simpleRooms=new Map,getRoom=a=>{if(!a)return null;if(simpleRooms.get(a))return simpleRooms.get(a);const s=webrtcManager.rooms.get(a);if(!s)return null;const d=s.livekitRoom,c=d.localParticipant;window.__StudioRoom=d,c||log$1.warn("No local participant!");const g={useTracks:new Set,useTrack:new Map,useParticipants:new Set,useParticipant:new Map,useChatHistory:new Set};let _={tracks:[],participants:[],result:{participants:[],tracks:[]},chat:s.chatHistory};const b=()=>{const yt=s.participants,pt=yt.flatMap(it=>it.getTracks().map(ct=>({...ct,participant:it}))),vt={participants:yt.map(it=>{const ct=JSON.parse(it.metadata);return{id:it.identity,isSelf:it===c,connectionQuality:it.connectionQuality,displayName:ct.displayName||it.name,joinedAt:it.joinedAt,role:ct.participantRole,meta:ct,trackIds:pt.filter(mt=>mt.participant.sid===it.sid).map(mt=>mt.trackSid)}}),tracks:pt.map(it=>{var ct,mt,Nt;return{mediaStreamTrack:(ct=it.track)==null?void 0:ct.mediaStreamTrack,id:it.trackSid,participantId:(mt=it.participant)==null?void 0:mt.identity,isMuted:(Nt=it.track)==null?void 0:Nt.isMuted,type:it.source}})};_={tracks:pt,participants:yt,result:vt,chat:s.chatHistory},g.useTracks.forEach(it=>it(vt.tracks)),g.useTrack.forEach((it,ct)=>{ct(nt(it))}),g.useParticipants.forEach(it=>it(vt.participants)),g.useParticipant.forEach((it,ct)=>{ct(ot(it))}),g.useChatHistory.forEach(it=>{it(_.chat)})};[dist$1.RoomEvent.ParticipantConnected,dist$1.RoomEvent.ParticipantDisconnected,dist$1.RoomEvent.ParticipantMetadataChanged,dist$1.RoomEvent.Disconnected,dist$1.RoomEvent.TrackSubscribed,dist$1.RoomEvent.TrackUnsubscribed,dist$1.RoomEvent.LocalTrackPublished,dist$1.RoomEvent.LocalTrackUnpublished,dist$1.RoomEvent.ConnectionQualityChanged,dist$1.RoomEvent.TrackMuted,dist$1.RoomEvent.TrackUnmuted,dist$1.RoomEvent.TrackStreamStateChanged].map(yt=>s.subscribeToRoomEvent(yt,()=>b())).push(s.subscribeToSpecialEvent(SpecialEvent.Chat,b));const nt=yt=>_.result.tracks.find(pt=>pt.id===yt),ot=yt=>_.result.participants.find(pt=>pt.id===yt),dt=(yt,pt)=>{const vt=c.getTracks().find(it=>it.trackSid===yt);vt&&(pt?vt.mute():vt.unmute())};let ut,lt;const Tt={id:s.roomName,participantId:c.identity,setTrackEnabled:dt,setCameraEnabled:(yt=!0)=>c.setCameraEnabled(yt),setMicrophoneEnabled:(yt=!0)=>c.setMicrophoneEnabled(yt),setCamera:async(yt={})=>{var vt;if(ut){log$1.warn("Cannot set camera until previous has resolved");return}ut=!0;let pt;try{const it=c.getTracks().find(mt=>mt.source===dist$1.Track.Source.Camera),ct=await c.createTracks({video:{deviceId:yt.deviceId,resolution:yt.resolution||{width:1280,height:720,frameRate:30,aspectRatio:16/9}}});it!=null&&it.isMuted&&ct.forEach(mt=>{mt.mute()}),pt=await Promise.all(ct.map(mt=>c.publishTrack(mt))),it&&c.unpublishTrack(it.track)}catch(it){throw it}finally{return ut=!1,nt((vt=pt[0])==null?void 0:vt.trackSid)}},setMicrophone:async yt=>{var vt,it;if(lt){log$1.warn("Cannot set microphone until previous has resolved");return}lt=!0;let pt;try{const ct=c.getTracks().find(Nt=>Nt.source===dist$1.Track.Source.Microphone),mt=await c.createTracks({audio:yt||!0});return ct!=null&&ct.isMuted&&mt.forEach(Nt=>{Nt.mute()}),pt=await Promise.all(mt.map(Nt=>c.publishTrack(Nt))),ct&&c.unpublishTrack(ct.track),nt((vt=pt[0])==null?void 0:vt.trackSid)}catch(ct){throw ct}finally{return lt=!1,nt((it=pt[0])==null?void 0:it.trackSid)}},addCamera:async(yt={})=>{var it;const pt=await c.createTracks({video:{deviceId:yt.deviceId,resolution:yt.resolution||{width:1280,height:720,frameRate:30,aspectRatio:1.7777777777777777}}}),vt=await Promise.all(pt.map(ct=>c.publishTrack(ct)));return lt=!1,nt((it=vt[0])==null?void 0:it.trackSid)},addScreen:async(yt={audio:!1})=>{const pt=await c.createScreenTracks(yt),vt=await Promise.all(pt.map(mt=>c.publishTrack(mt))),it=vt.find(mt=>mt.kind==="video"),ct=vt.find(mt=>mt.kind==="audio");return{screen:nt(it==null?void 0:it.trackSid),audio:nt(ct==null?void 0:ct.trackSid)}},removeTrack:async yt=>{const pt=_.tracks.find(vt=>vt.trackSid===yt);c.unpublishTrack(pt.track)},setParticipantMetadata:(yt,pt)=>s.updateParticipant(yt,pt),kickParticipant:s.kickParticipant,muteTrackAsAdmin:s.muteTrackAsAdmin,sendChatMessage:s.sendChatMessage,getTracks:()=>_.result.tracks,useTracks:yt=>(g.useTracks.add(yt),yt(_.result.tracks),()=>{g.useTracks.delete(yt)}),getTrack:nt,useTrack:(yt,pt)=>(g.useTrack.set(pt,yt),pt(nt(yt)),()=>{g.useTrack.delete(pt)}),getParticipant:ot,getParticipants:()=>_.result.participants,useParticipants:yt=>(g.useParticipants.add(yt),yt(_.result.participants),()=>{g.useTracks.delete(yt)}),useParticipant:(yt,pt)=>(g.useParticipant.set(pt,yt),pt(ot(yt)),()=>{g.useTrack.delete(pt)}),useChatHistory:yt=>(g.useChatHistory.add(yt),yt(_.chat),()=>{g.useChatHistory.delete(yt)}),useActiveSpeakers:yt=>{const pt=vt=>{yt(vt.map(it=>it.identity))};return s.livekitRoom.on(dist$1.RoomEvent.ActiveSpeakersChanged,pt),pt(s.livekitRoom.activeSpeakers),()=>{var vt;(vt=s.livekitRoom)==null||vt.off(dist$1.RoomEvent.ActiveSpeakersChanged,pt)}},sendData:(yt,pt)=>{const vt=encoder.encode(JSON.stringify(yt)),it=pt==null?void 0:pt.map(ct=>s.livekitRoom.getParticipantByIdentity(ct).sid);return c.publishData(vt,dist$1.DataPacket_Kind.RELIABLE,it)},onData:yt=>{const pt=(vt,it)=>{const ct=JSON.parse(decoder.decode(vt));yt(ct,it==null?void 0:it.identity)};return s.livekitRoom.on(dist$1.RoomEvent.DataReceived,pt),()=>{var vt;(vt=s.livekitRoom)==null||vt.off(dist$1.RoomEvent.DataReceived,pt)}},connect:()=>s.connect(),disconnect:()=>s.livekitRoom.disconnect(),onDisconnected:yt=>(s.livekitRoom.on(dist$1.RoomEvent.Disconnected,yt),()=>{var pt;(pt=s.livekitRoom)==null||pt.off(dist$1.RoomEvent.DataReceived,yt)}),setAudioOutput:yt=>s.livekitRoom.switchActiveDevice("audiooutput",yt)};return b(),simpleRooms.set(a,Tt),Tt};lib$2.LiveApiModel.Rendering;lib$2.LiveApiModel.VideoRendering;lib$2.LiveApiModel.AudioRendering;lib$2.LiveApiModel.RenderingQuality;lib$2.LiveApiModel.Encoding;lib$2.LiveApiModel.VideoEncoding;lib$2.LiveApiModel.AudioEncoding;const ProjectBroadcastPhase=lib$2.LiveApiModel.ProjectBroadcastPhase;lib$2.LiveApiModel.Role;lib$2.LiveApiModel.DestinationAddress;lib$2.LiveApiModel.VideoCodec;lib$2.LiveApiModel.AudioCodec;lib$2.LiveApiModel.VideoCodecRateControl;lib$2.LiveApiModel.VideoCodecProfile;const{state:state$1}=CoreContext,getAccessTokenData=()=>{var a;return((a=CoreContext.clients.accessTokenClaims)==null?void 0:a.user)||{}},getBaseUser=()=>state$1.user?{id:state$1.user.id,props:state$1.user.props,name:state$1.user.name,projects:state$1.projects.map(toBaseProject),sources:state$1.sources.map(toBaseSource)}:null,toBaseProject=a=>{const{compositor:s,videoApi:d,props:c={},role:g}=a,{destinations:_,encoding:b,rendering:$,sources:tt}=d.project,nt={get:s.get,getRoot:s.getRoot,getParent:s.getParent};Object.defineProperty(nt,"nodes",{get(){return s.nodes.filter(ut=>!ut._deleted)}});const ot=a.videoApi.phase,dt=a.videoApi.broadcastId||null;return{broadcastPhase:ot,role:g,broadcastId:dt,isLive:[ProjectBroadcastPhase.PROJECT_BROADCAST_PHASE_RUNNING,ProjectBroadcastPhase.PROJECT_BROADCAST_PHASE_STOPPING].includes(ot),scene:nt,joinRoom:async(ut={})=>CoreContext.Command.joinRoom({projectId:a.id,...ut}),subscribe:ut=>CoreContext.subscribe((lt,Tt)=>{Tt.projectId&&(Tt==null?void 0:Tt.projectId)===a.id&&ut(lt,Tt)}),destinations:_.map(toBaseDestination),sources:tt.map(toBaseSource),encoding:b,rendering:$,id:a.id,hostDisplayName:a.props.hostDisplayName,props:c}},toBaseDestination=a=>{var s;return{id:a.destinationId,enabled:a.enabled,address:a.address,props:((s=a.metadata)==null?void 0:s.props)||(a==null?void 0:a.metadata)||{}}},toBaseSource=a=>{var s;return{id:a.sourceId,address:a.address,props:((s=a.metadata)==null?void 0:s.props)||{}}},hydrateProject=async(a,s,d)=>{const c=a.metadata||{};d&&await CoreContext.clients.LiveApi().project.updateProject({collectionId:a.collectionId,projectId:a.projectId,rendering:{video:{width:d.x,height:d.y,framerate:30}},updateMask:["rendering"]});const g=await layoutToProject(c.layoutId,d);return{id:a.projectId,compositor:g,role:s,videoApi:{project:a,phase:ProjectBroadcastPhase.PROJECT_BROADCAST_PHASE_UNSPECIFIED},layoutApi:{layoutId:c.layoutId},props:(c==null?void 0:c.props)||c}},sceneNodeToLayer=a=>{const{id:s,props:d={},children:c=[]}=a;return{...s?{id:s}:{},type:d.type,data:{...d},children:c.map(g=>g.id)}},nodeToLayer=a=>({id:a.id,type:a.props.type,data:{...a.props},children:a.childIds.map(s=>s)}),layerToNode=a=>({id:String(a.id),props:{type:a.type,...a.data},childIds:a.children.map(s=>String(s))}),layoutToProject=async(a,s)=>{const{layers:d}=await CoreContext.clients.LayoutApi().layer.listLayers({layoutId:a});if(s&&d){const{x:b,y:$}=s,tt=d==null?void 0:d.reduce((nt,ot)=>nt?nt.data.isRoot?nt:ot.data.isRoot||!d.some(dt=>dt.children.includes(ot.id))?ot:nt:ot,null);if(tt){const nt=await CoreContext.clients.LayoutApi().layer.updateLayer({layoutId:tt.layoutId,layerId:tt.id,layer:{x:b,y:$,data:{...tt.data,size:{x:b,y:$}}}}),ot=d.findIndex(dt=>dt.id===nt.id);d[ot]=nt}}const c=d.map(layerToNode),g=c.reduce((b,$)=>b?b.props.isRoot?b:$.props.isRoot||!c.some(tt=>tt.childIds.includes($.id))?$:b:$,null),_=g?toSceneTree(c,g.id):null;return CoreContext.compositor.loadProject(_,a)},getUser=()=>{const a=state$1.user;if(!a)throw new Error("User not loaded");return a},getProject=a=>state$1.projects.find(s=>s.id===a),getProjectByLayoutId=a=>state$1.projects.find(s=>s.compositor.id===a),getProjectRoom=a=>{var s;return getRoom((s=getProject(a))==null?void 0:s.roomId)},{connectionId}=CoreContext,latestUpdateVersion={},getNextNodeVersion=a=>(latestUpdateVersion[a]||(latestUpdateVersion[a]=0),++latestUpdateVersion[a]),request=(a,s)=>{const d=s.map(c=>{const[g,_]=c;return{[g]:_}});return log$1.debug("Batch request",d),CoreContext.clients.LayoutApi().layer.batch({layoutId:a,layers:d,requestMetadata:{connectionId,layoutId:a,updateVersions:s.filter(([c])=>c==="update").map(([c,g])=>({[g.id]:getNextNodeVersion(g.id)})).reduce((c,g)=>({...g,...c}),{})}})},compositorAdapter=(a,s)=>({async insert(d={},c,g){const _=nodeToLayer({id:null,props:d,childIds:[]});c?_.type="child":_.type="root",log$1.debug("Insert layer",_);const b=await CoreContext.clients.LayoutApi().layer.createLayer({layoutId:a,layer:{..._,requestMetadata:{connectionId,layoutId:a}}});if(b.code)throw new Error(b.message);const $=await s.get(c);if(c&&!$)throw Error("Parent not found with ID");if($){const tt=nodeToLayer($),nt=insertAt$1(g,b.id,tt.children),ot={layoutId:a,layerId:tt.id,layer:{children:nt,requestMetadata:{connectionId,layoutId:a,updateVersion:{[_.id]:getNextNodeVersion(_.id)}}}};await CoreContext.clients.LayoutApi().layer.updateLayer(ot)}return String(b.id)},async update(d,c={}){const g=s.get(d),_=nodeToLayer({...g,props:{...g.props,...c}}),b={layoutId:a,layerId:_.id,layer:{..._,requestMetadata:{connectionId,layoutId:a,updateVersions:{[_.id]:getNextNodeVersion(_.id)}}}};log$1.debug("Update layer",b),await CoreContext.clients.LayoutApi().layer.updateLayer(b)},async remove(d){const c=await s.getParent(d);if(c){const g=nodeToLayer(c),_=g.children.filter($=>$!==d),b={layoutId:a,layerId:g.id,layer:{children:_,requestMetadata:{connectionId,layoutId:a,updateVersions:{[g.id]:getNextNodeVersion(g.id)}}}};await CoreContext.clients.LayoutApi().layer.updateLayer(b)}await CoreContext.clients.LayoutApi().layer.deleteLayer({layoutId:a,layerId:d,payload:{requestMetadata:{connectionId,layoutId:a}}})},async reorder(d,c){const g=s.get(d),_=nodeToLayer({...g,childIds:c});log$1.debug("Reorder layer children",_),await CoreContext.clients.LayoutApi().layer.updateLayer({layoutId:a,layerId:_.id,layer:{children:_.children,requestMetadata:{connectionId,layoutId:a,updateVersions:{[_.id]:getNextNodeVersion(_.id)}}}})},async move(d,c,g){const _=s.get(d),b=s.get(s.getParent(d).id),$=nodeToLayer({...b,childIds:pull$2(b.childIds,_.id)}),tt=s.get(c),nt=nodeToLayer({...tt,childIds:insertAt$1(g,_.id,tt.childIds)});log$1.debug("Move layers"),await Promise.all([CoreContext.clients.LayoutApi().layer.updateLayer({layoutId:a,layerId:$.id,layer:{children:$.children,requestMetadata:{connectionId,layoutId:a,updateVersions:{[$.id]:getNextNodeVersion($.id)}}}}),CoreContext.clients.LayoutApi().layer.updateLayer({layoutId:a,layerId:nt.id,layer:{children:nt.children,requestMetadata:{connectionId,layoutId:a,updateVersions:{[nt.id]:getNextNodeVersion(nt.id)}}}})])},async batch(d){const c=d.map(([_,b])=>[_,sceneNodeToLayer(b)]),g=await request(a,c);return log$1.debug("Batch response",g),g}});var config$1=a=>({defaults:{previewTokenDuration:1e3*60*60,guestTokenDuration:1e3*60*60*12,transforms:{RoomParticipant:"LS-Room-Participant",Image:"LS-Image",Banner:"LS-Banner",Text:"LS-Text"}}}),reactDom={exports:{}},reactDom_production_min={},react={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function shouldUseNative(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var s={},d=0;d<10;d++)s["_"+String.fromCharCode(d)]=d;var c=Object.getOwnPropertyNames(s).map(function(_){return s[_]});if(c.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(_){g[_]=_}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(a,s){for(var d,c=toObject(a),g,_=1;_<arguments.length;_++){d=Object(arguments[_]);for(var b in d)hasOwnProperty.call(d,b)&&(c[b]=d[b]);if(getOwnPropertySymbols){g=getOwnPropertySymbols(d);for(var $=0;$<g.length;$++)propIsEnumerable.call(d,g[$])&&(c[g[$]]=d[g[$]])}}return c};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=objectAssign,n=60103,p=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q=60109,r$1=60110,t=60112;react_production_min.Suspense=60113;var u=60115,v=60116;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;n=w("react.element"),p=w("react.portal"),react_production_min.Fragment=w("react.fragment"),react_production_min.StrictMode=w("react.strict_mode"),react_production_min.Profiler=w("react.profiler"),q=w("react.provider"),r$1=w("react.context"),t=w("react.forward_ref"),react_production_min.Suspense=w("react.suspense"),u=w("react.memo"),v=w("react.lazy")}var x=typeof Symbol=="function"&&Symbol.iterator;function y$1(a){return a===null||typeof a!="object"?null:(a=x&&a[x]||a["@@iterator"],typeof a=="function"?a:null)}function z(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$1={};function C(a,s,d){this.props=a,this.context=s,this.refs=B$1,this.updater=d||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,s){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error(z(85));this.updater.enqueueSetState(this,a,s,"setState")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function D$1(){}D$1.prototype=C.prototype;function E$1(a,s,d){this.props=a,this.context=s,this.refs=B$1,this.updater=d||A}var F$1=E$1.prototype=new D$1;F$1.constructor=E$1;l(F$1,C.prototype);F$1.isPureReactComponent=!0;var G$1={current:null},H$1=Object.prototype.hasOwnProperty,I$1={key:!0,ref:!0,__self:!0,__source:!0};function J(a,s,d){var c,g={},_=null,b=null;if(s!=null)for(c in s.ref!==void 0&&(b=s.ref),s.key!==void 0&&(_=""+s.key),s)H$1.call(s,c)&&!I$1.hasOwnProperty(c)&&(g[c]=s[c]);var $=arguments.length-2;if($===1)g.children=d;else if(1<$){for(var tt=Array($),nt=0;nt<$;nt++)tt[nt]=arguments[nt+2];g.children=tt}if(a&&a.defaultProps)for(c in $=a.defaultProps,$)g[c]===void 0&&(g[c]=$[c]);return{$$typeof:n,type:a,key:_,ref:b,props:g,_owner:G$1.current}}function K(a,s){return{$$typeof:n,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return typeof a=="object"&&a!==null&&a.$$typeof===n}function escape(a){var s={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(d){return s[d]})}var M$1=/\/+/g;function N$1(a,s){return typeof a=="object"&&a!==null&&a.key!=null?escape(""+a.key):s.toString(36)}function O$1(a,s,d,c,g){var _=typeof a;(_==="undefined"||_==="boolean")&&(a=null);var b=!1;if(a===null)b=!0;else switch(_){case"string":case"number":b=!0;break;case"object":switch(a.$$typeof){case n:case p:b=!0}}if(b)return b=a,g=g(b),a=c===""?"."+N$1(b,0):c,Array.isArray(g)?(d="",a!=null&&(d=a.replace(M$1,"$&/")+"/"),O$1(g,s,d,"",function(nt){return nt})):g!=null&&(L(g)&&(g=K(g,d+(!g.key||b&&b.key===g.key?"":(""+g.key).replace(M$1,"$&/")+"/")+a)),s.push(g)),1;if(b=0,c=c===""?".":c+":",Array.isArray(a))for(var $=0;$<a.length;$++){_=a[$];var tt=c+N$1(_,$);b+=O$1(_,s,d,tt,g)}else if(tt=y$1(a),typeof tt=="function")for(a=tt.call(a),$=0;!(_=a.next()).done;)_=_.value,tt=c+N$1(_,$++),b+=O$1(_,s,d,tt,g);else if(_==="object")throw s=""+a,Error(z(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s));return b}function P$1(a,s,d){if(a==null)return a;var c=[],g=0;return O$1(a,c,"","",function(_){return s.call(d,_,g++)}),c}function Q(a){if(a._status===-1){var s=a._result;s=s(),a._status=0,a._result=s,s.then(function(d){a._status===0&&(d=d.default,a._status=1,a._result=d)},function(d){a._status===0&&(a._status=2,a._result=d)})}if(a._status===1)return a._result;throw a._result}var R$1={current:null};function S$1(){var a=R$1.current;if(a===null)throw Error(z(321));return a}var T$1={ReactCurrentDispatcher:R$1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$1,IsSomeRendererActing:{current:!1},assign:l};react_production_min.Children={map:P$1,forEach:function(a,s,d){P$1(a,function(){s.apply(this,arguments)},d)},count:function(a){var s=0;return P$1(a,function(){s++}),s},toArray:function(a){return P$1(a,function(s){return s})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};react_production_min.Component=C;react_production_min.PureComponent=E$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$1;react_production_min.cloneElement=function(a,s,d){if(a==null)throw Error(z(267,a));var c=l({},a.props),g=a.key,_=a.ref,b=a._owner;if(s!=null){if(s.ref!==void 0&&(_=s.ref,b=G$1.current),s.key!==void 0&&(g=""+s.key),a.type&&a.type.defaultProps)var $=a.type.defaultProps;for(tt in s)H$1.call(s,tt)&&!I$1.hasOwnProperty(tt)&&(c[tt]=s[tt]===void 0&&$!==void 0?$[tt]:s[tt])}var tt=arguments.length-2;if(tt===1)c.children=d;else if(1<tt){$=Array(tt);for(var nt=0;nt<tt;nt++)$[nt]=arguments[nt+2];c.children=$}return{$$typeof:n,type:a.type,key:g,ref:_,props:c,_owner:b}};react_production_min.createContext=function(a,s){return s===void 0&&(s=null),a={$$typeof:r$1,_calculateChangedBits:s,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null},a.Provider={$$typeof:q,_context:a},a.Consumer=a};react_production_min.createElement=J;react_production_min.createFactory=function(a){var s=J.bind(null,a);return s.type=a,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:t,render:a}};react_production_min.isValidElement=L;react_production_min.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};react_production_min.memo=function(a,s){return{$$typeof:u,type:a,compare:s===void 0?null:s}};react_production_min.useCallback=function(a,s){return S$1().useCallback(a,s)};react_production_min.useContext=function(a,s){return S$1().useContext(a,s)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(a,s){return S$1().useEffect(a,s)};react_production_min.useImperativeHandle=function(a,s,d){return S$1().useImperativeHandle(a,s,d)};react_production_min.useLayoutEffect=function(a,s){return S$1().useLayoutEffect(a,s)};react_production_min.useMemo=function(a,s){return S$1().useMemo(a,s)};react_production_min.useReducer=function(a,s,d){return S$1().useReducer(a,s,d)};react_production_min.useRef=function(a){return S$1().useRef(a)};react_production_min.useState=function(a){return S$1().useState(a)};react_production_min.version="17.0.2";react.exports=react_production_min;var React=react.exports,scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){var s,d,c,g;if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;a.unstable_now=function(){return _.now()}}else{var b=Date,$=b.now();a.unstable_now=function(){return b.now()-$}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var tt=null,nt=null,ot=function(){if(tt!==null)try{var Ht=a.unstable_now();tt(!0,Ht),tt=null}catch(j){throw setTimeout(ot,0),j}};s=function(Ht){tt!==null?setTimeout(s,0,Ht):(tt=Ht,setTimeout(ot,0))},d=function(Ht,j){nt=setTimeout(Ht,j)},c=function(){clearTimeout(nt)},a.unstable_shouldYield=function(){return!1},g=a.unstable_forceFrameRate=function(){}}else{var dt=window.setTimeout,ut=window.clearTimeout;if(typeof console!="undefined"){var lt=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof lt!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var Tt=!1,yt=null,pt=-1,vt=5,it=0;a.unstable_shouldYield=function(){return a.unstable_now()>=it},g=function(){},a.unstable_forceFrameRate=function(Ht){0>Ht||125<Ht?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vt=0<Ht?Math.floor(1e3/Ht):5};var ct=new MessageChannel,mt=ct.port2;ct.port1.onmessage=function(){if(yt!==null){var Ht=a.unstable_now();it=Ht+vt;try{yt(!0,Ht)?mt.postMessage(null):(Tt=!1,yt=null)}catch(j){throw mt.postMessage(null),j}}else Tt=!1},s=function(Ht){yt=Ht,Tt||(Tt=!0,mt.postMessage(null))},d=function(Ht,j){pt=dt(function(){Ht(a.unstable_now())},j)},c=function(){ut(pt),pt=-1}}function Nt(Ht,j){var rt=Ht.length;Ht.push(j);e:for(;;){var ht=rt-1>>>1,Vt=Ht[ht];if(Vt!==void 0&&0<Pt(Vt,j))Ht[ht]=j,Ht[rt]=Vt,rt=ht;else break e}}function Ot(Ht){return Ht=Ht[0],Ht===void 0?null:Ht}function At(Ht){var j=Ht[0];if(j!==void 0){var rt=Ht.pop();if(rt!==j){Ht[0]=rt;e:for(var ht=0,Vt=Ht.length;ht<Vt;){var at=2*(ht+1)-1,_t=Ht[at],Lt=at+1,Wt=Ht[Lt];if(_t!==void 0&&0>Pt(_t,rt))Wt!==void 0&&0>Pt(Wt,_t)?(Ht[ht]=Wt,Ht[Lt]=rt,ht=Lt):(Ht[ht]=_t,Ht[at]=rt,ht=at);else if(Wt!==void 0&&0>Pt(Wt,rt))Ht[ht]=Wt,Ht[Lt]=rt,ht=Lt;else break e}}return j}return null}function Pt(Ht,j){var rt=Ht.sortIndex-j.sortIndex;return rt!==0?rt:Ht.id-j.id}var St=[],Ct=[],$t=1,gt=null,It=3,Rt=!1,zt=!1,Ut=!1;function Dt(Ht){for(var j=Ot(Ct);j!==null;){if(j.callback===null)At(Ct);else if(j.startTime<=Ht)At(Ct),j.sortIndex=j.expirationTime,Nt(St,j);else break;j=Ot(Ct)}}function qt(Ht){if(Ut=!1,Dt(Ht),!zt)if(Ot(St)!==null)zt=!0,s(Kt);else{var j=Ot(Ct);j!==null&&d(qt,j.startTime-Ht)}}function Kt(Ht,j){zt=!1,Ut&&(Ut=!1,c()),Rt=!0;var rt=It;try{for(Dt(j),gt=Ot(St);gt!==null&&(!(gt.expirationTime>j)||Ht&&!a.unstable_shouldYield());){var ht=gt.callback;if(typeof ht=="function"){gt.callback=null,It=gt.priorityLevel;var Vt=ht(gt.expirationTime<=j);j=a.unstable_now(),typeof Vt=="function"?gt.callback=Vt:gt===Ot(St)&&At(St),Dt(j)}else At(St);gt=Ot(St)}if(gt!==null)var at=!0;else{var _t=Ot(Ct);_t!==null&&d(qt,_t.startTime-j),at=!1}return at}finally{gt=null,It=rt,Rt=!1}}var Qt=g;a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Ht){Ht.callback=null},a.unstable_continueExecution=function(){zt||Rt||(zt=!0,s(Kt))},a.unstable_getCurrentPriorityLevel=function(){return It},a.unstable_getFirstCallbackNode=function(){return Ot(St)},a.unstable_next=function(Ht){switch(It){case 1:case 2:case 3:var j=3;break;default:j=It}var rt=It;It=j;try{return Ht()}finally{It=rt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=Qt,a.unstable_runWithPriority=function(Ht,j){switch(Ht){case 1:case 2:case 3:case 4:case 5:break;default:Ht=3}var rt=It;It=Ht;try{return j()}finally{It=rt}},a.unstable_scheduleCallback=function(Ht,j,rt){var ht=a.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?ht+rt:ht):rt=ht,Ht){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=rt+Vt,Ht={id:$t++,callback:j,priorityLevel:Ht,startTime:rt,expirationTime:Vt,sortIndex:-1},rt>ht?(Ht.sortIndex=rt,Nt(Ct,Ht),Ot(St)===null&&Ht===Ot(Ct)&&(Ut?c():Ut=!0,d(qt,rt-ht))):(Ht.sortIndex=Vt,Nt(St,Ht),zt||Rt||(zt=!0,s(Kt))),Ht},a.unstable_wrapCallback=function(Ht){var j=It;return function(){var rt=It;It=j;try{return Ht.apply(this,arguments)}finally{It=rt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,m=objectAssign,r=scheduler.exports;function y(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,s){ea(a,s),ea(a+"Capture",s)}function ea(a,s){for(ca[a]=s,a=0;a<s.length;a++)ba.add(s[a])}var fa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(a){return ia.call(ka,a)?!0:ia.call(ja,a)?!1:ha.test(a)?ka[a]=!0:(ja[a]=!0,!1)}function ma(a,s,d,c){if(d!==null&&d.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function na(a,s,d,c){if(s===null||typeof s=="undefined"||ma(a,s,d,c))return!0;if(c)return!1;if(d!==null)switch(d.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(a,s,d,c,g,_,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=a,this.type=s,this.sanitizeURL=_,this.removeEmptyString=b}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];D[s]=new B(s,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(oa,pa);D[s]=new B(s,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(oa,pa);D[s]=new B(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(oa,pa);D[s]=new B(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});function qa(a,s,d,c){var g=D.hasOwnProperty(s)?D[s]:null,_=g!==null?g.type===0:c?!1:!(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N");_||(na(s,d,g,c)&&(d=null),c||g===null?la(s)&&(d===null?a.removeAttribute(s):a.setAttribute(s,""+d)):g.mustUseProperty?a[g.propertyName]=d===null?g.type===3?!1:"":d:(s=g.attributeName,c=g.attributeNamespace,d===null?a.removeAttribute(s):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,c?a.setAttributeNS(c,s,d):a.setAttribute(s,d))))}var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(a){return a===null||typeof a!="object"?null:(a=Ka&&a[Ka]||a["@@iterator"],typeof a=="function"?a:null)}var Ma;function Na(a){if(Ma===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Ma=s&&s[1]||""}return`
`+Ma+a}var Oa=!1;function Pa(a,s){if(!a||Oa)return"";Oa=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(tt){var c=tt}Reflect.construct(a,[],s)}else{try{s.call()}catch(tt){c=tt}a.call(s.prototype)}else{try{throw Error()}catch(tt){c=tt}a()}}catch(tt){if(tt&&c&&typeof tt.stack=="string"){for(var g=tt.stack.split(`
`),_=c.stack.split(`
`),b=g.length-1,$=_.length-1;1<=b&&0<=$&&g[b]!==_[$];)$--;for(;1<=b&&0<=$;b--,$--)if(g[b]!==_[$]){if(b!==1||$!==1)do if(b--,$--,0>$||g[b]!==_[$])return`
`+g[b].replace(" at new "," at ");while(1<=b&&0<=$);break}}}finally{Oa=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Na(a):""}function Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return""}}function Ra(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case za:return(a.displayName||"Context")+".Consumer";case ya:return(a._context.displayName||"Context")+".Provider";case Aa:var s=a.render;return s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:s=a._payload,a=a._init;try{return Ra(a(s))}catch{}}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function Ta(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(a){var s=Ta(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),c=""+a[s];if(!a.hasOwnProperty(s)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,_=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return g.call(this)},set:function(b){c=""+b,_.call(this,b)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),c="";return a&&(c=Ta(a)?a.checked?"true":"false":a.value),a=c,a!==d?(s.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,s){var d=s.checked;return m({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d!=null?d:a._wrapperState.initialChecked})}function Za(a,s){var d=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;d=Sa(s.value!=null?s.value:d),a._wrapperState={initialChecked:c,initialValue:d,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $a(a,s){s=s.checked,s!=null&&qa(a,"checked",s,!1)}function ab(a,s){$a(a,s);var d=Sa(s.value),c=s.type;if(d!=null)c==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(c==="submit"||c==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?bb(a,s.type,d):s.hasOwnProperty("defaultValue")&&bb(a,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function cb(a,s,d){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,d||s===a.value||(a.value=s),a.defaultValue=s}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function bb(a,s,d){(s!=="number"||Xa(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}function db(a){var s="";return aa.Children.forEach(a,function(d){d!=null&&(s+=d)}),s}function eb(a,s){return a=m({children:void 0},s),(s=db(s.children))&&(a.children=s),a}function fb(a,s,d,c){if(a=a.options,s){s={};for(var g=0;g<d.length;g++)s["$"+d[g]]=!0;for(d=0;d<a.length;d++)g=s.hasOwnProperty("$"+a[d].value),a[d].selected!==g&&(a[d].selected=g),g&&c&&(a[d].defaultSelected=!0)}else{for(d=""+Sa(d),s=null,g=0;g<a.length;g++){if(a[g].value===d){a[g].selected=!0,c&&(a[g].defaultSelected=!0);return}s!==null||a[g].disabled||(s=a[g])}s!==null&&(s.selected=!0)}}function gb(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(y(91));return m({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,s){var d=s.value;if(d==null){if(d=s.children,s=s.defaultValue,d!=null){if(s!=null)throw Error(y(92));if(Array.isArray(d)){if(!(1>=d.length))throw Error(y(93));d=d[0]}s=d}s==null&&(s=""),d=s}a._wrapperState={initialValue:Sa(d)}}function ib(a,s){var d=Sa(s.value),c=Sa(s.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),s.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),c!=null&&(a.defaultValue=""+c)}function jb(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?lb(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var nb,ob=function(a){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,d,c,g){MSApp.execUnsafeLocalFunction(function(){return a(s,d,c,g)})}:a}(function(a,s){if(a.namespaceURI!==kb.svg||"innerHTML"in a)a.innerHTML=s;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function pb(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(a){rb.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),qb[s]=qb[a]})});function sb(a,s,d){return s==null||typeof s=="boolean"||s===""?"":d||typeof s!="number"||s===0||qb.hasOwnProperty(a)&&qb[a]?(""+s).trim():s+"px"}function tb(a,s){a=a.style;for(var d in s)if(s.hasOwnProperty(d)){var c=d.indexOf("--")===0,g=sb(d,s[d],c);d==="float"&&(d="cssFloat"),c?a.setProperty(d,g):a[d]=g}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(a,s){if(s){if(ub[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(y(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(y(60));if(!(typeof s.dangerouslySetInnerHTML=="object"&&"__html"in s.dangerouslySetInnerHTML))throw Error(y(61))}if(s.style!=null&&typeof s.style!="object")throw Error(y(62))}}function wb(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(y(280));var s=a.stateNode;s&&(s=Db(s),yb(a.stateNode,a.type,s))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,s=Ab;if(Ab=zb=null,Bb(a),s)for(a=0;a<s.length;a++)Bb(s[a])}}function Gb(a,s){return a(s)}function Hb(a,s,d,c,g){return a(s,d,c,g)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(a,s,d){if(Lb)return a(s,d);Lb=!0;try{return Jb(a,s,d)}finally{Lb=!1,Mb()}}function Ob(a,s){var d=a.stateNode;if(d===null)return null;var c=Db(d);if(c===null)return null;d=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(y(231,s,typeof d));return d}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch(a){Pb=!1}function Rb(a,s,d,c,g,_,b,$,tt){var nt=Array.prototype.slice.call(arguments,3);try{s.apply(d,nt)}catch(ot){this.onError(ot)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0,Tb=a}};function Xb(a,s,d,c,g,_,b,$,tt){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(a,s,d,c,g,_,b,$,tt){if(Xb.apply(this,arguments),Sb){if(Sb){var nt=Tb;Sb=!1,Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=nt)}}function Zb(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&1026)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function $b(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188))}function bc(a){var s=a.alternate;if(!s){if(s=Zb(a),s===null)throw Error(y(188));return s!==a?null:a}for(var d=a,c=s;;){var g=d.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){d=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===d)return ac(g),a;if(_===c)return ac(g),s;_=_.sibling}throw Error(y(188))}if(d.return!==c.return)d=g,c=_;else{for(var b=!1,$=g.child;$;){if($===d){b=!0,d=g,c=_;break}if($===c){b=!0,c=g,d=_;break}$=$.sibling}if(!b){for($=_.child;$;){if($===d){b=!0,d=_,c=g;break}if($===c){b=!0,c=_,d=g;break}$=$.sibling}if(!b)throw Error(y(189))}}if(d.alternate!==c)throw Error(y(190))}if(d.tag!==3)throw Error(y(188));return d.stateNode.current===d?a:s}function cc(a){if(a=bc(a),!a)return null;for(var s=a;;){if(s.tag===5||s.tag===6)return s;if(s.child)s.child.return=s,s=s.child;else{if(s===a)break;for(;!s.sibling;){if(!s.return||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}}return null}function dc(a,s){for(var d=a.alternate;s!==null;){if(s===a||s===d)return!0;s=s.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(a,s,d,c,g){return{blockedOn:a,domEventName:s,eventSystemFlags:d|16,nativeEvent:g,targetContainers:[c]}}function sc(a,s){switch(a){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(s.pointerId)}}function tc(a,s,d,c,g,_){return a===null||a.nativeEvent!==_?(a=rc(s,d,c,g,_),s!==null&&(s=Cb(s),s!==null&&fc(s)),a):(a.eventSystemFlags|=c,s=a.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),a)}function uc(a,s,d,c,g){switch(s){case"focusin":return kc=tc(kc,a,s,d,c,g),!0;case"dragenter":return lc=tc(lc,a,s,d,c,g),!0;case"mouseover":return mc=tc(mc,a,s,d,c,g),!0;case"pointerover":var _=g.pointerId;return nc.set(_,tc(nc.get(_)||null,a,s,d,c,g)),!0;case"gotpointercapture":return _=g.pointerId,oc.set(_,tc(oc.get(_)||null,a,s,d,c,g)),!0}return!1}function vc(a){var s=wc(a.target);if(s!==null){var d=Zb(s);if(d!==null){if(s=d.tag,s===13){if(s=$b(d),s!==null){a.blockedOn=s,hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(d)})});return}}else if(s===3&&d.stateNode.hydrate){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=yc(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(d!==null)return s=Cb(d),s!==null&&fc(s),a.blockedOn=d,!1;s.shift()}return!0}function zc(a,s,d){xc(a)&&d.delete(s)}function Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(a.blockedOn!==null){a=Cb(a.blockedOn),a!==null&&ec(a);break}for(var s=a.targetContainers;0<s.length;){var d=yc(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(d!==null){a.blockedOn=d;break}s.shift()}a.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(a,s){a.blockedOn===s&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}function Cc(a){function s(g){return Bc(g,a)}if(0<jc.length){Bc(jc[0],a);for(var d=1;d<jc.length;d++){var c=jc[d];c.blockedOn===a&&(c.blockedOn=null)}}for(kc!==null&&Bc(kc,a),lc!==null&&Bc(lc,a),mc!==null&&Bc(mc,a),nc.forEach(s),oc.forEach(s),d=0;d<pc.length;d++)c=pc[d],c.blockedOn===a&&(c.blockedOn=null);for(;0<pc.length&&(d=pc[0],d.blockedOn===null);)vc(d),d.blockedOn===null&&pc.shift()}function Dc(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var s=Ec[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Gc)return Fc[a]=s[d];return a}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(a,s){for(var d=0;d<a.length;d+=2){var c=a[d],g=a[d+1];g="on"+(g[0].toUpperCase()+g.slice(1)),Nc.set(c,s),Mc.set(c,g),da(g,[c])}}var Qc=r.unstable_now;Qc();var F=8;function Rc(a){if((1&a)!==0)return F=15,1;if((2&a)!==0)return F=14,2;if((4&a)!==0)return F=13,4;var s=24&a;return s!==0?(F=12,s):(a&32)!==0?(F=11,32):(s=192&a,s!==0?(F=10,s):(a&256)!==0?(F=9,256):(s=3584&a,s!==0?(F=8,s):(a&4096)!==0?(F=7,4096):(s=4186112&a,s!==0?(F=6,s):(s=62914560&a,s!==0?(F=5,s):a&67108864?(F=4,67108864):(a&134217728)!==0?(F=3,134217728):(s=805306368&a,s!==0?(F=2,s):(1073741824&a)!==0?(F=1,1073741824):(F=8,a))))))}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a))}}function Uc(a,s){var d=a.pendingLanes;if(d===0)return F=0;var c=0,g=0,_=a.expiredLanes,b=a.suspendedLanes,$=a.pingedLanes;if(_!==0)c=_,g=F=15;else if(_=d&134217727,_!==0){var tt=_&~b;tt!==0?(c=Rc(tt),g=F):($&=_,$!==0&&(c=Rc($),g=F))}else _=d&~b,_!==0?(c=Rc(_),g=F):$!==0&&(c=Rc($),g=F);if(c===0)return 0;if(c=31-Vc(c),c=d&((0>c?0:1<<c)<<1)-1,s!==0&&s!==c&&(s&b)===0){if(Rc(s),g<=F)return s;F=g}if(s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=c;0<s;)d=31-Vc(s),g=1<<d,c|=a[d],s&=~g;return c}function Wc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Xc(a,s){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~s),a===0?Xc(10,s):a;case 10:return a=Yc(192&~s),a===0?Xc(8,s):a;case 8:return a=Yc(3584&~s),a===0&&(a=Yc(4186112&~s),a===0&&(a=512)),a;case 2:return s=Yc(805306368&~s),s===0&&(s=268435456),s}throw Error(y(358,a))}function Yc(a){return a&-a}function Zc(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function $c(a,s,d){a.pendingLanes|=s;var c=s-1;a.suspendedLanes&=c,a.pingedLanes&=c,a=a.eventTimes,s=31-Vc(s),a[s]=d}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return a===0?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,s,d,c){Kb||Ib();var g=hd,_=Kb;Kb=!0;try{Hb(g,a,s,d,c)}finally{(Kb=_)||Mb()}}function id(a,s,d,c){ed(dd,hd.bind(null,a,s,d,c))}function hd(a,s,d,c){if(fd){var g;if((g=(s&4)===0)&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,s,d,c),jc.push(a);else{var _=yc(a,s,d,c);if(_===null)g&&sc(a,c);else{if(g){if(-1<qc.indexOf(a)){a=rc(_,a,s,d,c),jc.push(a);return}if(uc(_,a,s,d,c))return;sc(a,c)}jd(a,s,c,null,d)}}}}function yc(a,s,d,c){var g=xb(c);if(g=wc(g),g!==null){var _=Zb(g);if(_===null)g=null;else{var b=_.tag;if(b===13){if(g=$b(_),g!==null)return g;g=null}else if(b===3){if(_.stateNode.hydrate)return _.tag===3?_.stateNode.containerInfo:null;g=null}else _!==g&&(g=null)}}return jd(a,s,c,g,d),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,s=ld,d=s.length,c,g="value"in kd?kd.value:kd.textContent,_=g.length;for(a=0;a<d&&s[a]===g[a];a++);var b=d-a;for(c=1;c<=b&&s[d-c]===g[_-c];c++);return md=g.slice(a,1<c?1-c:void 0)}function od(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function s(d,c,g,_,b){this._reactName=d,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Od[a])?!!s[a]:!1}function zd(){return Pd}var Qd=m({},ud,{key:function(a){if(a.key){var s=Md[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&"CompositionEvent"in window,be=null;fa&&"documentMode"in document&&(be=document.documentMode);var ce=fa&&"TextEvent"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(a,s){switch(a){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,s){switch(a){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return a=s.data,a===ee&&fe?null:a;default:return null}}function ke(a,s){if(ie)return a==="compositionend"||!ae&&ge(a,s)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!le[a.type]:s==="textarea"}function ne(a,s,d,c){Eb(c),s=oe(s,"onChange"),0<s.length&&(d=new td("onChange","change",null,d,c),a.push({event:d,listeners:s}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var s=ue(a);if(Wa(s))return a}function ve(a,s){if(a==="change")return s}var we=!1;if(fa){var xe;if(fa){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var s=[];if(ne(s,qe,a,xb(a)),a=re,Kb)a(s);else{Kb=!0;try{Gb(a,s)}finally{Kb=!1,Mb()}}}}function Ce(a,s,d){a==="focusin"?(Ae(),pe=s,qe=d,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,s){if(a==="click")return te(s)}function Fe(a,s){if(a==="input"||a==="change")return te(s)}function Ge(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;function Je(a,s){if(He(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),c=Object.keys(s);if(d.length!==c.length)return!1;for(c=0;c<d.length;c++)if(!Ie.call(s,d[c])||!He(a[d[c]],s[d[c]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Le(a,s){var d=Ke(a);a=0;for(var c;d;){if(d.nodeType===3){if(c=a+d.textContent.length,a<=s&&c>=s)return{node:d,offset:s-a};a=c}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ke(d)}}function Me(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Me(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Ne(){for(var a=window,s=Xa();s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=Xa(a.document)}return s}function Oe(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,s,d){var c=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Te||Qe==null||Qe!==Xa(c)||(c=Qe,"selectionStart"in c&&Oe(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se&&Je(Se,c)||(Se=c,c=oe(Re,"onSelect"),0<c.length&&(s=new td("onSelect","select",null,s,d),a.push({event:s,listeners:c}),s.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(a,s,d){var c=a.type||"unknown-event";a.currentTarget=d,Yb(c,s,void 0,a),a.currentTarget=null}function se(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var c=a[d],g=c.event;c=c.listeners;e:{var _=void 0;if(s)for(var b=c.length-1;0<=b;b--){var $=c[b],tt=$.instance,nt=$.currentTarget;if($=$.listener,tt!==_&&g.isPropagationStopped())break e;Ze(g,$,nt),_=tt}else for(b=0;b<c.length;b++){if($=c[b],tt=$.instance,nt=$.currentTarget,$=$.listener,tt!==_&&g.isPropagationStopped())break e;Ze(g,$,nt),_=tt}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a}function G(a,s){var d=$e(s),c=a+"__bubble";d.has(c)||(af(s,a,2,!1),d.add(c))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(s){Ye.has(s)||df(s,!1,a,null),df(s,!0,a,null)}))}function df(a,s,d,c){var g=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,_=d;if(a==="selectionchange"&&d.nodeType!==9&&(_=d.ownerDocument),c!==null&&!s&&Ye.has(a)){if(a!=="scroll")return;g|=2,_=c}var b=$e(_),$=a+"__"+(s?"capture":"bubble");b.has($)||(s&&(g|=4),af(_,a,g,s),b.add($))}function af(a,s,d,c){var g=Nc.get(s);switch(g===void 0?2:g){case 0:g=gd;break;case 1:g=id;break;default:g=hd}d=g.bind(null,s,d,a),g=void 0,!Pb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?a.addEventListener(s,d,{capture:!0,passive:g}):a.addEventListener(s,d,!0):g!==void 0?a.addEventListener(s,d,{passive:g}):a.addEventListener(s,d,!1)}function jd(a,s,d,c,g){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var $=c.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(b===4)for(b=c.return;b!==null;){var tt=b.tag;if((tt===3||tt===4)&&(tt=b.stateNode.containerInfo,tt===g||tt.nodeType===8&&tt.parentNode===g))return;b=b.return}for(;$!==null;){if(b=wc($),b===null)return;if(tt=b.tag,tt===5||tt===6){c=_=b;continue e}$=$.parentNode}}c=c.return}Nb(function(){var nt=_,ot=xb(d),dt=[];e:{var ut=Mc.get(a);if(ut!==void 0){var lt=td,Tt=a;switch(a){case"keypress":if(od(d)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":Tt="focus",lt=Fd;break;case"focusout":Tt="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case Ic:case Jc:case Kc:lt=Hd;break;case Lc:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var yt=(s&4)!==0,pt=!yt&&a==="scroll",vt=yt?ut!==null?ut+"Capture":null:ut;yt=[];for(var it=nt,ct;it!==null;){ct=it;var mt=ct.stateNode;if(ct.tag===5&&mt!==null&&(ct=mt,vt!==null&&(mt=Ob(it,vt),mt!=null&&yt.push(ef(it,mt,ct)))),pt)break;it=it.return}0<yt.length&&(ut=new lt(ut,Tt,null,d,ot),dt.push({event:ut,listeners:yt}))}}if((s&7)===0){e:{if(ut=a==="mouseover"||a==="pointerover",lt=a==="mouseout"||a==="pointerout",ut&&(s&16)===0&&(Tt=d.relatedTarget||d.fromElement)&&(wc(Tt)||Tt[ff]))break e;if((lt||ut)&&(ut=ot.window===ot?ot:(ut=ot.ownerDocument)?ut.defaultView||ut.parentWindow:window,lt?(Tt=d.relatedTarget||d.toElement,lt=nt,Tt=Tt?wc(Tt):null,Tt!==null&&(pt=Zb(Tt),Tt!==pt||Tt.tag!==5&&Tt.tag!==6)&&(Tt=null)):(lt=null,Tt=nt),lt!==Tt)){if(yt=Bd,mt="onMouseLeave",vt="onMouseEnter",it="mouse",(a==="pointerout"||a==="pointerover")&&(yt=Td,mt="onPointerLeave",vt="onPointerEnter",it="pointer"),pt=lt==null?ut:ue(lt),ct=Tt==null?ut:ue(Tt),ut=new yt(mt,it+"leave",lt,d,ot),ut.target=pt,ut.relatedTarget=ct,mt=null,wc(ot)===nt&&(yt=new yt(vt,it+"enter",Tt,d,ot),yt.target=ct,yt.relatedTarget=pt,mt=yt),pt=mt,lt&&Tt)t:{for(yt=lt,vt=Tt,it=0,ct=yt;ct;ct=gf(ct))it++;for(ct=0,mt=vt;mt;mt=gf(mt))ct++;for(;0<it-ct;)yt=gf(yt),it--;for(;0<ct-it;)vt=gf(vt),ct--;for(;it--;){if(yt===vt||vt!==null&&yt===vt.alternate)break t;yt=gf(yt),vt=gf(vt)}yt=null}else yt=null;lt!==null&&hf(dt,ut,lt,yt,!1),Tt!==null&&pt!==null&&hf(dt,pt,Tt,yt,!0)}}e:{if(ut=nt?ue(nt):window,lt=ut.nodeName&&ut.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ut.type==="file")var Nt=ve;else if(me(ut))if(we)Nt=Fe;else{Nt=De;var Ot=Ce}else(lt=ut.nodeName)&&lt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Nt=Ee);if(Nt&&(Nt=Nt(a,nt))){ne(dt,Nt,d,ot);break e}Ot&&Ot(a,ut,nt),a==="focusout"&&(Ot=ut._wrapperState)&&Ot.controlled&&ut.type==="number"&&bb(ut,"number",ut.value)}switch(Ot=nt?ue(nt):window,a){case"focusin":(me(Ot)||Ot.contentEditable==="true")&&(Qe=Ot,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(dt,d,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dt,d,ot)}var At;if(ae)e:{switch(a){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else ie?ge(a,d)&&(Pt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Pt="onCompositionStart");Pt&&(de&&d.locale!=="ko"&&(ie||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ie&&(At=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ot=oe(nt,Pt),0<Ot.length&&(Pt=new Ld(Pt,a,null,d,ot),dt.push({event:Pt,listeners:Ot}),At?Pt.data=At:(At=he(d),At!==null&&(Pt.data=At)))),(At=ce?je(a,d):ke(a,d))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(ot=new Ld("onBeforeInput","beforeinput",null,d,ot),dt.push({event:ot,listeners:nt}),ot.data=At))}se(dt,s)})}function ef(a,s,d){return{instance:a,listener:s,currentTarget:d}}function oe(a,s){for(var d=s+"Capture",c=[];a!==null;){var g=a,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Ob(a,d),_!=null&&c.unshift(ef(a,_,g)),_=Ob(a,s),_!=null&&c.push(ef(a,_,g))),a=a.return}return c}function gf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function hf(a,s,d,c,g){for(var _=s._reactName,b=[];d!==null&&d!==c;){var $=d,tt=$.alternate,nt=$.stateNode;if(tt!==null&&tt===c)break;$.tag===5&&nt!==null&&($=nt,g?(tt=Ob(d,_),tt!=null&&b.unshift(ef(d,tt,$))):g||(tt=Ob(d,_),tt!=null&&b.push(ef(d,tt,$)))),d=d.return}b.length!==0&&a.push({event:s,listeners:b})}function jf(){}var kf=null,lf=null;function mf(a,s){switch(a){case"button":case"input":case"select":case"textarea":return!!s.autoFocus}return!1}function nf(a,s){return a==="textarea"||a==="option"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(a){a.nodeType===1?a.textContent="":a.nodeType===9&&(a=a.body,a!=null&&(a.textContent=""))}function rf(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break}return a}function sf(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return a;s--}else d==="/$"&&s++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(a){var s=a[wf];if(s)return s;for(var d=a.parentNode;d;){if(s=d[ff]||d[wf]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=sf(a);a!==null;){if(d=a[wf])return d;a=sf(a)}return s}a=d,d=a.parentNode}return null}function Cb(a){return a=a[wf]||a[ff],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(y(33))}function Db(a){return a[xf]||null}function $e(a){var s=a[yf];return s===void 0&&(s=a[yf]=new Set),s}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,s){Af++,zf[Af]=a.current,a.current=s}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(a,s){var d=a.type.contextTypes;if(!d)return Cf;var c=a.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in d)g[_]=s[_];return c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=g),g}function Ff(a){return a=a.childContextTypes,a!=null}function Gf(){H(N),H(M)}function Hf(a,s,d){if(M.current!==Cf)throw Error(y(168));I(M,s),I(N,d)}function If(a,s,d){var c=a.stateNode;if(a=s.childContextTypes,typeof c.getChildContext!="function")return d;c=c.getChildContext();for(var g in c)if(!(g in a))throw Error(y(108,Ra(s)||"Unknown",g));return m({},d,c)}function Jf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,a),I(N,N.current),!0}function Kf(a,s,d){var c=a.stateNode;if(!c)throw Error(y(169));d?(a=If(a,s,Df),c.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N),I(N,d)}var Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332))}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332))}}function gg(a,s){return a=fg(a),Nf(a,s)}function hg(a,s,d){return a=fg(a),Of(a,s,d)}function ig(){if(bg!==null){var a=bg;bg=null,Pf(a)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var a=0;try{var s=ag;gg(99,function(){for(;a<s.length;a++){var d=s[a];do d=d(!0);while(d!==null)}}),ag=null}catch(d){throw ag!==null&&(ag=ag.slice(a+1)),Of(Uf,ig),d}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,s){if(a&&a.defaultProps){s=m({},s),a=a.defaultProps;for(var d in a)s[d]===void 0&&(s[d]=a[d]);return s}return s}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(a){var s=mg.current;H(mg),a.type._context._currentValue=s}function sg(a,s){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)===s){if(d===null||(d.childLanes&s)===s)break;d.childLanes|=s}else a.childLanes|=s,d!==null&&(d.childLanes|=s);a=a.return}}function tg(a,s){ng=a,pg=og=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(ug=!0),a.firstContext=null)}function vg(a,s){if(pg!==a&&s!==!1&&s!==0)if((typeof s!="number"||s===1073741823)&&(pg=a,s=1073741823),s={context:a,observedBits:s,next:null},og===null){if(ng===null)throw Error(y(308));og=s,ng.dependencies={lanes:0,firstContext:s,responders:null}}else og=og.next=s;return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Ag(a,s){if(a=a.updateQueue,a!==null){a=a.shared;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}}function Bg(a,s){var d=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,d===c)){var g=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var b={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?g=_=b:_=_.next=b,d=d.next}while(d!==null);_===null?g=_=s:_=_.next=s}else g=_=s;d={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,effects:c.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}function Cg(a,s,d,c){var g=a.updateQueue;wg=!1;var _=g.firstBaseUpdate,b=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var tt=$,nt=tt.next;tt.next=null,b===null?_=nt:b.next=nt,b=tt;var ot=a.alternate;if(ot!==null){ot=ot.updateQueue;var dt=ot.lastBaseUpdate;dt!==b&&(dt===null?ot.firstBaseUpdate=nt:dt.next=nt,ot.lastBaseUpdate=tt)}}if(_!==null){dt=g.baseState,b=0,ot=nt=tt=null;do{$=_.lane;var ut=_.eventTime;if((c&$)===$){ot!==null&&(ot=ot.next={eventTime:ut,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var lt=a,Tt=_;switch($=s,ut=d,Tt.tag){case 1:if(lt=Tt.payload,typeof lt=="function"){dt=lt.call(ut,dt,$);break e}dt=lt;break e;case 3:lt.flags=lt.flags&-4097|64;case 0:if(lt=Tt.payload,$=typeof lt=="function"?lt.call(ut,dt,$):lt,$==null)break e;dt=m({},dt,$);break e;case 2:wg=!0}}_.callback!==null&&(a.flags|=32,$=g.effects,$===null?g.effects=[_]:$.push(_))}else ut={eventTime:ut,lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ot===null?(nt=ot=ut,tt=dt):ot=ot.next=ut,b|=$;if(_=_.next,_===null){if($=g.shared.pending,$===null)break;_=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(1);ot===null&&(tt=dt),g.baseState=tt,g.firstBaseUpdate=nt,g.lastBaseUpdate=ot,Dg|=b,a.lanes=b,a.memoizedState=dt}}function Eg(a,s,d){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var c=a[s],g=c.callback;if(g!==null){if(c.callback=null,c=d,typeof g!="function")throw Error(y(191,g));g.call(c)}}}var Fg=new aa.Component().refs;function Gg(a,s,d,c){s=a.memoizedState,d=d(c,s),d=d==null?s:m({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,s,d){a=a._reactInternals;var c=Hg(),g=Ig(a),_=zg(c,g);_.payload=s,d!=null&&(_.callback=d),Ag(a,_),Jg(a,g,c)},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var c=Hg(),g=Ig(a),_=zg(c,g);_.tag=1,_.payload=s,d!=null&&(_.callback=d),Ag(a,_),Jg(a,g,c)},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=Hg(),c=Ig(a),g=zg(d,c);g.tag=2,s!=null&&(g.callback=s),Ag(a,g),Jg(a,c,d)}};function Lg(a,s,d,c,g,_,b){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,_,b):s.prototype&&s.prototype.isPureReactComponent?!Je(d,c)||!Je(g,_):!0}function Mg(a,s,d){var c=!1,g=Cf,_=s.contextType;return typeof _=="object"&&_!==null?_=vg(_):(g=Ff(s)?Df:M.current,c=s.contextTypes,_=(c=c!=null)?Ef(a,g):Cf),s=new s(d,_),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Kg,a.stateNode=s,s._reactInternals=a,c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=g,a.__reactInternalMemoizedMaskedChildContext=_),s}function Ng(a,s,d,c){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,c),s.state!==a&&Kg.enqueueReplaceState(s,s.state,null)}function Og(a,s,d,c){var g=a.stateNode;g.props=d,g.state=a.memoizedState,g.refs=Fg,xg(a);var _=s.contextType;typeof _=="object"&&_!==null?g.context=vg(_):(_=Ff(s)?Df:M.current,g.context=Ef(a,_)),Cg(a,d,g,c),g.state=a.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Gg(a,s,_,d),g.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&Kg.enqueueReplaceState(g,g.state,null),Cg(a,d,g,c),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4)}var Pg=Array.isArray;function Qg(a,s,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(y(309));var c=d.stateNode}if(!c)throw Error(y(147,a));var g=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var b=c.refs;b===Fg&&(b=c.refs={}),_===null?delete b[g]:b[g]=_},s._stringRef=g,s)}if(typeof a!="string")throw Error(y(284));if(!d._owner)throw Error(y(290,a))}return a}function Rg(a,s){if(a.type!=="textarea")throw Error(y(31,Object.prototype.toString.call(s)==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":s))}function Sg(a){function s(pt,vt){if(a){var it=pt.lastEffect;it!==null?(it.nextEffect=vt,pt.lastEffect=vt):pt.firstEffect=pt.lastEffect=vt,vt.nextEffect=null,vt.flags=8}}function d(pt,vt){if(!a)return null;for(;vt!==null;)s(pt,vt),vt=vt.sibling;return null}function c(pt,vt){for(pt=new Map;vt!==null;)vt.key!==null?pt.set(vt.key,vt):pt.set(vt.index,vt),vt=vt.sibling;return pt}function g(pt,vt){return pt=Tg(pt,vt),pt.index=0,pt.sibling=null,pt}function _(pt,vt,it){return pt.index=it,a?(it=pt.alternate,it!==null?(it=it.index,it<vt?(pt.flags=2,vt):it):(pt.flags=2,vt)):vt}function b(pt){return a&&pt.alternate===null&&(pt.flags=2),pt}function $(pt,vt,it,ct){return vt===null||vt.tag!==6?(vt=Ug(it,pt.mode,ct),vt.return=pt,vt):(vt=g(vt,it),vt.return=pt,vt)}function tt(pt,vt,it,ct){return vt!==null&&vt.elementType===it.type?(ct=g(vt,it.props),ct.ref=Qg(pt,vt,it),ct.return=pt,ct):(ct=Vg(it.type,it.key,it.props,null,pt.mode,ct),ct.ref=Qg(pt,vt,it),ct.return=pt,ct)}function nt(pt,vt,it,ct){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==it.containerInfo||vt.stateNode.implementation!==it.implementation?(vt=Wg(it,pt.mode,ct),vt.return=pt,vt):(vt=g(vt,it.children||[]),vt.return=pt,vt)}function ot(pt,vt,it,ct,mt){return vt===null||vt.tag!==7?(vt=Xg(it,pt.mode,ct,mt),vt.return=pt,vt):(vt=g(vt,it),vt.return=pt,vt)}function dt(pt,vt,it){if(typeof vt=="string"||typeof vt=="number")return vt=Ug(""+vt,pt.mode,it),vt.return=pt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case sa:return it=Vg(vt.type,vt.key,vt.props,null,pt.mode,it),it.ref=Qg(pt,null,vt),it.return=pt,it;case ta:return vt=Wg(vt,pt.mode,it),vt.return=pt,vt}if(Pg(vt)||La(vt))return vt=Xg(vt,pt.mode,it,null),vt.return=pt,vt;Rg(pt,vt)}return null}function ut(pt,vt,it,ct){var mt=vt!==null?vt.key:null;if(typeof it=="string"||typeof it=="number")return mt!==null?null:$(pt,vt,""+it,ct);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case sa:return it.key===mt?it.type===ua?ot(pt,vt,it.props.children,ct,mt):tt(pt,vt,it,ct):null;case ta:return it.key===mt?nt(pt,vt,it,ct):null}if(Pg(it)||La(it))return mt!==null?null:ot(pt,vt,it,ct,null);Rg(pt,it)}return null}function lt(pt,vt,it,ct,mt){if(typeof ct=="string"||typeof ct=="number")return pt=pt.get(it)||null,$(vt,pt,""+ct,mt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case sa:return pt=pt.get(ct.key===null?it:ct.key)||null,ct.type===ua?ot(vt,pt,ct.props.children,mt,ct.key):tt(vt,pt,ct,mt);case ta:return pt=pt.get(ct.key===null?it:ct.key)||null,nt(vt,pt,ct,mt)}if(Pg(ct)||La(ct))return pt=pt.get(it)||null,ot(vt,pt,ct,mt,null);Rg(vt,ct)}return null}function Tt(pt,vt,it,ct){for(var mt=null,Nt=null,Ot=vt,At=vt=0,Pt=null;Ot!==null&&At<it.length;At++){Ot.index>At?(Pt=Ot,Ot=null):Pt=Ot.sibling;var St=ut(pt,Ot,it[At],ct);if(St===null){Ot===null&&(Ot=Pt);break}a&&Ot&&St.alternate===null&&s(pt,Ot),vt=_(St,vt,At),Nt===null?mt=St:Nt.sibling=St,Nt=St,Ot=Pt}if(At===it.length)return d(pt,Ot),mt;if(Ot===null){for(;At<it.length;At++)Ot=dt(pt,it[At],ct),Ot!==null&&(vt=_(Ot,vt,At),Nt===null?mt=Ot:Nt.sibling=Ot,Nt=Ot);return mt}for(Ot=c(pt,Ot);At<it.length;At++)Pt=lt(Ot,pt,At,it[At],ct),Pt!==null&&(a&&Pt.alternate!==null&&Ot.delete(Pt.key===null?At:Pt.key),vt=_(Pt,vt,At),Nt===null?mt=Pt:Nt.sibling=Pt,Nt=Pt);return a&&Ot.forEach(function(Ct){return s(pt,Ct)}),mt}function yt(pt,vt,it,ct){var mt=La(it);if(typeof mt!="function")throw Error(y(150));if(it=mt.call(it),it==null)throw Error(y(151));for(var Nt=mt=null,Ot=vt,At=vt=0,Pt=null,St=it.next();Ot!==null&&!St.done;At++,St=it.next()){Ot.index>At?(Pt=Ot,Ot=null):Pt=Ot.sibling;var Ct=ut(pt,Ot,St.value,ct);if(Ct===null){Ot===null&&(Ot=Pt);break}a&&Ot&&Ct.alternate===null&&s(pt,Ot),vt=_(Ct,vt,At),Nt===null?mt=Ct:Nt.sibling=Ct,Nt=Ct,Ot=Pt}if(St.done)return d(pt,Ot),mt;if(Ot===null){for(;!St.done;At++,St=it.next())St=dt(pt,St.value,ct),St!==null&&(vt=_(St,vt,At),Nt===null?mt=St:Nt.sibling=St,Nt=St);return mt}for(Ot=c(pt,Ot);!St.done;At++,St=it.next())St=lt(Ot,pt,At,St.value,ct),St!==null&&(a&&St.alternate!==null&&Ot.delete(St.key===null?At:St.key),vt=_(St,vt,At),Nt===null?mt=St:Nt.sibling=St,Nt=St);return a&&Ot.forEach(function($t){return s(pt,$t)}),mt}return function(pt,vt,it,ct){var mt=typeof it=="object"&&it!==null&&it.type===ua&&it.key===null;mt&&(it=it.props.children);var Nt=typeof it=="object"&&it!==null;if(Nt)switch(it.$$typeof){case sa:e:{for(Nt=it.key,mt=vt;mt!==null;){if(mt.key===Nt){switch(mt.tag){case 7:if(it.type===ua){d(pt,mt.sibling),vt=g(mt,it.props.children),vt.return=pt,pt=vt;break e}break;default:if(mt.elementType===it.type){d(pt,mt.sibling),vt=g(mt,it.props),vt.ref=Qg(pt,mt,it),vt.return=pt,pt=vt;break e}}d(pt,mt);break}else s(pt,mt);mt=mt.sibling}it.type===ua?(vt=Xg(it.props.children,pt.mode,ct,it.key),vt.return=pt,pt=vt):(ct=Vg(it.type,it.key,it.props,null,pt.mode,ct),ct.ref=Qg(pt,vt,it),ct.return=pt,pt=ct)}return b(pt);case ta:e:{for(mt=it.key;vt!==null;){if(vt.key===mt)if(vt.tag===4&&vt.stateNode.containerInfo===it.containerInfo&&vt.stateNode.implementation===it.implementation){d(pt,vt.sibling),vt=g(vt,it.children||[]),vt.return=pt,pt=vt;break e}else{d(pt,vt);break}else s(pt,vt);vt=vt.sibling}vt=Wg(it,pt.mode,ct),vt.return=pt,pt=vt}return b(pt)}if(typeof it=="string"||typeof it=="number")return it=""+it,vt!==null&&vt.tag===6?(d(pt,vt.sibling),vt=g(vt,it),vt.return=pt,pt=vt):(d(pt,vt),vt=Ug(it,pt.mode,ct),vt.return=pt,pt=vt),b(pt);if(Pg(it))return Tt(pt,vt,it,ct);if(La(it))return yt(pt,vt,it,ct);if(Nt&&Rg(pt,it),typeof it=="undefined"&&!mt)switch(pt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(pt.type)||"Component"))}return d(pt,vt)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,s){switch(I(ch,s),I(bh,a),I(ah,$g),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mb(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=mb(s,a)}H(ah),I(ah,s)}function fh(){H(ah),H(bh),H(ch)}function gh(a){dh(ch.current);var s=dh(ah.current),d=mb(s,a.type);s!==d&&(I(bh,a),I(ah,d))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);function ih(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&64)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jh=null,kh=null,lh=!1;function mh(a,s){var d=nh(5,null,null,0);d.elementType="DELETED",d.type="DELETED",d.stateNode=s,d.return=a,d.flags=8,a.lastEffect!==null?(a.lastEffect.nextEffect=d,a.lastEffect=d):a.firstEffect=a.lastEffect=d}function oh(a,s){switch(a.tag){case 5:var d=a.type;return s=s.nodeType!==1||d.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,!0):!1;case 13:return!1;default:return!1}}function ph(a){if(lh){var s=kh;if(s){var d=s;if(!oh(a,s)){if(s=rf(d.nextSibling),!s||!oh(a,s)){a.flags=a.flags&-1025|2,lh=!1,jh=a;return}mh(jh,d)}jh=a,kh=rf(s.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;jh=a}function rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var s=a.type;if(a.tag!==5||s!=="head"&&s!=="body"&&!nf(s,a.memoizedProps))for(s=kh;s;)mh(a,s),s=rf(s.nextSibling);if(qh(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(y(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(s===0){kh=rf(a.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321))}function Bh(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!He(a[d],s[d]))return!1;return!0}function Ch(a,s,d,c,g,_){if(xh=_,R=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,vh.current=a===null||a.memoizedState===null?Dh:Eh,a=d(c,g),zh){_=0;do{if(zh=!1,!(25>_))throw Error(y(301));_+=1,T=S=null,s.updateQueue=null,vh.current=Fh,a=d(c,g)}while(zh)}if(vh.current=Gh,s=S!==null&&S.next!==null,xh=0,T=S=R=null,yh=!1,s)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T===null?R.memoizedState=T=a:T=T.next=a,T}function Ih(){if(S===null){var a=R.alternate;a=a!==null?a.memoizedState:null}else a=S.next;var s=T===null?R.memoizedState:T.next;if(s!==null)T=s,S=a;else{if(a===null)throw Error(y(310));S=a,a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},T===null?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,s){return typeof s=="function"?s(a):s}function Kh(a){var s=Ih(),d=s.queue;if(d===null)throw Error(y(311));d.lastRenderedReducer=a;var c=S,g=c.baseQueue,_=d.pending;if(_!==null){if(g!==null){var b=g.next;g.next=_.next,_.next=b}c.baseQueue=g=_,d.pending=null}if(g!==null){g=g.next,c=c.baseState;var $=b=_=null,tt=g;do{var nt=tt.lane;if((xh&nt)===nt)$!==null&&($=$.next={lane:0,action:tt.action,eagerReducer:tt.eagerReducer,eagerState:tt.eagerState,next:null}),c=tt.eagerReducer===a?tt.eagerState:a(c,tt.action);else{var ot={lane:nt,action:tt.action,eagerReducer:tt.eagerReducer,eagerState:tt.eagerState,next:null};$===null?(b=$=ot,_=c):$=$.next=ot,R.lanes|=nt,Dg|=nt}tt=tt.next}while(tt!==null&&tt!==g);$===null?_=c:$.next=b,He(c,s.memoizedState)||(ug=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=$,d.lastRenderedState=c}return[s.memoizedState,d.dispatch]}function Lh(a){var s=Ih(),d=s.queue;if(d===null)throw Error(y(311));d.lastRenderedReducer=a;var c=d.dispatch,g=d.pending,_=s.memoizedState;if(g!==null){d.pending=null;var b=g=g.next;do _=a(_,b.action),b=b.next;while(b!==g);He(_,s.memoizedState)||(ug=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),d.lastRenderedState=_}return[_,c]}function Mh(a,s,d){var c=s._getVersion;c=c(s._source);var g=s._workInProgressVersionPrimary;if(g!==null?a=g===c:(a=a.mutableReadLanes,(a=(xh&a)===a)&&(s._workInProgressVersionPrimary=c,th.push(s))),a)return d(s._source);throw th.push(s),Error(y(350))}function Nh(a,s,d,c){var g=U;if(g===null)throw Error(y(349));var _=s._getVersion,b=_(s._source),$=vh.current,tt=$.useState(function(){return Mh(g,s,d)}),nt=tt[1],ot=tt[0];tt=T;var dt=a.memoizedState,ut=dt.refs,lt=ut.getSnapshot,Tt=dt.source;dt=dt.subscribe;var yt=R;return a.memoizedState={refs:ut,source:s,subscribe:c},$.useEffect(function(){ut.getSnapshot=d,ut.setSnapshot=nt;var pt=_(s._source);if(!He(b,pt)){pt=d(s._source),He(ot,pt)||(nt(pt),pt=Ig(yt),g.mutableReadLanes|=pt&g.pendingLanes),pt=g.mutableReadLanes,g.entangledLanes|=pt;for(var vt=g.entanglements,it=pt;0<it;){var ct=31-Vc(it),mt=1<<ct;vt[ct]|=pt,it&=~mt}}},[d,s,c]),$.useEffect(function(){return c(s._source,function(){var pt=ut.getSnapshot,vt=ut.setSnapshot;try{vt(pt(s._source));var it=Ig(yt);g.mutableReadLanes|=it&g.pendingLanes}catch(ct){vt(function(){throw ct})}})},[s,c]),He(lt,d)&&He(Tt,s)&&He(dt,c)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:ot},a.dispatch=nt=Oh.bind(null,R,a),tt.queue=a,tt.baseQueue=null,ot=Mh(g,s,d),tt.memoizedState=tt.baseState=ot),ot}function Ph(a,s,d){var c=Ih();return Nh(c,a,s,d)}function Qh(a){var s=Hh();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a=s.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a},a=a.dispatch=Oh.bind(null,R,a),[s.memoizedState,a]}function Rh(a,s,d,c){return a={tag:a,create:s,destroy:d,deps:c,next:null},s=R.updateQueue,s===null?(s={lastEffect:null},R.updateQueue=s,s.lastEffect=a.next=a):(d=s.lastEffect,d===null?s.lastEffect=a.next=a:(c=d.next,d.next=a,a.next=c,s.lastEffect=a)),a}function Sh(a){var s=Hh();return a={current:a},s.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,s,d,c){var g=Hh();R.flags|=a,g.memoizedState=Rh(1|s,d,void 0,c===void 0?null:c)}function Vh(a,s,d,c){var g=Ih();c=c===void 0?null:c;var _=void 0;if(S!==null){var b=S.memoizedState;if(_=b.destroy,c!==null&&Bh(c,b.deps)){Rh(s,d,_,c);return}}R.flags|=a,g.memoizedState=Rh(1|s,d,_,c)}function Wh(a,s){return Uh(516,4,a,s)}function Xh(a,s){return Vh(516,4,a,s)}function Yh(a,s){return Vh(4,2,a,s)}function Zh(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function $h(a,s,d){return d=d!=null?d.concat([a]):null,Vh(4,2,Zh.bind(null,s,a),d)}function ai(){}function bi(a,s){var d=Ih();s=s===void 0?null:s;var c=d.memoizedState;return c!==null&&s!==null&&Bh(s,c[1])?c[0]:(d.memoizedState=[a,s],a)}function ci(a,s){var d=Ih();s=s===void 0?null:s;var c=d.memoizedState;return c!==null&&s!==null&&Bh(s,c[1])?c[0]:(a=a(),d.memoizedState=[a,s],a)}function di(a,s){var d=eg();gg(98>d?98:d,function(){a(!0)}),gg(97<d?97:d,function(){var c=wh.transition;wh.transition=1;try{a(!1),s()}finally{wh.transition=c}})}function Oh(a,s,d){var c=Hg(),g=Ig(a),_={lane:g,action:d,eagerReducer:null,eagerState:null,next:null},b=s.pending;if(b===null?_.next=_:(_.next=b.next,b.next=_),s.pending=_,b=a.alternate,a===R||b!==null&&b===R)zh=yh=!0;else{if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var $=s.lastRenderedState,tt=b($,d);if(_.eagerReducer=b,_.eagerState=tt,He(tt,$))return}catch{}finally{}Jg(a,g,c)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,s){return Hh().memoizedState=[a,s===void 0?null:s],a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,s,d){return d=d!=null?d.concat([a]):null,Uh(4,2,Zh.bind(null,s,a),d)},useLayoutEffect:function(a,s){return Uh(4,2,a,s)},useMemo:function(a,s){var d=Hh();return s=s===void 0?null:s,a=a(),d.memoizedState=[a,s],a},useReducer:function(a,s,d){var c=Hh();return s=d!==void 0?d(s):s,c.memoizedState=c.baseState=s,a=c.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},a=a.dispatch=Oh.bind(null,R,a),[c.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var s=Qh(a),d=s[0],c=s[1];return Wh(function(){var g=wh.transition;wh.transition=1;try{c(a)}finally{wh.transition=g}},[a]),d},useTransition:function(){var a=Qh(!1),s=a[0];return a=di.bind(null,a[1]),Sh(a),[a,s]},useMutableSource:function(a,s,d){var c=Hh();return c.memoizedState={refs:{getSnapshot:s,setSnapshot:null},source:a,subscribe:d},Nh(c,a,s,d)},useOpaqueIdentifier:function(){if(lh){var a=!1,s=uf(function(){throw a||(a=!0,d("r:"+(tf++).toString(36))),Error(y(355))}),d=Qh(s)[1];return(R.mode&2)===0&&(R.flags|=516,Rh(5,function(){d("r:"+(tf++).toString(36))},void 0,null)),s}return s="r:"+(tf++).toString(36),Qh(s),s},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var s=Kh(Jh),d=s[0],c=s[1];return Xh(function(){var g=wh.transition;wh.transition=1;try{c(a)}finally{wh.transition=g}},[a]),d},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,a]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var s=Lh(Jh),d=s[0],c=s[1];return Xh(function(){var g=wh.transition;wh.transition=1;try{c(a)}finally{wh.transition=g}},[a]),d},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,a]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,s,d,c){s.child=a===null?Zg(s,null,d,c):Yg(s,a.child,d,c)}function gi(a,s,d,c,g){d=d.render;var _=s.ref;return tg(s,g),c=Ch(a,s,d,c,_,g),a!==null&&!ug?(s.updateQueue=a.updateQueue,s.flags&=-517,a.lanes&=~g,hi(a,s,g)):(s.flags|=1,fi(a,s,c,g),s.child)}function ii(a,s,d,c,g,_){if(a===null){var b=d.type;return typeof b=="function"&&!ji(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(s.tag=15,s.type=b,ki(a,s,b,c,g,_)):(a=Vg(d.type,null,c,s,s.mode,_),a.ref=s.ref,a.return=s,s.child=a)}return b=a.child,(g&_)===0&&(g=b.memoizedProps,d=d.compare,d=d!==null?d:Je,d(g,c)&&a.ref===s.ref)?hi(a,s,_):(s.flags|=1,a=Tg(b,c),a.ref=s.ref,a.return=s,s.child=a)}function ki(a,s,d,c,g,_){if(a!==null&&Je(a.memoizedProps,c)&&a.ref===s.ref)if(ug=!1,(_&g)!==0)(a.flags&16384)!==0&&(ug=!0);else return s.lanes=a.lanes,hi(a,s,_);return li(a,s,d,c,_)}function mi(a,s,d){var c=s.pendingProps,g=c.children,_=a!==null?a.memoizedState:null;if(c.mode==="hidden"||c.mode==="unstable-defer-without-hiding")if((s.mode&4)===0)s.memoizedState={baseLanes:0},ni(s,d);else if((d&1073741824)!==0)s.memoizedState={baseLanes:0},ni(s,_!==null?_.baseLanes:d);else return a=_!==null?_.baseLanes|d:d,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a},ni(s,a),null;else _!==null?(c=_.baseLanes|d,s.memoizedState=null):c=d,ni(s,c);return fi(a,s,g,d),s.child}function oi(a,s){var d=s.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(s.flags|=128)}function li(a,s,d,c,g){var _=Ff(d)?Df:M.current;return _=Ef(s,_),tg(s,g),d=Ch(a,s,d,c,_,g),a!==null&&!ug?(s.updateQueue=a.updateQueue,s.flags&=-517,a.lanes&=~g,hi(a,s,g)):(s.flags|=1,fi(a,s,d,g),s.child)}function pi(a,s,d,c,g){if(Ff(d)){var _=!0;Jf(s)}else _=!1;if(tg(s,g),s.stateNode===null)a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2),Mg(s,d,c),Og(s,d,c,g),c=!0;else if(a===null){var b=s.stateNode,$=s.memoizedProps;b.props=$;var tt=b.context,nt=d.contextType;typeof nt=="object"&&nt!==null?nt=vg(nt):(nt=Ff(d)?Df:M.current,nt=Ef(s,nt));var ot=d.getDerivedStateFromProps,dt=typeof ot=="function"||typeof b.getSnapshotBeforeUpdate=="function";dt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==c||tt!==nt)&&Ng(s,b,c,nt),wg=!1;var ut=s.memoizedState;b.state=ut,Cg(s,c,b,g),tt=s.memoizedState,$!==c||ut!==tt||N.current||wg?(typeof ot=="function"&&(Gg(s,d,ot,c),tt=s.memoizedState),($=wg||Lg(s,d,$,c,ut,tt,nt))?(dt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4)):(typeof b.componentDidMount=="function"&&(s.flags|=4),s.memoizedProps=c,s.memoizedState=tt),b.props=c,b.state=tt,b.context=nt,c=$):(typeof b.componentDidMount=="function"&&(s.flags|=4),c=!1)}else{b=s.stateNode,yg(a,s),$=s.memoizedProps,nt=s.type===s.elementType?$:lg(s.type,$),b.props=nt,dt=s.pendingProps,ut=b.context,tt=d.contextType,typeof tt=="object"&&tt!==null?tt=vg(tt):(tt=Ff(d)?Df:M.current,tt=Ef(s,tt));var lt=d.getDerivedStateFromProps;(ot=typeof lt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($!==dt||ut!==tt)&&Ng(s,b,c,tt),wg=!1,ut=s.memoizedState,b.state=ut,Cg(s,c,b,g);var Tt=s.memoizedState;$!==dt||ut!==Tt||N.current||wg?(typeof lt=="function"&&(Gg(s,d,lt,c),Tt=s.memoizedState),(nt=wg||Lg(s,d,nt,c,ut,Tt,tt))?(ot||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Tt,tt),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Tt,tt)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=256)):(typeof b.componentDidUpdate!="function"||$===a.memoizedProps&&ut===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&ut===a.memoizedState||(s.flags|=256),s.memoizedProps=c,s.memoizedState=Tt),b.props=c,b.state=Tt,b.context=tt,c=nt):(typeof b.componentDidUpdate!="function"||$===a.memoizedProps&&ut===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&ut===a.memoizedState||(s.flags|=256),c=!1)}return qi(a,s,d,c,_,g)}function qi(a,s,d,c,g,_){oi(a,s);var b=(s.flags&64)!==0;if(!c&&!b)return g&&Kf(s,d,!1),hi(a,s,_);c=s.stateNode,ei.current=s;var $=b&&typeof d.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,a!==null&&b?(s.child=Yg(s,a.child,null,_),s.child=Yg(s,null,$,_)):fi(a,s,$,_),s.memoizedState=c.state,g&&Kf(s,d,!0),s.child}function ri(a){var s=a.stateNode;s.pendingContext?Hf(a,s.pendingContext,s.pendingContext!==s.context):s.context&&Hf(a,s.context,!1),eh(a,s.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(a,s,d){var c=s.pendingProps,g=P.current,_=!1,b;return(b=(s.flags&64)!==0)||(b=a!==null&&a.memoizedState===null?!1:(g&2)!==0),b?(_=!0,s.flags&=-65):a!==null&&a.memoizedState===null||c.fallback===void 0||c.unstable_avoidThisFallback===!0||(g|=1),I(P,g&1),a===null?(c.fallback!==void 0&&ph(s),a=c.children,g=c.fallback,_?(a=ui(s,a,g,d),s.child.memoizedState={baseLanes:d},s.memoizedState=si,a):typeof c.unstable_expectedLoadTime=="number"?(a=ui(s,a,g,d),s.child.memoizedState={baseLanes:d},s.memoizedState=si,s.lanes=33554432,a):(d=vi({mode:"visible",children:a},s.mode,d,null),d.return=s,s.child=d)):a.memoizedState!==null?_?(c=wi(a,s,c.children,c.fallback,d),_=s.child,g=a.child.memoizedState,_.memoizedState=g===null?{baseLanes:d}:{baseLanes:g.baseLanes|d},_.childLanes=a.childLanes&~d,s.memoizedState=si,c):(d=xi(a,s,c.children,d),s.memoizedState=null,d):_?(c=wi(a,s,c.children,c.fallback,d),_=s.child,g=a.child.memoizedState,_.memoizedState=g===null?{baseLanes:d}:{baseLanes:g.baseLanes|d},_.childLanes=a.childLanes&~d,s.memoizedState=si,c):(d=xi(a,s,c.children,d),s.memoizedState=null,d)}function ui(a,s,d,c){var g=a.mode,_=a.child;return s={mode:"hidden",children:s},(g&2)===0&&_!==null?(_.childLanes=0,_.pendingProps=s):_=vi(s,g,0,null),d=Xg(d,g,c,null),_.return=a,d.return=a,_.sibling=d,a.child=_,d}function xi(a,s,d,c){var g=a.child;return a=g.sibling,d=Tg(g,{mode:"visible",children:d}),(s.mode&2)===0&&(d.lanes=c),d.return=s,d.sibling=null,a!==null&&(a.nextEffect=null,a.flags=8,s.firstEffect=s.lastEffect=a),s.child=d}function wi(a,s,d,c,g){var _=s.mode,b=a.child;a=b.sibling;var $={mode:"hidden",children:d};return(_&2)===0&&s.child!==b?(d=s.child,d.childLanes=0,d.pendingProps=$,b=d.lastEffect,b!==null?(s.firstEffect=d.firstEffect,s.lastEffect=b,b.nextEffect=null):s.firstEffect=s.lastEffect=null):d=Tg(b,$),a!==null?c=Tg(a,c):(c=Xg(c,_,g,null),c.flags|=2),c.return=s,d.return=s,d.sibling=c,s.child=d,c}function yi(a,s){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),sg(a.return,s)}function zi(a,s,d,c,g,_){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:d,tailMode:g,lastEffect:_}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=d,b.tailMode=g,b.lastEffect=_)}function Ai(a,s,d){var c=s.pendingProps,g=c.revealOrder,_=c.tail;if(fi(a,s,c.children,d),c=P.current,(c&2)!==0)c=c&1|2,s.flags|=64;else{if(a!==null&&(a.flags&64)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yi(a,d);else if(a.tag===19)yi(a,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}if(I(P,c),(s.mode&2)===0)s.memoizedState=null;else switch(g){case"forwards":for(d=s.child,g=null;d!==null;)a=d.alternate,a!==null&&ih(a)===null&&(g=d),d=d.sibling;d=g,d===null?(g=s.child,s.child=null):(g=d.sibling,d.sibling=null),zi(s,!1,g,d,_,s.lastEffect);break;case"backwards":for(d=null,g=s.child,s.child=null;g!==null;){if(a=g.alternate,a!==null&&ih(a)===null){s.child=g;break}a=g.sibling,g.sibling=d,d=g,g=a}zi(s,!0,d,null,_,s.lastEffect);break;case"together":zi(s,!1,null,null,void 0,s.lastEffect);break;default:s.memoizedState=null}return s.child}function hi(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Dg|=s.lanes,(d&s.childLanes)!==0){if(a!==null&&s.child!==a.child)throw Error(y(153));if(s.child!==null){for(a=s.child,d=Tg(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=Tg(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}return null}var Bi,Ci,Di,Ei;Bi=function(a,s){for(var d=s.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return}d.sibling.return=d.return,d=d.sibling}};Ci=function(){};Di=function(a,s,d,c){var g=a.memoizedProps;if(g!==c){a=s.stateNode,dh(ah.current);var _=null;switch(d){case"input":g=Ya(a,g),c=Ya(a,c),_=[];break;case"option":g=eb(a,g),c=eb(a,c),_=[];break;case"select":g=m({},g,{value:void 0}),c=m({},c,{value:void 0}),_=[];break;case"textarea":g=gb(a,g),c=gb(a,c),_=[];break;default:typeof g.onClick!="function"&&typeof c.onClick=="function"&&(a.onclick=jf)}vb(d,c);var b;d=null;for(nt in g)if(!c.hasOwnProperty(nt)&&g.hasOwnProperty(nt)&&g[nt]!=null)if(nt==="style"){var $=g[nt];for(b in $)$.hasOwnProperty(b)&&(d||(d={}),d[b]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ca.hasOwnProperty(nt)?_||(_=[]):(_=_||[]).push(nt,null));for(nt in c){var tt=c[nt];if($=g!=null?g[nt]:void 0,c.hasOwnProperty(nt)&&tt!==$&&(tt!=null||$!=null))if(nt==="style")if($){for(b in $)!$.hasOwnProperty(b)||tt&&tt.hasOwnProperty(b)||(d||(d={}),d[b]="");for(b in tt)tt.hasOwnProperty(b)&&$[b]!==tt[b]&&(d||(d={}),d[b]=tt[b])}else d||(_||(_=[]),_.push(nt,d)),d=tt;else nt==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,$=$?$.__html:void 0,tt!=null&&$!==tt&&(_=_||[]).push(nt,tt)):nt==="children"?typeof tt!="string"&&typeof tt!="number"||(_=_||[]).push(nt,""+tt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ca.hasOwnProperty(nt)?(tt!=null&&nt==="onScroll"&&G("scroll",a),_||$===tt||(_=[])):typeof tt=="object"&&tt!==null&&tt.$$typeof===Ga?tt.toString():(_=_||[]).push(nt,tt))}d&&(_=_||[]).push("style",d);var nt=_;(s.updateQueue=nt)&&(s.flags|=4)}};Ei=function(a,s,d,c){d!==c&&(s.flags|=4)};function Fi(a,s){if(!lh)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var c=null;d!==null;)d.alternate!==null&&(c=d),d=d.sibling;c===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function Gi(a,s,d){var c=s.pendingProps;switch(s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(s.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),c=s.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(rh(s)?s.flags|=4:c.hydrate||(s.flags|=256)),Ci(s),null;case 5:hh(s);var g=dh(ch.current);if(d=s.type,a!==null&&s.stateNode!=null)Di(a,s,d,c,g),a.ref!==s.ref&&(s.flags|=128);else{if(!c){if(s.stateNode===null)throw Error(y(166));return null}if(a=dh(ah.current),rh(s)){c=s.stateNode,d=s.type;var _=s.memoizedProps;switch(c[wf]=s,c[xf]=_,d){case"dialog":G("cancel",c),G("close",c);break;case"iframe":case"object":case"embed":G("load",c);break;case"video":case"audio":for(a=0;a<Xe.length;a++)G(Xe[a],c);break;case"source":G("error",c);break;case"img":case"image":case"link":G("error",c),G("load",c);break;case"details":G("toggle",c);break;case"input":Za(c,_),G("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!_.multiple},G("invalid",c);break;case"textarea":hb(c,_),G("invalid",c)}vb(d,_),a=null;for(var b in _)_.hasOwnProperty(b)&&(g=_[b],b==="children"?typeof g=="string"?c.textContent!==g&&(a=["children",g]):typeof g=="number"&&c.textContent!==""+g&&(a=["children",""+g]):ca.hasOwnProperty(b)&&g!=null&&b==="onScroll"&&G("scroll",c));switch(d){case"input":Va(c),cb(c,_,!0);break;case"textarea":Va(c),jb(c);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(c.onclick=jf)}c=a,s.updateQueue=c,c!==null&&(s.flags|=4)}else{switch(b=g.nodeType===9?g:g.ownerDocument,a===kb.html&&(a=lb(d)),a===kb.html?d==="script"?(a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof c.is=="string"?a=b.createElement(d,{is:c.is}):(a=b.createElement(d),d==="select"&&(b=a,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):a=b.createElementNS(a,d),a[wf]=s,a[xf]=c,Bi(a,s,!1,!1),s.stateNode=a,b=wb(d,c),d){case"dialog":G("cancel",a),G("close",a),g=c;break;case"iframe":case"object":case"embed":G("load",a),g=c;break;case"video":case"audio":for(g=0;g<Xe.length;g++)G(Xe[g],a);g=c;break;case"source":G("error",a),g=c;break;case"img":case"image":case"link":G("error",a),G("load",a),g=c;break;case"details":G("toggle",a),g=c;break;case"input":Za(a,c),g=Ya(a,c),G("invalid",a);break;case"option":g=eb(a,c);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},g=m({},c,{value:void 0}),G("invalid",a);break;case"textarea":hb(a,c),g=gb(a,c),G("invalid",a);break;default:g=c}vb(d,g);var $=g;for(_ in $)if($.hasOwnProperty(_)){var tt=$[_];_==="style"?tb(a,tt):_==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,tt!=null&&ob(a,tt)):_==="children"?typeof tt=="string"?(d!=="textarea"||tt!=="")&&pb(a,tt):typeof tt=="number"&&pb(a,""+tt):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ca.hasOwnProperty(_)?tt!=null&&_==="onScroll"&&G("scroll",a):tt!=null&&qa(a,_,tt,b))}switch(d){case"input":Va(a),cb(a,c,!1);break;case"textarea":Va(a),jb(a);break;case"option":c.value!=null&&a.setAttribute("value",""+Sa(c.value));break;case"select":a.multiple=!!c.multiple,_=c.value,_!=null?fb(a,!!c.multiple,_,!1):c.defaultValue!=null&&fb(a,!!c.multiple,c.defaultValue,!0);break;default:typeof g.onClick=="function"&&(a.onclick=jf)}mf(d,c)&&(s.flags|=4)}s.ref!==null&&(s.flags|=128)}return null;case 6:if(a&&s.stateNode!=null)Ei(a,s,a.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(y(166));d=dh(ch.current),dh(ah.current),rh(s)?(c=s.stateNode,d=s.memoizedProps,c[wf]=s,c.nodeValue!==d&&(s.flags|=4)):(c=(d.nodeType===9?d:d.ownerDocument).createTextNode(c),c[wf]=s,s.stateNode=c)}return null;case 13:return H(P),c=s.memoizedState,(s.flags&64)!==0?(s.lanes=d,s):(c=c!==null,d=!1,a===null?s.memoizedProps.fallback!==void 0&&rh(s):d=a.memoizedState!==null,c&&!d&&(s.mode&2)!==0&&(a===null&&s.memoizedProps.unstable_avoidThisFallback!==!0||(P.current&1)!==0?V===0&&(V=3):((V===0||V===3)&&(V=4),U===null||(Dg&134217727)===0&&(Hi&134217727)===0||Ii(U,W))),(c||d)&&(s.flags|=4),null);case 4:return fh(),Ci(s),a===null&&cf(s.stateNode.containerInfo),null;case 10:return rg(s),null;case 17:return Ff(s.type)&&Gf(),null;case 19:if(H(P),c=s.memoizedState,c===null)return null;if(_=(s.flags&64)!==0,b=c.rendering,b===null)if(_)Fi(c,!1);else{if(V!==0||a!==null&&(a.flags&64)!==0)for(a=s.child;a!==null;){if(b=ih(a),b!==null){for(s.flags|=64,Fi(c,!1),_=b.updateQueue,_!==null&&(s.updateQueue=_,s.flags|=4),c.lastEffect===null&&(s.firstEffect=null),s.lastEffect=c.lastEffect,c=d,d=s.child;d!==null;)_=d,a=c,_.flags&=2,_.nextEffect=null,_.firstEffect=null,_.lastEffect=null,b=_.alternate,b===null?(_.childLanes=0,_.lanes=a,_.child=null,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=b.childLanes,_.lanes=b.lanes,_.child=b.child,_.memoizedProps=b.memoizedProps,_.memoizedState=b.memoizedState,_.updateQueue=b.updateQueue,_.type=b.type,a=b.dependencies,_.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return I(P,P.current&1|2),s.child}a=a.sibling}c.tail!==null&&O()>Ji&&(s.flags|=64,_=!0,Fi(c,!1),s.lanes=33554432)}else{if(!_)if(a=ih(b),a!==null){if(s.flags|=64,_=!0,d=a.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),Fi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!lh)return s=s.lastEffect=c.lastEffect,s!==null&&(s.nextEffect=null),null}else 2*O()-c.renderingStartTime>Ji&&d!==1073741824&&(s.flags|=64,_=!0,Fi(c,!1),s.lanes=33554432);c.isBackwards?(b.sibling=s.child,s.child=b):(d=c.last,d!==null?d.sibling=b:s.child=b,c.last=b)}return c.tail!==null?(d=c.tail,c.rendering=d,c.tail=d.sibling,c.lastEffect=s.lastEffect,c.renderingStartTime=O(),d.sibling=null,s=P.current,I(P,_?s&1|2:s&1),d):null;case 23:case 24:return Ki(),a!==null&&a.memoizedState!==null!=(s.memoizedState!==null)&&c.mode!=="unstable-defer-without-hiding"&&(s.flags|=4),null}throw Error(y(156,s.tag))}function Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var s=a.flags;return s&4096?(a.flags=s&-4097|64,a):null;case 3:if(fh(),H(N),H(M),uh(),s=a.flags,(s&64)!==0)throw Error(y(285));return a.flags=s&-4097|64,a;case 5:return hh(a),null;case 13:return H(P),s=a.flags,s&4096?(a.flags=s&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(a,s){try{var d="",c=s;do d+=Qa(c),c=c.return;while(c);var g=d}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:s,stack:g}}function Ni(a,s){try{console.error(s.value)}catch(d){setTimeout(function(){throw d})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(a,s,d){d=zg(-1,d),d.tag=3,d.payload={element:null};var c=s.value;return d.callback=function(){Qi||(Qi=!0,Ri=c),Ni(a,s)},d}function Si(a,s,d){d=zg(-1,d),d.tag=3;var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var g=s.value;d.payload=function(){return Ni(a,s),c(g)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){typeof c!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(a,s));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),d}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(a){var s=a.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){Wi(a,d)}else s.current=null}function Xi(a,s){switch(s.tag){case 0:case 11:case 15:case 22:return;case 1:if(s.flags&256&&a!==null){var d=a.memoizedProps,c=a.memoizedState;a=s.stateNode,s=a.getSnapshotBeforeUpdate(s.elementType===s.type?d:lg(s.type,d),c),a.__reactInternalSnapshotBeforeUpdate=s}return;case 3:s.flags&256&&qf(s.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163))}function Yi(a,s,d){switch(d.tag){case 0:case 11:case 15:case 22:if(s=d.updateQueue,s=s!==null?s.lastEffect:null,s!==null){a=s=s.next;do{if((a.tag&3)===3){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}if(s=d.updateQueue,s=s!==null?s.lastEffect:null,s!==null){a=s=s.next;do{var g=a;c=g.next,g=g.tag,(g&4)!==0&&(g&1)!==0&&(Zi(d,a),$i(d,a)),a=c}while(a!==s)}return;case 1:a=d.stateNode,d.flags&4&&(s===null?a.componentDidMount():(c=d.elementType===d.type?s.memoizedProps:lg(d.type,s.memoizedProps),a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),s=d.updateQueue,s!==null&&Eg(d,s,a);return;case 3:if(s=d.updateQueue,s!==null){if(a=null,d.child!==null)switch(d.child.tag){case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}Eg(d,s,a)}return;case 5:a=d.stateNode,s===null&&d.flags&4&&mf(d.type,d.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:d.memoizedState===null&&(d=d.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&Cc(d))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163))}function aj(a,s){for(var d=a;;){if(d.tag===5){var c=d.stateNode;if(s)c=c.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{c=d.stateNode;var g=d.memoizedProps.style;g=g!=null&&g.hasOwnProperty("display")?g.display:null,c.style.display=sb("display",g)}}else if(d.tag===6)d.stateNode.nodeValue=s?"":d.memoizedProps;else if((d.tag!==23&&d.tag!==24||d.memoizedState===null||d===a)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}}function bj(a,s){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,s)}catch{}switch(s.tag){case 0:case 11:case 14:case 15:case 22:if(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null)){var d=a=a.next;do{var c=d,g=c.destroy;if(c=c.tag,g!==void 0)if((c&4)!==0)Zi(s,d);else{c=s;try{g()}catch(_){Wi(c,_)}}d=d.next}while(d!==a)}break;case 1:if(Vi(s),a=s.stateNode,typeof a.componentWillUnmount=="function")try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){Wi(s,_)}break;case 5:Vi(s);break;case 4:cj(a,s)}}function dj(a){a.alternate=null,a.child=null,a.dependencies=null,a.firstEffect=null,a.lastEffect=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.return=null,a.updateQueue=null}function ej(a){return a.tag===5||a.tag===3||a.tag===4}function fj(a){e:{for(var s=a.return;s!==null;){if(ej(s))break e;s=s.return}throw Error(y(160))}var d=s;switch(s=d.stateNode,d.tag){case 5:var c=!1;break;case 3:s=s.containerInfo,c=!0;break;case 4:s=s.containerInfo,c=!0;break;default:throw Error(y(161))}d.flags&16&&(pb(s,""),d.flags&=-17);e:t:for(d=a;;){for(;d.sibling===null;){if(d.return===null||ej(d.return)){d=null;break e}d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue t;d.child.return=d,d=d.child}if(!(d.flags&2)){d=d.stateNode;break e}}c?gj(a,d,s):hj(a,d,s)}function gj(a,s,d){var c=a.tag,g=c===5||c===6;if(g)a=g?a.stateNode:a.stateNode.instance,s?d.nodeType===8?d.parentNode.insertBefore(a,s):d.insertBefore(a,s):(d.nodeType===8?(s=d.parentNode,s.insertBefore(a,d)):(s=d,s.appendChild(a)),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=jf));else if(c!==4&&(a=a.child,a!==null))for(gj(a,s,d),a=a.sibling;a!==null;)gj(a,s,d),a=a.sibling}function hj(a,s,d){var c=a.tag,g=c===5||c===6;if(g)a=g?a.stateNode:a.stateNode.instance,s?d.insertBefore(a,s):d.appendChild(a);else if(c!==4&&(a=a.child,a!==null))for(hj(a,s,d),a=a.sibling;a!==null;)hj(a,s,d),a=a.sibling}function cj(a,s){for(var d=s,c=!1,g,_;;){if(!c){c=d.return;e:for(;;){if(c===null)throw Error(y(160));switch(g=c.stateNode,c.tag){case 5:_=!1;break e;case 3:g=g.containerInfo,_=!0;break e;case 4:g=g.containerInfo,_=!0;break e}c=c.return}c=!0}if(d.tag===5||d.tag===6){e:for(var b=a,$=d,tt=$;;)if(bj(b,tt),tt.child!==null&&tt.tag!==4)tt.child.return=tt,tt=tt.child;else{if(tt===$)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===$)break e;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}_?(b=g,$=d.stateNode,b.nodeType===8?b.parentNode.removeChild($):b.removeChild($)):g.removeChild(d.stateNode)}else if(d.tag===4){if(d.child!==null){g=d.stateNode.containerInfo,_=!0,d.child.return=d,d=d.child;continue}}else if(bj(a,d),d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return,d.tag===4&&(c=!1)}d.sibling.return=d.return,d=d.sibling}}function ij(a,s){switch(s.tag){case 0:case 11:case 14:case 15:case 22:var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var c=d=d.next;do(c.tag&3)===3&&(a=c.destroy,c.destroy=void 0,a!==void 0&&a()),c=c.next;while(c!==d)}return;case 1:return;case 5:if(d=s.stateNode,d!=null){c=s.memoizedProps;var g=a!==null?a.memoizedProps:c;a=s.type;var _=s.updateQueue;if(s.updateQueue=null,_!==null){for(d[xf]=c,a==="input"&&c.type==="radio"&&c.name!=null&&$a(d,c),wb(a,g),s=wb(a,c),g=0;g<_.length;g+=2){var b=_[g],$=_[g+1];b==="style"?tb(d,$):b==="dangerouslySetInnerHTML"?ob(d,$):b==="children"?pb(d,$):qa(d,b,$,s)}switch(a){case"input":ab(d,c);break;case"textarea":ib(d,c);break;case"select":a=d._wrapperState.wasMultiple,d._wrapperState.wasMultiple=!!c.multiple,_=c.value,_!=null?fb(d,!!c.multiple,_,!1):a!==!!c.multiple&&(c.defaultValue!=null?fb(d,!!c.multiple,c.defaultValue,!0):fb(d,!!c.multiple,c.multiple?[]:"",!1))}}}return;case 6:if(s.stateNode===null)throw Error(y(162));s.stateNode.nodeValue=s.memoizedProps;return;case 3:d=s.stateNode,d.hydrate&&(d.hydrate=!1,Cc(d.containerInfo));return;case 12:return;case 13:s.memoizedState!==null&&(jj=O(),aj(s.child,!0)),kj(s);return;case 19:kj(s);return;case 17:return;case 23:case 24:aj(s,s.memoizedState!==null);return}throw Error(y(163))}function kj(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new Ui),s.forEach(function(c){var g=lj.bind(null,a,c);d.has(c)||(d.add(c),c.then(g,g))})}}function mj(a,s){return a!==null&&(a=a.memoizedState,a===null||a.dehydrated!==null)?(s=s.memoizedState,s!==null&&s.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return(X&48)!==0?O():Fj!==-1?Fj:Fj=O()}function Ig(a){if(a=a.mode,(a&2)===0)return 1;if((a&4)===0)return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),a=Gj;var s=4186112&~Hj;return s&=-s,s===0&&(a=4186112&~a,s=a&-a,s===0&&(s=8192)),s}return a=eg(),(X&4)!==0&&a===98?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj)),a}function Jg(a,s,d){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));if(a=Kj(a,s),a===null)return null;$c(a,s,d),a===U&&(Hi|=s,V===4&&Ii(a,W));var c=eg();s===1?(X&8)!==0&&(X&48)===0?Lj(a):(Mj(a,d),X===0&&(wj(),ig())):((X&4)===0||c!==98&&c!==99||(Cj===null?Cj=new Set([a]):Cj.add(a)),Mj(a,d)),vj=a}function Kj(a,s){a.lanes|=s;var d=a.alternate;for(d!==null&&(d.lanes|=s),d=a,a=a.return;a!==null;)a.childLanes|=s,d=a.alternate,d!==null&&(d.childLanes|=s),d=a,a=a.return;return d.tag===3?d.stateNode:null}function Mj(a,s){for(var d=a.callbackNode,c=a.suspendedLanes,g=a.pingedLanes,_=a.expirationTimes,b=a.pendingLanes;0<b;){var $=31-Vc(b),tt=1<<$,nt=_[$];if(nt===-1){if((tt&c)===0||(tt&g)!==0){nt=s,Rc(tt);var ot=F;_[$]=10<=ot?nt+250:6<=ot?nt+5e3:-1}}else nt<=s&&(a.expiredLanes|=tt);b&=~tt}if(c=Uc(a,a===U?W:0),s=F,c===0)d!==null&&(d!==Zf&&Pf(d),a.callbackNode=null,a.callbackPriority=0);else{if(d!==null){if(a.callbackPriority===s)return;d!==Zf&&Pf(d)}s===15?(d=Lj.bind(null,a),ag===null?(ag=[d],bg=Of(Uf,jg)):ag.push(d),d=Zf):s===14?d=hg(99,Lj.bind(null,a)):(d=Tc(s),d=hg(d,Nj.bind(null,a))),a.callbackPriority=s,a.callbackNode=d}}function Nj(a){if(Fj=-1,Hj=Gj=0,(X&48)!==0)throw Error(y(327));var s=a.callbackNode;if(Oj()&&a.callbackNode!==s)return null;var d=Uc(a,a===U?W:0);if(d===0)return null;var c=d,g=X;X|=16;var _=Pj();(U!==a||W!==c)&&(wj(),Qj(a,c));do try{Rj();break}catch($){Sj(a,$)}while(1);if(qg(),oj.current=_,X=g,Y!==null?c=0:(U=null,W=0,c=V),(tj&Hi)!==0)Qj(a,0);else if(c!==0){if(c===2&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),d=Wc(a),d!==0&&(c=Tj(a,d))),c===1)throw s=sj,Qj(a,0),Ii(a,d),Mj(a,O()),s;switch(a.finishedWork=a.current.alternate,a.finishedLanes=d,c){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:if(Ii(a,d),(d&62914560)===d&&(c=jj+500-O(),10<c)){if(Uc(a,0)!==0)break;if(g=a.suspendedLanes,(g&d)!==d){Hg(),a.pingedLanes|=a.suspendedLanes&g;break}a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 4:if(Ii(a,d),(d&4186112)===d)break;for(c=a.eventTimes,g=-1;0<d;){var b=31-Vc(d);_=1<<b,b=c[b],b>g&&(g=b),d&=~_}if(d=g,d=O()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*nj(d/1960))-d,10<d){a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329))}}return Mj(a,O()),a.callbackNode===s?Nj.bind(null,a):null}function Ii(a,s){for(s&=~uj,s&=~Hi,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var d=31-Vc(s),c=1<<d;a[d]=-1,s&=~c}}function Lj(a){if((X&48)!==0)throw Error(y(327));if(Oj(),a===U&&(a.expiredLanes&W)!==0){var s=W,d=Tj(a,s);(tj&Hi)!==0&&(s=Uc(a,s),d=Tj(a,s))}else s=Uc(a,0),d=Tj(a,s);if(a.tag!==0&&d===2&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),s=Wc(a),s!==0&&(d=Tj(a,s))),d===1)throw d=sj,Qj(a,0),Ii(a,s),Mj(a,O()),d;return a.finishedWork=a.current.alternate,a.finishedLanes=s,Uj(a),Mj(a,O()),null}function Vj(){if(Cj!==null){var a=Cj;Cj=null,a.forEach(function(s){s.expiredLanes|=24&s.pendingLanes,Mj(s,O())})}ig()}function Wj(a,s){var d=X;X|=1;try{return a(s)}finally{X=d,X===0&&(wj(),ig())}}function Xj(a,s){var d=X;X&=-2,X|=8;try{return a(s)}finally{X=d,X===0&&(wj(),ig())}}function ni(a,s){I(rj,qj),qj|=s,tj|=s}function Ki(){qj=rj.current,H(rj)}function Qj(a,s){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,pf(d)),Y!==null)for(d=Y.return;d!==null;){var c=d;switch(c.tag){case 1:c=c.type.childContextTypes,c!=null&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh(c);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(c);break;case 23:case 24:Ki()}d=d.return}U=a,Y=Tg(a.current,null),W=qj=tj=s,V=0,sj=null,uj=Hi=Dg=0}function Sj(a,s){do{var d=Y;try{if(qg(),vh.current=Gh,yh){for(var c=R.memoizedState;c!==null;){var g=c.queue;g!==null&&(g.pending=null),c=c.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,d===null||d.return===null){V=1,sj=s,Y=null;break}e:{var _=a,b=d.return,$=d,tt=s;if(s=W,$.flags|=2048,$.firstEffect=$.lastEffect=null,tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var nt=tt;if(($.mode&2)===0){var ot=$.alternate;ot?($.updateQueue=ot.updateQueue,$.memoizedState=ot.memoizedState,$.lanes=ot.lanes):($.updateQueue=null,$.memoizedState=null)}var dt=(P.current&1)!==0,ut=b;do{var lt;if(lt=ut.tag===13){var Tt=ut.memoizedState;if(Tt!==null)lt=Tt.dehydrated!==null;else{var yt=ut.memoizedProps;lt=yt.fallback===void 0?!1:yt.unstable_avoidThisFallback!==!0?!0:!dt}}if(lt){var pt=ut.updateQueue;if(pt===null){var vt=new Set;vt.add(nt),ut.updateQueue=vt}else pt.add(nt);if((ut.mode&2)===0){if(ut.flags|=64,$.flags|=16384,$.flags&=-2981,$.tag===1)if($.alternate===null)$.tag=17;else{var it=zg(-1,1);it.tag=2,Ag($,it)}$.lanes|=1;break e}tt=void 0,$=s;var ct=_.pingCache;if(ct===null?(ct=_.pingCache=new Oi,tt=new Set,ct.set(nt,tt)):(tt=ct.get(nt),tt===void 0&&(tt=new Set,ct.set(nt,tt))),!tt.has($)){tt.add($);var mt=Yj.bind(null,_,nt,$);nt.then(mt,mt)}ut.flags|=4096,ut.lanes=s;break e}ut=ut.return}while(ut!==null);tt=Error((Ra($.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V!==5&&(V=2),tt=Mi(tt,$),ut=b;do{switch(ut.tag){case 3:_=tt,ut.flags|=4096,s&=-s,ut.lanes|=s;var Nt=Pi(ut,_,s);Bg(ut,Nt);break e;case 1:_=tt;var Ot=ut.type,At=ut.stateNode;if((ut.flags&64)===0&&(typeof Ot.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&(Ti===null||!Ti.has(At)))){ut.flags|=4096,s&=-s,ut.lanes|=s;var Pt=Si(ut,_,s);Bg(ut,Pt);break e}}ut=ut.return}while(ut!==null)}Zj(d)}catch(St){s=St,Y===d&&d!==null&&(Y=d=d.return);continue}break}while(1)}function Pj(){var a=oj.current;return oj.current=Gh,a===null?Gh:a}function Tj(a,s){var d=X;X|=16;var c=Pj();U===a&&W===s||Qj(a,s);do try{ak();break}catch(g){Sj(a,g)}while(1);if(qg(),X=d,oj.current=c,Y!==null)throw Error(y(261));return U=null,W=0,V}function ak(){for(;Y!==null;)bk(Y)}function Rj(){for(;Y!==null&&!Qf();)bk(Y)}function bk(a){var s=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps,s===null?Zj(a):Y=s,pj.current=null}function Zj(a){var s=a;do{var d=s.alternate;if(a=s.return,(s.flags&2048)===0){if(d=Gi(d,s,qj),d!==null){Y=d;return}if(d=s,d.tag!==24&&d.tag!==23||d.memoizedState===null||(qj&1073741824)!==0||(d.mode&4)===0){for(var c=0,g=d.child;g!==null;)c|=g.lanes|g.childLanes,g=g.sibling;d.childLanes=c}a!==null&&(a.flags&2048)===0&&(a.firstEffect===null&&(a.firstEffect=s.firstEffect),s.lastEffect!==null&&(a.lastEffect!==null&&(a.lastEffect.nextEffect=s.firstEffect),a.lastEffect=s.lastEffect),1<s.flags&&(a.lastEffect!==null?a.lastEffect.nextEffect=s:a.firstEffect=s,a.lastEffect=s))}else{if(d=Li(s),d!==null){d.flags&=2047,Y=d;return}a!==null&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}if(s=s.sibling,s!==null){Y=s;return}Y=s=a}while(s!==null);V===0&&(V=5)}function Uj(a){var s=eg();return gg(99,dk.bind(null,a,s)),null}function dk(a,s){do Oj();while(yj!==null);if((X&48)!==0)throw Error(y(327));var d=a.finishedWork;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(y(177));a.callbackNode=null;var c=d.lanes|d.childLanes,g=c,_=a.pendingLanes&~g;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=g,a.mutableReadLanes&=g,a.entangledLanes&=g,g=a.entanglements;for(var b=a.eventTimes,$=a.expirationTimes;0<_;){var tt=31-Vc(_),nt=1<<tt;g[tt]=0,b[tt]=-1,$[tt]=-1,_&=~nt}if(Cj!==null&&(c&24)===0&&Cj.has(a)&&Cj.delete(a),a===U&&(Y=U=null,W=0),1<d.flags?d.lastEffect!==null?(d.lastEffect.nextEffect=d,c=d.firstEffect):c=d:c=d.firstEffect,c!==null){if(g=X,X|=32,pj.current=null,kf=fd,b=Ne(),Oe(b)){if("selectionStart"in b)$={start:b.selectionStart,end:b.selectionEnd};else e:if($=($=b.ownerDocument)&&$.defaultView||window,(nt=$.getSelection&&$.getSelection())&&nt.rangeCount!==0){$=nt.anchorNode,_=nt.anchorOffset,tt=nt.focusNode,nt=nt.focusOffset;try{$.nodeType,tt.nodeType}catch{$=null;break e}var ot=0,dt=-1,ut=-1,lt=0,Tt=0,yt=b,pt=null;t:for(;;){for(var vt;yt!==$||_!==0&&yt.nodeType!==3||(dt=ot+_),yt!==tt||nt!==0&&yt.nodeType!==3||(ut=ot+nt),yt.nodeType===3&&(ot+=yt.nodeValue.length),(vt=yt.firstChild)!==null;)pt=yt,yt=vt;for(;;){if(yt===b)break t;if(pt===$&&++lt===_&&(dt=ot),pt===tt&&++Tt===nt&&(ut=ot),(vt=yt.nextSibling)!==null)break;yt=pt,pt=yt.parentNode}yt=vt}$=dt===-1||ut===-1?null:{start:dt,end:ut}}else $=null;$=$||{start:0,end:0}}else $=null;lf={focusedElem:b,selectionRange:$},fd=!1,Ij=null,Jj=!1,Z=c;do try{ek()}catch(St){if(Z===null)throw Error(y(330));Wi(Z,St),Z=Z.nextEffect}while(Z!==null);Ij=null,Z=c;do try{for(b=a;Z!==null;){var it=Z.flags;if(it&16&&pb(Z.stateNode,""),it&128){var ct=Z.alternate;if(ct!==null){var mt=ct.ref;mt!==null&&(typeof mt=="function"?mt(null):mt.current=null)}}switch(it&1038){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:$=Z,cj(b,$);var Nt=$.alternate;dj($),Nt!==null&&dj(Nt)}Z=Z.nextEffect}}catch(St){if(Z===null)throw Error(y(330));Wi(Z,St),Z=Z.nextEffect}while(Z!==null);if(mt=lf,ct=Ne(),it=mt.focusedElem,b=mt.selectionRange,ct!==it&&it&&it.ownerDocument&&Me(it.ownerDocument.documentElement,it)){for(b!==null&&Oe(it)&&(ct=b.start,mt=b.end,mt===void 0&&(mt=ct),"selectionStart"in it?(it.selectionStart=ct,it.selectionEnd=Math.min(mt,it.value.length)):(mt=(ct=it.ownerDocument||document)&&ct.defaultView||window,mt.getSelection&&(mt=mt.getSelection(),$=it.textContent.length,Nt=Math.min(b.start,$),b=b.end===void 0?Nt:Math.min(b.end,$),!mt.extend&&Nt>b&&($=b,b=Nt,Nt=$),$=Le(it,Nt),_=Le(it,b),$&&_&&(mt.rangeCount!==1||mt.anchorNode!==$.node||mt.anchorOffset!==$.offset||mt.focusNode!==_.node||mt.focusOffset!==_.offset)&&(ct=ct.createRange(),ct.setStart($.node,$.offset),mt.removeAllRanges(),Nt>b?(mt.addRange(ct),mt.extend(_.node,_.offset)):(ct.setEnd(_.node,_.offset),mt.addRange(ct)))))),ct=[],mt=it;mt=mt.parentNode;)mt.nodeType===1&&ct.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof it.focus=="function"&&it.focus(),it=0;it<ct.length;it++)mt=ct[it],mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}fd=!!kf,lf=kf=null,a.current=d,Z=c;do try{for(it=a;Z!==null;){var Ot=Z.flags;if(Ot&36&&Yi(it,Z.alternate,Z),Ot&128){ct=void 0;var At=Z.ref;if(At!==null){var Pt=Z.stateNode;switch(Z.tag){case 5:ct=Pt;break;default:ct=Pt}typeof At=="function"?At(ct):At.current=ct}}Z=Z.nextEffect}}catch(St){if(Z===null)throw Error(y(330));Wi(Z,St),Z=Z.nextEffect}while(Z!==null);Z=null,$f(),X=g}else a.current=d;if(xj)xj=!1,yj=a,zj=s;else for(Z=c;Z!==null;)s=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(Ot=Z,Ot.sibling=null,Ot.stateNode=null),Z=s;if(c=a.pendingLanes,c===0&&(Ti=null),c===1?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0,d=d.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,d,void 0,(d.current.flags&64)===64)}catch{}if(Mj(a,O()),Qi)throw Qi=!1,a=Ri,Ri=null,a;return(X&8)!==0||ig(),null}function ek(){for(;Z!==null;){var a=Z.alternate;Jj||Ij===null||((Z.flags&8)!==0?dc(Z,Ij)&&(Jj=!0):Z.tag===13&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var s=Z.flags;(s&256)!==0&&Xi(a,Z),(s&512)===0||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z=Z.nextEffect}}function Oj(){if(zj!==90){var a=97<zj?97:zj;return zj=90,gg(a,fk)}return!1}function $i(a,s){Aj.push(s,a),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(a,s){Bj.push(s,a),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var a=yj;if(yj=null,(X&48)!==0)throw Error(y(331));var s=X;X|=32;var d=Bj;Bj=[];for(var c=0;c<d.length;c+=2){var g=d[c],_=d[c+1],b=g.destroy;if(g.destroy=void 0,typeof b=="function")try{b()}catch(tt){if(_===null)throw Error(y(330));Wi(_,tt)}}for(d=Aj,Aj=[],c=0;c<d.length;c+=2){g=d[c],_=d[c+1];try{var $=g.create;g.destroy=$()}catch(tt){if(_===null)throw Error(y(330));Wi(_,tt)}}for($=a.current.firstEffect;$!==null;)a=$.nextEffect,$.nextEffect=null,$.flags&8&&($.sibling=null,$.stateNode=null),$=a;return X=s,ig(),!0}function gk(a,s,d){s=Mi(d,s),s=Pi(a,s,1),Ag(a,s),s=Hg(),a=Kj(a,1),a!==null&&($c(a,1,s),Mj(a,s))}function Wi(a,s){if(a.tag===3)gk(a,a,s);else for(var d=a.return;d!==null;){if(d.tag===3){gk(d,a,s);break}else if(d.tag===1){var c=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ti===null||!Ti.has(c))){a=Mi(s,a);var g=Si(d,a,1);if(Ag(d,g),g=Hg(),d=Kj(d,1),d!==null)$c(d,1,g),Mj(d,g);else if(typeof c.componentDidCatch=="function"&&(Ti===null||!Ti.has(c)))try{c.componentDidCatch(s,a)}catch{}break}}d=d.return}}function Yj(a,s,d){var c=a.pingCache;c!==null&&c.delete(s),s=Hg(),a.pingedLanes|=a.suspendedLanes&d,U===a&&(W&d)===d&&(V===4||V===3&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=d),Mj(a,s)}function lj(a,s){var d=a.stateNode;d!==null&&d.delete(s),s=0,s===0&&(s=a.mode,(s&2)===0?s=1:(s&4)===0?s=eg()===99?1:2:(Gj===0&&(Gj=tj),s=Yc(62914560&~Gj),s===0&&(s=4194304))),d=Hg(),a=Kj(a,s),a!==null&&($c(a,s,d),Mj(a,d))}var ck;ck=function(a,s,d){var c=s.lanes;if(a!==null)if(a.memoizedProps!==s.pendingProps||N.current)ug=!0;else if((d&c)!==0)ug=(a.flags&16384)!==0;else{switch(ug=!1,s.tag){case 3:ri(s),sh();break;case 5:gh(s);break;case 1:Ff(s.type)&&Jf(s);break;case 4:eh(s,s.stateNode.containerInfo);break;case 10:c=s.memoizedProps.value;var g=s.type._context;I(mg,g._currentValue),g._currentValue=c;break;case 13:if(s.memoizedState!==null)return(d&s.child.childLanes)!==0?ti(a,s,d):(I(P,P.current&1),s=hi(a,s,d),s!==null?s.sibling:null);I(P,P.current&1);break;case 19:if(c=(d&s.childLanes)!==0,(a.flags&64)!==0){if(c)return Ai(a,s,d);s.flags|=64}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),I(P,P.current),c)break;return null;case 23:case 24:return s.lanes=0,mi(a,s,d)}return hi(a,s,d)}else ug=!1;switch(s.lanes=0,s.tag){case 2:if(c=s.type,a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2),a=s.pendingProps,g=Ef(s,M.current),tg(s,d),g=Ch(null,s,c,a,g,d),s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0){if(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ff(c)){var _=!0;Jf(s)}else _=!1;s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,xg(s);var b=c.getDerivedStateFromProps;typeof b=="function"&&Gg(s,c,b,a),g.updater=Kg,s.stateNode=g,g._reactInternals=s,Og(s,c,a,d),s=qi(null,s,c,!0,_,d)}else s.tag=0,fi(null,s,g,d),s=s.child;return s;case 16:g=s.elementType;e:{switch(a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2),a=s.pendingProps,_=g._init,g=_(g._payload),s.type=g,_=s.tag=hk(g),a=lg(g,a),_){case 0:s=li(null,s,g,a,d);break e;case 1:s=pi(null,s,g,a,d);break e;case 11:s=gi(null,s,g,a,d);break e;case 14:s=ii(null,s,g,lg(g.type,a),c,d);break e}throw Error(y(306,g,""))}return s;case 0:return c=s.type,g=s.pendingProps,g=s.elementType===c?g:lg(c,g),li(a,s,c,g,d);case 1:return c=s.type,g=s.pendingProps,g=s.elementType===c?g:lg(c,g),pi(a,s,c,g,d);case 3:if(ri(s),c=s.updateQueue,a===null||c===null)throw Error(y(282));if(c=s.pendingProps,g=s.memoizedState,g=g!==null?g.element:null,yg(a,s),Cg(s,c,null,d),c=s.memoizedState.element,c===g)sh(),s=hi(a,s,d);else{if(g=s.stateNode,(_=g.hydrate)&&(kh=rf(s.stateNode.containerInfo.firstChild),jh=s,_=lh=!0),_){if(a=g.mutableSourceEagerHydrationData,a!=null)for(g=0;g<a.length;g+=2)_=a[g],_._workInProgressVersionPrimary=a[g+1],th.push(_);for(d=Zg(s,null,c,d),s.child=d;d;)d.flags=d.flags&-3|1024,d=d.sibling}else fi(a,s,c,d),sh();s=s.child}return s;case 5:return gh(s),a===null&&ph(s),c=s.type,g=s.pendingProps,_=a!==null?a.memoizedProps:null,b=g.children,nf(c,g)?b=null:_!==null&&nf(c,_)&&(s.flags|=16),oi(a,s),fi(a,s,b,d),s.child;case 6:return a===null&&ph(s),null;case 13:return ti(a,s,d);case 4:return eh(s,s.stateNode.containerInfo),c=s.pendingProps,a===null?s.child=Yg(s,null,c,d):fi(a,s,c,d),s.child;case 11:return c=s.type,g=s.pendingProps,g=s.elementType===c?g:lg(c,g),gi(a,s,c,g,d);case 7:return fi(a,s,s.pendingProps,d),s.child;case 8:return fi(a,s,s.pendingProps.children,d),s.child;case 12:return fi(a,s,s.pendingProps.children,d),s.child;case 10:e:{c=s.type._context,g=s.pendingProps,b=s.memoizedProps,_=g.value;var $=s.type._context;if(I(mg,$._currentValue),$._currentValue=_,b!==null)if($=b.value,_=He($,_)?0:(typeof c._calculateChangedBits=="function"?c._calculateChangedBits($,_):1073741823)|0,_===0){if(b.children===g.children&&!N.current){s=hi(a,s,d);break e}}else for($=s.child,$!==null&&($.return=s);$!==null;){var tt=$.dependencies;if(tt!==null){b=$.child;for(var nt=tt.firstContext;nt!==null;){if(nt.context===c&&(nt.observedBits&_)!==0){$.tag===1&&(nt=zg(-1,d&-d),nt.tag=2,Ag($,nt)),$.lanes|=d,nt=$.alternate,nt!==null&&(nt.lanes|=d),sg($.return,d),tt.lanes|=d;break}nt=nt.next}}else b=$.tag===10&&$.type===s.type?null:$.child;if(b!==null)b.return=$;else for(b=$;b!==null;){if(b===s){b=null;break}if($=b.sibling,$!==null){$.return=b.return,b=$;break}b=b.return}$=b}fi(a,s,g.children,d),s=s.child}return s;case 9:return g=s.type,_=s.pendingProps,c=_.children,tg(s,d),g=vg(g,_.unstable_observedBits),c=c(g),s.flags|=1,fi(a,s,c,d),s.child;case 14:return g=s.type,_=lg(g,s.pendingProps),_=lg(g.type,_),ii(a,s,g,_,c,d);case 15:return ki(a,s,s.type,s.pendingProps,c,d);case 17:return c=s.type,g=s.pendingProps,g=s.elementType===c?g:lg(c,g),a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,Ff(c)?(a=!0,Jf(s)):a=!1,tg(s,d),Mg(s,c,g),Og(s,c,g,d),qi(null,s,c,!0,a,d);case 19:return Ai(a,s,d);case 23:return mi(a,s,d);case 24:return mi(a,s,d)}throw Error(y(156,s.tag))};function ik(a,s,d,c){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(a,s,d,c){return new ik(a,s,d,c)}function ji(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hk(a){if(typeof a=="function")return ji(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Aa)return 11;if(a===Da)return 14}return 2}function Tg(a,s){var d=a.alternate;return d===null?(d=nh(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null),d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Vg(a,s,d,c,g,_){var b=2;if(c=a,typeof a=="function")ji(a)&&(b=1);else if(typeof a=="string")b=5;else e:switch(a){case ua:return Xg(d.children,g,_,s);case Ha:b=8,g|=16;break;case wa:b=8,g|=1;break;case xa:return a=nh(12,d,s,g|8),a.elementType=xa,a.type=xa,a.lanes=_,a;case Ba:return a=nh(13,d,s,g),a.type=Ba,a.elementType=Ba,a.lanes=_,a;case Ca:return a=nh(19,d,s,g),a.elementType=Ca,a.lanes=_,a;case Ia:return vi(d,g,_,s);case Ja:return a=nh(24,d,s,g),a.elementType=Ja,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ya:b=10;break e;case za:b=9;break e;case Aa:b=11;break e;case Da:b=14;break e;case Ea:b=16,c=null;break e;case Fa:b=22;break e}throw Error(y(130,a==null?a:typeof a,""))}return s=nh(b,d,s,g),s.elementType=a,s.type=c,s.lanes=_,s}function Xg(a,s,d,c){return a=nh(7,a,c,s),a.lanes=d,a}function vi(a,s,d,c){return a=nh(23,a,c,s),a.elementType=Ia,a.lanes=d,a}function Ug(a,s,d){return a=nh(6,a,null,s),a.lanes=d,a}function Wg(a,s,d){return s=nh(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function jk(a,s,d){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=d,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(a,s,d){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:c==null?null:""+c,children:a,containerInfo:s,implementation:d}}function lk(a,s,d,c){var g=s.current,_=Hg(),b=Ig(g);e:if(d){d=d._reactInternals;t:{if(Zb(d)!==d||d.tag!==1)throw Error(y(170));var $=d;do{switch($.tag){case 3:$=$.stateNode.context;break t;case 1:if(Ff($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break t}}$=$.return}while($!==null);throw Error(y(171))}if(d.tag===1){var tt=d.type;if(Ff(tt)){d=If(d,tt,$);break e}}d=$}else d=Cf;return s.context===null?s.context=d:s.pendingContext=d,s=zg(_,b),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),Ag(g,s),Jg(g,b,_),b}function mk(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function ok(a,s){nk(a,s),(a=a.alternate)&&nk(a,s)}function pk(){return null}function qk(a,s,d){var c=d!=null&&d.hydrationOptions!=null&&d.hydrationOptions.mutableSources||null;if(d=new jk(a,s,d!=null&&d.hydrate===!0),s=nh(3,null,null,s===2?7:s===1?3:0),d.current=s,s.stateNode=d,xg(s),a[ff]=d.current,cf(a.nodeType===8?a.parentNode:a),c)for(a=0;a<c.length;a++){s=c[a];var g=s._getVersion;g=g(s._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[s,g]:d.mutableSourceEagerHydrationData.push(s,g)}this._internalRoot=d}qk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,s=a.containerInfo;lk(null,a,null,function(){s[ff]=null})};function rk(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function sk(a,s){if(s||(s=a?a.nodeType===9?a.documentElement:a.firstChild:null,s=!(!s||s.nodeType!==1||!s.hasAttribute("data-reactroot"))),!s)for(var d;d=a.lastChild;)a.removeChild(d);return new qk(a,0,s?{hydrate:!0}:void 0)}function tk(a,s,d,c,g){var _=d._reactRootContainer;if(_){var b=_._internalRoot;if(typeof g=="function"){var $=g;g=function(){var nt=mk(b);$.call(nt)}}lk(s,b,a,g)}else{if(_=d._reactRootContainer=sk(d,c),b=_._internalRoot,typeof g=="function"){var tt=g;g=function(){var nt=mk(b);tt.call(nt)}}Xj(function(){lk(s,b,a,g)})}return mk(b)}ec=function(a){if(a.tag===13){var s=Hg();Jg(a,4,s),ok(a,4)}};fc=function(a){if(a.tag===13){var s=Hg();Jg(a,67108864,s),ok(a,67108864)}};gc=function(a){if(a.tag===13){var s=Hg(),d=Ig(a);Jg(a,d,s),ok(a,d)}};hc=function(a,s){return s()};yb=function(a,s,d){switch(s){case"input":if(ab(a,d),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<d.length;s++){var c=d[s];if(c!==a&&c.form===a.form){var g=Db(c);if(!g)throw Error(y(90));Wa(c),ab(c,g)}}}break;case"textarea":ib(a,d);break;case"select":s=d.value,s!=null&&fb(a,!!d.multiple,s,!1)}};Gb=Wj;Hb=function(a,s,d,c,g){var _=X;X|=4;try{return gg(98,a.bind(null,s,d,c,g))}finally{X=_,X===0&&(wj(),ig())}};Ib=function(){(X&49)===0&&(Vj(),Oj())};Jb=function(a,s){var d=X;X|=2;try{return a(s)}finally{X=d,X===0&&(wj(),ig())}};function uk(a,s){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(s))throw Error(y(200));return kk(a,s,null,d)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=cc(a),a===null?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(y(188)):Error(y(268,Object.keys(a)));return a=cc(s),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a,s){var d=X;if((d&48)!==0)return a(s);X|=1;try{if(a)return gg(99,a.bind(null,s))}finally{X=d,ig()}};reactDom_production_min.hydrate=function(a,s,d){if(!rk(s))throw Error(y(200));return tk(null,a,s,!0,d)};reactDom_production_min.render=function(a,s,d){if(!rk(s))throw Error(y(200));return tk(null,a,s,!1,d)};reactDom_production_min.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null,a[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(a,s){return uk(a,s,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,s,d,c){if(!rk(d))throw Error(y(200));if(a==null||a._reactInternals===void 0)throw Error(y(38));return tk(a,s,d,!1,c)};reactDom_production_min.version="17.0.2";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports;const RoomParticipant$1={name:"LS-Room-Participant",sourceType:"RoomParticipant",props:{isMuted:{type:Boolean,required:!1,default:!1},volume:{type:Number,required:!1,default:1}},useSource(a,s){return a.find(d=>isMatch(d.props,s.sourceProps))},create({onUpdate:a,onNewSource:s},d){const c=document.createElement("div");Object.assign(c.style,{position:"relative"});let g,_=d;const b=(nt,ot)=>{const dt=nt/ot.width;return dt>=.5?3:dt>.25?2:dt>.15?1:0},$=({props:nt,source:ot})=>{const{volume:dt=1,isHidden:ut=!1}=nt,[lt,Tt]=react.exports.useState(0),yt=react.exports.useRef(),pt=getProject(CoreContext.state.activeProjectId),vt=getRoom(CoreContext.state.activeProjectId),ct=(ot==null?void 0:ot.id)===(vt==null?void 0:vt.participantId)||nt.isMuted,mt=!nt.isHidden&&(ot==null?void 0:ot.props.videoEnabled);return react.exports.useEffect(()=>{!yt.current||(yt.current.play().catch(Nt=>{document.addEventListener("click",()=>{var Ot;return(Ot=yt.current)==null?void 0:Ot.play()},{once:!0})}),(ot==null?void 0:ot.value)&&(ot==null?void 0:ot.value)!==yt.current.srcObject?yt.current.srcObject=ot.value:ot!=null&&ot.value||(yt.current.srcObject=null))},[yt.current,ot==null?void 0:ot.value]),react.exports.useLayoutEffect(()=>{if(!yt.current)return;const Nt=()=>{const At=yt.current;Tt(b(At.clientWidth,{width:pt.compositor.getRoot().props.size.x,height:pt.compositor.getRoot().props.size.y}))},Ot=new ResizeObserver(At=>{Nt()});return Nt(),Ot.observe(yt.current),()=>{Ot.unobserve(yt.current)}},[yt.current,pt]),react.exports.useEffect(()=>{!yt.current||(yt.current.volume=dt)},[yt.current,dt]),React.createElement("div",{style:{position:"relative",display:"flex",height:"100%",width:"100%"}},React.createElement("div",{style:{background:"#222",position:"absolute",height:"100%",width:"100%",fontSize:"43px",color:"rgba(255,255,255,0.6)",display:"flex",alignItems:"center",justifyContent:"center",opacity:mt?"0":"1"}},(ot==null?void 0:ot.props.displayName)&&React.createElement("div",{style:{borderRadius:"50%",background:"#555",width:"70px",height:"70px",textTransform:"uppercase",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1em"}},(ot==null?void 0:ot.props.displayName.slice(0,1))||"")),React.createElement("video",{ref:yt,autoPlay:!0,muted:ct,disablePictureInPicture:!0,playsInline:!0,style:{left:"50%",top:"50%",position:"relative",transform:"translate3d(-50%, -50%, 0)",height:"100%",opacity:mt?"1":"0",objectFit:(ot==null?void 0:ot.props.type)==="screen"?"contain":"cover",background:"rgba(0,0,0,0.6)"}}),(ot==null?void 0:ot.props.displayName)&&React.createElement("div",{className:"NameBannerContainer",style:{width:"100%",height:"100%",position:"absolute"}},React.createElement("div",{className:"NameBanner","data-size":lt,style:{padding:"12px 30px",width:"fit-content",height:"fit-content",top:"100%",transform:"translateY(-100%)",left:0}},React.createElement("div",{className:"NameBanner-body"},ot.props.displayName))))},tt=()=>ReactDOM.render(React.createElement($,{source:g,props:_}),c);return a(nt=>{_=nt,tt()}),s(nt=>{g=nt,tt()}),{root:c}}},Square={name:"LS-Square",props:{color:{default:"green"}},create({onUpdate:a}){const s=document.createElement("div");return a(({color:d})=>{Object.assign(s.style,{width:"100%",height:"100%",background:d||"red"})}),{root:s}}},Image$2={name:"LS-Image",props:{src:{},fit:{}},create({onUpdate:a}){const s=document.createElement("img");return a(({src:d,fit:c})=>{s.setAttribute("src",d),Object.assign(s.style,{width:"100%",height:"100%",objectFit:c})}),{root:s}}};function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var d=arguments[s];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}return a},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(a,s){if(a==null)return{};var d={},c=Object.keys(a),g,_;for(_=0;_<c.length;_++)g=c[_],!(s.indexOf(g)>=0)&&(d[g]=a[g]);return d}function _setPrototypeOf(a,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,g){return c.__proto__=g,c},_setPrototypeOf(a,s)}function _inheritsLoose(a,s){a.prototype=Object.create(s.prototype),a.prototype.constructor=a,_setPrototypeOf(a,s)}function hasClass(a,s){return a.classList?!!s&&a.classList.contains(s):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+s+" ")!==-1}function addClass(a,s){a.classList?a.classList.add(s):hasClass(a,s)||(typeof a.className=="string"?a.className=a.className+" "+s:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+s))}function replaceClassName(a,s){return a.replace(new RegExp("(^|\\s)"+s+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(a,s){a.classList?a.classList.remove(s):typeof a.className=="string"?a.className=replaceClassName(a.className,s):a.setAttribute("class",replaceClassName(a.className&&a.className.baseVal||"",s))}var config={disabled:!1},TransitionGroupContext=React.createContext(null),UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(a){_inheritsLoose(s,a);function s(c,g){var _;_=a.call(this,c,g)||this;var b=g,$=b&&!b.isMounting?c.enter:c.appear,tt;return _.appearStatus=null,c.in?$?(tt=EXITED,_.appearStatus=ENTERING):tt=ENTERED:c.unmountOnExit||c.mountOnEnter?tt=UNMOUNTED:tt=EXITED,_.state={status:tt},_.nextCallback=null,_}s.getDerivedStateFromProps=function(g,_){var b=g.in;return b&&_.status===UNMOUNTED?{status:EXITED}:null};var d=s.prototype;return d.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},d.componentDidUpdate=function(g){var _=null;if(g!==this.props){var b=this.state.status;this.props.in?b!==ENTERING&&b!==ENTERED&&(_=ENTERING):(b===ENTERING||b===ENTERED)&&(_=EXITING)}this.updateStatus(!1,_)},d.componentWillUnmount=function(){this.cancelNextCallback()},d.getTimeouts=function(){var g=this.props.timeout,_,b,$;return _=b=$=g,g!=null&&typeof g!="number"&&(_=g.exit,b=g.enter,$=g.appear!==void 0?g.appear:b),{exit:_,enter:b,appear:$}},d.updateStatus=function(g,_){g===void 0&&(g=!1),_!==null?(this.cancelNextCallback(),_===ENTERING?this.performEnter(g):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},d.performEnter=function(g){var _=this,b=this.props.enter,$=this.context?this.context.isMounting:g,tt=this.props.nodeRef?[$]:[ReactDOM.findDOMNode(this),$],nt=tt[0],ot=tt[1],dt=this.getTimeouts(),ut=$?dt.appear:dt.enter;if(!g&&!b||config.disabled){this.safeSetState({status:ENTERED},function(){_.props.onEntered(nt)});return}this.props.onEnter(nt,ot),this.safeSetState({status:ENTERING},function(){_.props.onEntering(nt,ot),_.onTransitionEnd(ut,function(){_.safeSetState({status:ENTERED},function(){_.props.onEntered(nt,ot)})})})},d.performExit=function(){var g=this,_=this.props.exit,b=this.getTimeouts(),$=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!_||config.disabled){this.safeSetState({status:EXITED},function(){g.props.onExited($)});return}this.props.onExit($),this.safeSetState({status:EXITING},function(){g.props.onExiting($),g.onTransitionEnd(b.exit,function(){g.safeSetState({status:EXITED},function(){g.props.onExited($)})})})},d.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},d.safeSetState=function(g,_){_=this.setNextCallback(_),this.setState(g,_)},d.setNextCallback=function(g){var _=this,b=!0;return this.nextCallback=function($){b&&(b=!1,_.nextCallback=null,g($))},this.nextCallback.cancel=function(){b=!1},this.nextCallback},d.onTransitionEnd=function(g,_){this.setNextCallback(_);var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),$=g==null&&!this.props.addEndListener;if(!b||$){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var tt=this.props.nodeRef?[this.nextCallback]:[b,this.nextCallback],nt=tt[0],ot=tt[1];this.props.addEndListener(nt,ot)}g!=null&&setTimeout(this.nextCallback,g)},d.render=function(){var g=this.state.status;if(g===UNMOUNTED)return null;var _=this.props,b=_.children;_.in,_.mountOnEnter,_.unmountOnExit,_.appear,_.enter,_.exit,_.timeout,_.addEndListener,_.onEnter,_.onEntering,_.onEntered,_.onExit,_.onExiting,_.onExited,_.nodeRef;var $=_objectWithoutPropertiesLoose(_,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof b=="function"?b(g,$):React.cloneElement(React.Children.only(b),$))},s}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;var Transition$1=Transition,_addClass=function a(s,d){return s&&d&&d.split(" ").forEach(function(c){return addClass(s,c)})},removeClass=function a(s,d){return s&&d&&d.split(" ").forEach(function(c){return removeClass$1(s,c)})},CSSTransition=function(a){_inheritsLoose(s,a);function s(){for(var c,g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];return c=a.call.apply(a,[this].concat(_))||this,c.appliedClasses={appear:{},enter:{},exit:{}},c.onEnter=function($,tt){var nt=c.resolveArguments($,tt),ot=nt[0],dt=nt[1];c.removeClasses(ot,"exit"),c.addClass(ot,dt?"appear":"enter","base"),c.props.onEnter&&c.props.onEnter($,tt)},c.onEntering=function($,tt){var nt=c.resolveArguments($,tt),ot=nt[0],dt=nt[1],ut=dt?"appear":"enter";c.addClass(ot,ut,"active"),c.props.onEntering&&c.props.onEntering($,tt)},c.onEntered=function($,tt){var nt=c.resolveArguments($,tt),ot=nt[0],dt=nt[1],ut=dt?"appear":"enter";c.removeClasses(ot,ut),c.addClass(ot,ut,"done"),c.props.onEntered&&c.props.onEntered($,tt)},c.onExit=function($){var tt=c.resolveArguments($),nt=tt[0];c.removeClasses(nt,"appear"),c.removeClasses(nt,"enter"),c.addClass(nt,"exit","base"),c.props.onExit&&c.props.onExit($)},c.onExiting=function($){var tt=c.resolveArguments($),nt=tt[0];c.addClass(nt,"exit","active"),c.props.onExiting&&c.props.onExiting($)},c.onExited=function($){var tt=c.resolveArguments($),nt=tt[0];c.removeClasses(nt,"exit"),c.addClass(nt,"exit","done"),c.props.onExited&&c.props.onExited($)},c.resolveArguments=function($,tt){return c.props.nodeRef?[c.props.nodeRef.current,$]:[$,tt]},c.getClassNames=function($){var tt=c.props.classNames,nt=typeof tt=="string",ot=nt&&tt?tt+"-":"",dt=nt?""+ot+$:tt[$],ut=nt?dt+"-active":tt[$+"Active"],lt=nt?dt+"-done":tt[$+"Done"];return{baseClassName:dt,activeClassName:ut,doneClassName:lt}},c}var d=s.prototype;return d.addClass=function(g,_,b){var $=this.getClassNames(_)[b+"ClassName"],tt=this.getClassNames("enter"),nt=tt.doneClassName;_==="appear"&&b==="done"&&nt&&($+=" "+nt),b==="active"&&g&&g.scrollTop,$&&(this.appliedClasses[_][b]=$,_addClass(g,$))},d.removeClasses=function(g,_){var b=this.appliedClasses[_],$=b.base,tt=b.active,nt=b.done;this.appliedClasses[_]={},$&&removeClass(g,$),tt&&removeClass(g,tt),nt&&removeClass(g,nt)},d.render=function(){var g=this.props;g.classNames;var _=_objectWithoutPropertiesLoose(g,["classNames"]);return React.createElement(Transition$1,_extends({},_,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(React.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};var CSSTransition$1=CSSTransition,_leaveRenders,_enterRenders;function areChildrenDifferent(a,s){return!(a===s||React.isValidElement(a)&&React.isValidElement(s)&&a.key!=null&&a.key===s.key)}var modes={out:"out-in",in:"in-out"},callHook=function a(s,d,c){return function(){var g;s.props[d]&&(g=s.props)[d].apply(g,arguments),c()}},leaveRenders=(_leaveRenders={},_leaveRenders[modes.out]=function(a){var s=a.current,d=a.changeState;return React.cloneElement(s,{in:!1,onExited:callHook(s,"onExited",function(){d(ENTERING,null)})})},_leaveRenders[modes.in]=function(a){var s=a.current,d=a.changeState,c=a.children;return[s,React.cloneElement(c,{in:!0,onEntered:callHook(c,"onEntered",function(){d(ENTERING)})})]},_leaveRenders),enterRenders=(_enterRenders={},_enterRenders[modes.out]=function(a){var s=a.children,d=a.changeState;return React.cloneElement(s,{in:!0,onEntered:callHook(s,"onEntered",function(){d(ENTERED,React.cloneElement(s,{in:!0}))})})},_enterRenders[modes.in]=function(a){var s=a.current,d=a.children,c=a.changeState;return[React.cloneElement(s,{in:!1,onExited:callHook(s,"onExited",function(){c(ENTERED,React.cloneElement(d,{in:!0}))})}),React.cloneElement(d,{in:!0})]},_enterRenders),SwitchTransition=function(a){_inheritsLoose(s,a);function s(){for(var c,g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];return c=a.call.apply(a,[this].concat(_))||this,c.state={status:ENTERED,current:null},c.appeared=!1,c.changeState=function($,tt){tt===void 0&&(tt=c.state.current),c.setState({status:$,current:tt})},c}var d=s.prototype;return d.componentDidMount=function(){this.appeared=!0},s.getDerivedStateFromProps=function(g,_){return g.children==null?{current:null}:_.status===ENTERING&&g.mode===modes.in?{status:ENTERING}:_.current&&areChildrenDifferent(_.current,g.children)?{status:EXITING}:{current:React.cloneElement(g.children,{in:!0})}},d.render=function(){var g=this.props,_=g.children,b=g.mode,$=this.state,tt=$.status,nt=$.current,ot={children:_,current:nt,changeState:this.changeState,status:tt},dt;switch(tt){case ENTERING:dt=enterRenders[b](ot);break;case EXITING:dt=leaveRenders[b](ot);break;case ENTERED:dt=nt}return React.createElement(TransitionGroupContext.Provider,{value:{isMounting:!this.appeared}},dt)},s}(React.Component);SwitchTransition.propTypes={};SwitchTransition.defaultProps={mode:modes.out};var SwitchTransition$1=SwitchTransition;const Animations={"fade-in":".fade-in{-webkit-animation:fade-in;animation:fade-in}@-webkit-keyframes fade-in{0%{opacity:0}100%{opacity:1}}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}","fade-out":".fade-out{-webkit-animation:fade-out;animation:fade-out}@-webkit-keyframes fade-out{0%{opacity:1}100%{opacity:0}}@keyframes fade-out{0%{opacity:1}100%{opacity:0}}","slide-in-blurred-top":".slide-in-blurred-top{-webkit-animation:slide-in-blurred-top .6s cubic-bezier(.23,1.000,.32,1.000) both;animation:slide-in-blurred-top .6s cubic-bezier(.23,1.000,.32,1.000) both}@-webkit-keyframes slide-in-blurred-top{0%{-webkit-transform:translateY(-1000px) scaleY(2.5) scaleX(.2);transform:translateY(-1000px) scaleY(2.5) scaleX(.2);-webkit-transform-origin:50% 0;transform-origin:50% 0;-webkit-filter:blur(40px);filter:blur(40px);opacity:0}100%{-webkit-transform:translateY(0) scaleY(1) scaleX(1);transform:translateY(0) scaleY(1) scaleX(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-filter:blur(0);filter:blur(0);opacity:1}}@keyframes slide-in-blurred-top{0%{-webkit-transform:translateY(-1000px) scaleY(2.5) scaleX(.2);transform:translateY(-1000px) scaleY(2.5) scaleX(.2);-webkit-transform-origin:50% 0;transform-origin:50% 0;-webkit-filter:blur(40px);filter:blur(40px);opacity:0}100%{-webkit-transform:translateY(0) scaleY(1) scaleX(1);transform:translateY(0) scaleY(1) scaleX(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-filter:blur(0);filter:blur(0);opacity:1}}"},APIKitAnimation=a=>{const{enter:s,exit:d,children:c,tag:g="div",direction:_="normal",duration:b=500,id:$,type:tt}=a,nt=$?`${tt}-${$}`:`${tt}-api-kit-animation`;return React.createElement("div",{style:{height:"100%",width:"100%"}},React.createElement("style",{dangerouslySetInnerHTML:{__html:renderStyle(tt,s,d,b,_)}}),React.createElement(SwitchTransition$1,{mode:"out-in"},React.createElement(CSSTransition$1,{key:nt,addEndListener:(ot,dt)=>{ot.addEventListener("transitionend",dt,!1)},classNames:{enter:`${tt}-default-enter`,enterActive:s,exit:`${tt}-default-leave`,exitActive:d},timeout:b},React.createElement("div",{style:{height:"100%",width:"100%"}},c))))},renderStyle=(a,s,d,c,g)=>`
        body {
          margin: 0;
          padding: 0;
        }
        
        ${Animations[s]}
        
        ${Animations[d]}

        .${a}-transition {
          transition: opacity ${c}ms ease-out};
        }

        .${a}-default-enter {
          opacity: 0;
        }

        .${a}-default-enter.${s} {
          animation-direction: ${g};
          animation-duration: ${c/1e3}s;
          animation-fill-mode: both;
          animation-timing-function: ease-out;
        }

        .${a}-default-leave {
          opacity: 1;
        }

        .${a}-default-leave.${d} {
          animation-direction: ${g};
          animation-duration: ${c/1e3}s;
          animation-timing-function: ease-out;
          animation-fill-mode: both;
        }
        `;var APIKitAnimationTypes=(a=>(a.FADE_IN="fade-in",a.FADE_OUT="fade-out",a.SLIDE_IN_BLURRED_TOP="slide-in-blurred-top",a))(APIKitAnimationTypes||{});const SourceTriggerMap=[{sourceType:"Overlay",trigger:"OverlayMetadataUpdate"},{sourceType:"Background",trigger:"BackgroundMetadataUpdate"}],Video2={name:"LS-Video-2",sourceType:"Video2",props:{id:{type:String,required:!0}},useSource(a,s){return a.find(d=>d.props.type===s.id)},create({onUpdate:a,onNewSource:s,onRemove:d},c){d(()=>{clearInterval(tt)});const g=document.createElement("div"),_=getProjectRoom(CoreContext.state.activeProjectId),b=getProject(CoreContext.state.activeProjectId).role;let $,tt;const nt=({source:dt})=>{const ut=SourceTriggerMap.find(Pt=>Pt.sourceType===c.proxySource),{src:lt,type:Tt,meta:yt,loop:pt}=(dt==null?void 0:dt.value)||{},{id:vt}=dt||{},[it,ct]=React.useState(null),mt=React.useRef(null),Nt=React.useCallback(()=>{mt!=null&&mt.current&&mt.current.play().catch(()=>{var Pt;mt.current.muted=!0,(Pt=mt.current)==null||Pt.play()})},[lt,mt]),Ot=React.useCallback(()=>{tt&&clearInterval(tt),trigger$1("VideoEnded",{id:vt,category:Tt})},[lt]);React.useEffect(()=>{yt&&(_==null?void 0:_.participantId)!==(yt==null?void 0:yt.owner)&&(mt==null?void 0:mt.current)&&(mt.current.currentTime=(yt==null?void 0:yt.time)||0)},[yt,mt]),React.useEffect(()=>_==null?void 0:_.onData((Pt,St)=>{var Ct,$t;(Ct=mt==null?void 0:mt.current)!=null&&Ct.currentTime&&Pt.type==="UserJoined"&&St!==(_==null?void 0:_.participantId)&&triggerInternal$1(ut.trigger,{projectId:CoreContext.state.activeProjectId,role:b,sourceId:vt,doTrigger:!0,metadata:{time:Math.floor(($t=mt==null?void 0:mt.current)==null?void 0:$t.currentTime)||0,owner:_==null?void 0:_.participantId}})}),[mt]);const At=React.useCallback(Pt=>{mt.current=Pt,ct(Pt?Pt.id:null)},[]);return React.useEffect(()=>()=>{tt&&clearInterval(tt)},[vt]),React.useEffect(()=>{var Pt;it?mt.current&&(mt.current.src=lt,pt&&(mt.current.loop=Boolean(pt)),mt.current.play().catch(()=>{mt.current.muted=!0,mt.current.play()}),tt=setInterval(()=>{if(mt.current.duration){const St=mt.current.duration-mt.current.currentTime;trigger$1("VideoTimeUpdate",{category:Tt,id:vt,time:Math.floor(St)})}},1e3),triggerInternal$1(ut.trigger,{projectId:CoreContext.state.activeProjectId,role:b,sourceId:vt,doTrigger:!0,metadata:{time:Math.floor((Pt=mt==null?void 0:mt.current)==null?void 0:Pt.currentTime)||0,owner:_==null?void 0:_.participantId}})):tt&&clearInterval(tt)},[it]),React.createElement(APIKitAnimation,{id:vt,type:"video",enter:APIKitAnimationTypes.FADE_IN,exit:APIKitAnimationTypes.FADE_OUT,duration:400},lt&&React.createElement("video",{id:vt,ref:At,style:c.style,...c.props,onLoadedData:Nt,onEnded:Ot}))},ot=()=>ReactDOM.render(React.createElement(nt,{source:$}),g);return a(()=>{ot()}),s(dt=>{$=dt,ot()}),{root:g}}},Image2={name:"LS-Image-2",sourceType:"Image2",props:{id:{type:String,required:!0}},useSource(a,s){return a.find(d=>d.props.type===s.id)},create({onUpdate:a,onNewSource:s},d){const c=document.createElement("div");let g;const _=({source:$})=>{const{src:tt,meta:nt}=($==null?void 0:$.value)||{},{id:ot}=$||{};return React.createElement(APIKitAnimation,{id:ot,type:"image",enter:APIKitAnimationTypes.FADE_IN,exit:APIKitAnimationTypes.FADE_OUT,duration:400},tt&&React.createElement("img",{style:{...d==null?void 0:d.style,...nt==null?void 0:nt.style},className:"image-transition",src:tt}))},b=()=>ReactDOM.render(React.createElement(_,{source:g}),c);return a(()=>{b()}),s($=>{g=$,b()}),{root:c}}},Element={name:"Element",sourceType:"Element",create({onUpdate:a},{tagName:s}){const d=document.createElement(s);return a(({tagName:c,attributes:g={},fields:_={}})=>{c==="img"?(d==null?void 0:d.src)!==g.src&&Object.keys(g).forEach(b=>{d.setAttribute(b,g[b])}):Object.keys(g).forEach(b=>{d.setAttribute(b,g[b])}),Object.keys(_).forEach(b=>{Object.assign(d[b],_[b])})}),{root:d}}},Video={name:"LS-Video",sourceType:"LS-Video",create({onUpdate:a,onEvent:s,onRemove:d}){d(()=>{clearInterval(g)});const c=document.createElement("video");let g;return a(({attributes:_={},fields:b={},sourceProps:$={},id:tt})=>{(c.src!==_.src||c.id!==_.id&&_.id)&&(g&&clearInterval(g),Object.keys(_).forEach(nt=>{c.setAttribute(nt,_[nt])}),c.onloadedmetadata=()=>{_.muted?(c.muted=!0,c.play()):c.muted=!1},g=setInterval(()=>{if(c.duration){const nt=c.duration-c.currentTime;trigger$1("VideoTimeUpdate",{category:tt,id:$==null?void 0:$.id,time:Math.floor(nt)})}},1e3),c.loop=Boolean(_.loop),c.onended=()=>{g&&clearInterval(g),trigger$1("VideoEnded",{id:$==null?void 0:$.id,category:tt})},Object.keys(b).forEach(nt=>{Object.assign(c[nt],b[nt])}))}),{root:c}}},Banner$1={name:"LS-Banner",sourceType:"Banner",props:{bannerId:{type:String,required:!0}},useSource(a,s){return a.find(d=>d.id===s.bannerId)},create({onUpdate:a,onNewSource:s},d){const c=document.createElement("div");let g,_,b;const $=({currentSource:nt,latestSource:ot})=>{const[dt,ut]=react.exports.useState(!1),{headerText:lt,bodyText:Tt}=(ot==null?void 0:ot.value)||{};return react.exports.useEffect(()=>{window.setTimeout(()=>{ut(Boolean(nt))}),nt||ut(!1)},[nt]),React.createElement("div",{className:"BannerContainer",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-end",transition:"200ms ease all",...dt?{zIndex:2,opacity:1,transform:"translateX(0)"}:{zIndex:1,opacity:0,transform:"translateX(-200px)"}}},React.createElement("div",{className:"Banner",style:{padding:10,background:"orange",width:"fit-content",height:"fit-content",maxWidth:"84%",position:"relative"}},lt&&React.createElement("div",{className:"Banner-header",style:{marginBottom:6}},lt),Tt&&React.createElement("div",{className:"Banner-body"},Tt)))},tt=()=>ReactDOM.render(React.createElement(React.Fragment,null,b&&b.id!==_.id&&React.createElement($,{key:b==null?void 0:b.id,currentSource:null,latestSource:b}),React.createElement($,{key:_==null?void 0:_.id,currentSource:g,latestSource:_})),c);return a(()=>{tt()}),s(nt=>{b=g,g=nt,g&&(_=g),tt()}),{root:c}}},Logo$1={name:"LS-Logo",sourceType:"Logo",props:{id:{type:String,required:!0}},useSource(a,s){return a.find(d=>d.props.type===s.id)},create({onUpdate:a,onNewSource:s},d){const c=document.createElement("div");let g;const _=({source:$})=>{const{src:tt,meta:nt,logoPosition:ot}=($==null?void 0:$.value)||{},{id:dt}=$||{};return React.createElement(APIKitAnimation,{type:"logo",id:dt,enter:APIKitAnimationTypes.FADE_IN,exit:APIKitAnimationTypes.FADE_OUT,duration:400},tt&&React.createElement("div",{className:"logo wrapper"},React.createElement("img",{style:{...d==null?void 0:d.style,...nt==null?void 0:nt.style},src:tt})))},b=()=>ReactDOM.render(React.createElement(_,{source:g}),c);return a(()=>{b()}),s($=>{g=$,b()}),{root:c}}},Iframe=({url:a,allowFullScreen:s,position:d,display:c,height:g,width:_,overflow:b,styles:$,onLoad:tt,id:nt,frameBorder:ot,className:dt,name:ut,target:lt,iframeRef:Tt,children:yt,src:pt})=>{const vt=Object.assign({src:pt||a,target:lt||null,style:{position:d||null,display:c||"block",overflow:b||null,...$},name:ut||null,className:dt||null,id:nt||null,onLoad:tt||null,height:g||"100%",width:_||"100%",allow:"autoplay"});let it=Object.create(null);for(let ct of Object.keys(vt))vt[ct]!=null&&(it[ct]=vt[ct]);for(let ct of Object.keys(it.style))it.style[ct]==null&&delete it.style[ct];if(s)if("allow"in it){const ct=it.allow.replace("fullscreen","");it.allow=`fullscreen ${ct.trim()}`.trim()}else it.allow="fullscreen";return ot>=0&&(it.style.hasOwnProperty("border")||(it.style.border=ot)),React.createElement(APIKitAnimation,{id:nt,type:"image",enter:APIKitAnimationTypes.FADE_IN,exit:APIKitAnimationTypes.FADE_OUT,duration:400},yt?React.createElement("iframe",{ref:Tt,...it},yt):React.createElement("iframe",{ref:Tt,...it}))},Image$1=({source:a,initialProps:s})=>{const{src:d,meta:c}=(a==null?void 0:a.value)||{},{id:g}=a||{};return React.createElement(APIKitAnimation,{id:g,type:"image",enter:APIKitAnimationTypes.FADE_IN,exit:APIKitAnimationTypes.FADE_OUT,duration:400},d&&React.createElement("img",{style:{...s==null?void 0:s.style,...c==null?void 0:c.style},className:"image-transition",src:d}))},Overlay={name:"LS-Overlay",sourceType:"Overlay",props:{id:{type:String,required:!0}},useSource(a,s){return a.find(d=>d.props.type===s.id)},create({onUpdate:a,onNewSource:s},d){const c=document.createElement("div");let g;const _=({source:$})=>{const{src:tt,meta:nt,height:ot,width:dt}=($==null?void 0:$.value)||{},ut=React.useRef(null);react.exports.useEffect(()=>{ut.current&&(ut.current.style.removeProperty("transformOrigin"),ut.current.style.removeProperty("transform"),ut.current.style.opacity="0")},[tt]);const lt=()=>{if(ut.current){const yt=getProject(CoreContext.state.activeProjectId).compositor.getRoot(),{x:pt,y:vt}=yt.props.size;let it=ut.current.clientWidth,ct=ut.current.clientHeight,mt;it&&ct?mt=Math.min(pt/it,vt/ct):mt=1,ut.current.style.willChange="transform",ut.current.style.transformOrigin="0 0",ut.current.style.transform=`scale(${mt}) translateZ(0)`,ut.current.style.opacity="1"}};return React.createElement(React.Fragment,null,(nt==null?void 0:nt.type)==="html-overlay"&&React.createElement(Iframe,{url:tt,frameBorder:0,iframeRef:ut,height:ot,width:dt,onLoad:lt,styles:{...nt==null?void 0:nt.style,opacity:0}}),(nt==null?void 0:nt.type)==="image-overlay"&&React.createElement(Image$1,{source:$,initialProps:d}))},b=()=>ReactDOM.render(React.createElement(_,{source:g}),c);return a(()=>{b()}),s($=>{g=$,b()}),{root:c}}};var Transforms=Object.freeze(Object.defineProperty({__proto__:null,RoomParticipant:RoomParticipant$1,Square,Image:Image$2,Video2,Image2,Element,Video,Banner:Banner$1,Logo:Logo$1,Overlay},Symbol.toStringTag,{value:"Module"}));/*! (c) Andrea Giammarchi - ISC */var self$1={};try{self$1.WeakMap=WeakMap}catch(a){self$1.WeakMap=function(s,d){var c=d.defineProperty,g=d.hasOwnProperty,_=b.prototype;return _.delete=function(tt){return this.has(tt)&&delete tt[this._]},_.get=function(tt){return this.has(tt)?tt[this._]:void 0},_.has=function(tt){return g.call(tt,this._)},_.set=function(tt,nt){return c(tt,this._,{configurable:!0,value:nt}),this},b;function b(tt){c(this,"_",{value:"_@ungap/weakmap"+s++}),tt&&tt.forEach($,this)}function $(tt){this.set(tt[0],tt[1])}}(Math.random(),Object)}var WeakMap$1=self$1.WeakMap;/*! (c) Andrea Giammarchi - ISC */var UID="-"+Math.random().toFixed(6)+"%",UID_IE=!1;try{(function(a,s,d){return s in a&&(a.innerHTML="<p "+d+'="'+UID+'"></p>',a[s].childNodes[0].getAttribute(d)==UID)})(document.createElement("template"),"content","tabindex")||(UID="_dt: "+UID.slice(1,-1)+";",UID_IE=!0)}catch(a){}var UIDC="<!--"+UID+"-->",COMMENT_NODE=8,ELEMENT_NODE$1=1,TEXT_NODE=3,SHOULD_USE_TEXT_CONTENT=/^(?:plaintext|script|style|textarea|title|xmp)$/i,VOID_ELEMENTS=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;/*! (c) Andrea Giammarchi - ISC */function domsanitizer(a){return a.join(UIDC).replace(selfClosing,fullClosing).replace(attrSeeker,attrReplacer)}var spaces=" \\f\\n\\r\\t",almostEverything="[^"+spaces+`\\/>"'=]+`,attrName="["+spaces+"]+"+almostEverything,tagName="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",attrPartials=`(?:\\s*=\\s*(?:'[^']*?'|"[^"]*?"|<[^>]*?>|`+almostEverything.replace("\\/","")+"))?)",attrSeeker=new RegExp(tagName+attrName+attrPartials+"+)(["+spaces+"]*/?>)","g"),selfClosing=new RegExp(tagName+attrName+attrPartials+"*)(["+spaces+"]*/>)","g"),findAttributes=new RegExp("("+attrName+`\\s*=\\s*)(['"]?)`+UIDC+"\\2","gi");function attrReplacer(a,s,d,c){return"<"+s+d.replace(findAttributes,replaceAttributes)+c}function replaceAttributes(a,s,d){return s+(d||'"')+UID+(d||'"')}function fullClosing(a,s,d){return VOID_ELEMENTS.test(s)?a:"<"+s+d+"></"+s+">"}const{isArray}=Array,{indexOf,slice}=[];var umap=a=>({get:s=>a.get(s),set:(s,d)=>(a.set(s,d),d)});const ELEMENT_NODE=1,nodeType=111,remove=({firstChild:a,lastChild:s})=>{const d=document.createRange();return d.setStartAfter(a),d.setEndAfter(s),d.deleteContents(),a},diffable=(a,s)=>a.nodeType===nodeType?1/s<0?s?remove(a):a.lastChild:s?a.valueOf():a.firstChild:a,persistent=a=>{const{childNodes:s}=a,{length:d}=s;if(d<2)return d?s[0]:a;const c=slice.call(s,0),g=c[0],_=c[d-1];return{ELEMENT_NODE,nodeType,firstChild:g,lastChild:_,valueOf(){if(s.length!==d){let b=0;for(;b<d;)a.appendChild(c[b++])}return a}}};/*! (c) Andrea Giammarchi - ISC */var createContent=function(a){var s="fragment",d="template",c="content"in b(d),g=c?function(tt){var nt=b(d);return nt.innerHTML=tt,nt.content}:function(tt){var nt=b(s),ot=b(d),dt=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(tt)){var ut=RegExp.$1;ot.innerHTML="<table>"+tt+"</table>",dt=ot.querySelectorAll(ut)}else ot.innerHTML=tt,dt=ot.childNodes;return _(nt,dt),nt};return function(nt,ot){return(ot==="svg"?$:g)(nt)};function _(tt,nt){for(var ot=nt.length;ot--;)tt.appendChild(nt[0])}function b(tt){return tt===s?a.createDocumentFragment():a.createElementNS("http://www.w3.org/1999/xhtml",tt)}function $(tt){var nt=b(s),ot=b("div");return ot.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+tt+"</svg>",_(nt,ot.firstChild.childNodes),nt}}(document),udomdiff=(a,s,d,c,g)=>{const _=d.length;let b=s.length,$=_,tt=0,nt=0,ot=null;for(;tt<b||nt<$;)if(b===tt){const dt=$<_?nt?c(d[nt-1],-0).nextSibling:c(d[$-nt],0):g;for(;nt<$;)a.insertBefore(c(d[nt++],1),dt)}else if($===nt)for(;tt<b;)(!ot||!ot.has(s[tt]))&&a.removeChild(c(s[tt],-1)),tt++;else if(s[tt]===d[nt])tt++,nt++;else if(s[b-1]===d[$-1])b--,$--;else if(s[tt]===d[$-1]&&d[nt]===s[b-1]){const dt=c(s[--b],-1).nextSibling;a.insertBefore(c(d[nt++],1),c(s[tt++],-1).nextSibling),a.insertBefore(c(d[--$],1),dt),s[b]=d[$]}else{if(!ot){ot=new Map;let dt=nt;for(;dt<$;)ot.set(d[dt],dt++)}if(ot.has(s[tt])){const dt=ot.get(s[tt]);if(nt<dt&&dt<$){let ut=tt,lt=1;for(;++ut<b&&ut<$&&ot.get(s[ut])===dt+lt;)lt++;if(lt>dt-nt){const Tt=c(s[tt],0);for(;nt<dt;)a.insertBefore(c(d[nt++],1),Tt)}else a.replaceChild(c(d[nt++],1),c(s[tt++],-1))}else tt++}else a.removeChild(c(s[tt++],-1))}return d};/*! (c) Andrea Giammarchi - ISC */var importNode=function(a,s,d,c,g){var _=g in a,b=a.createDocumentFragment();b[s](a[c]("g")),b[s](a[c](""));var $=_?a[g](b,!0):b[d](!0);return $.childNodes.length<2?function tt(nt,ot){for(var dt=nt[d](),ut=nt.childNodes||[],lt=ut.length,Tt=0;ot&&Tt<lt;Tt++)dt[s](tt(ut[Tt],ot));return dt}:_?a[g]:function(tt,nt){return tt[d](!!nt)}}(document,"appendChild","cloneNode","createTextNode","importNode"),trim="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},normalizeAttributes=UID_IE?function(a,s){var d=s.join(" ");return s.slice.call(a,0).sort(function(c,g){return d.indexOf(c.name)<=d.indexOf(g.name)?-1:1})}:function(a,s){return s.slice.call(a,0)};function find(a,s){for(var d=s.length,c=0;c<d;)a=a.childNodes[s[c++]];return a}function parse(a,s,d,c){for(var g=a.childNodes,_=g.length,b=0;b<_;){var $=g[b];switch($.nodeType){case ELEMENT_NODE$1:var tt=c.concat(b);parseAttributes($,s,d,tt),parse($,s,d,tt);break;case COMMENT_NODE:var nt=$.textContent;if(nt===UID)d.shift(),s.push(SHOULD_USE_TEXT_CONTENT.test(a.nodeName)?Text(a,c):Any($,c.concat(b)));else switch(nt.slice(0,2)){case"/*":if(nt.slice(-2)!=="*/")break;case"\u{1F47B}":a.removeChild($),b--,_--}break;case TEXT_NODE:SHOULD_USE_TEXT_CONTENT.test(a.nodeName)&&trim.call($.textContent)===UIDC&&(d.shift(),s.push(Text(a,c)));break}b++}}function parseAttributes(a,s,d,c){for(var g=a.attributes,_=[],b=[],$=normalizeAttributes(g,d),tt=$.length,nt=0;nt<tt;){var ot=$[nt++],dt=ot.value===UID,ut;if(dt||1<(ut=ot.value.split(UIDC)).length){var lt=ot.name;if(_.indexOf(lt)<0){_.push(lt);var Tt=d.shift().replace(dt?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+lt+`)\\s*=\\s*('|")[\\S\\s]*`,"i"),"$1"),yt=g[Tt]||g[Tt.toLowerCase()];if(dt)s.push(Attr(yt,c,Tt,null));else{for(var pt=ut.length-2;pt--;)d.shift();s.push(Attr(yt,c,Tt,ut))}}b.push(ot)}}tt=b.length,nt=0;for(var vt=0<tt&&UID_IE&&!("ownerSVGElement"in a);nt<tt;){var it=b[nt++];vt&&(it.value=""),a.removeAttribute(it.name)}var ct=a.nodeName;if(/^script$/i.test(ct)){var mt=document.createElement(ct);for(tt=g.length,nt=0;nt<tt;)mt.setAttributeNode(g[nt++].cloneNode(!0));mt.textContent=a.textContent,a.parentNode.replaceChild(mt,a)}}function Any(a,s){return{type:"any",node:a,path:s}}function Attr(a,s,d,c){return{type:"attr",node:a,path:s,name:d,sparse:c}}function Text(a,s){return{type:"text",node:a,path:s}}var parsed=umap(new WeakMap$1);function createInfo(a,s){var d=(a.convert||domsanitizer)(s),c=a.transform;c&&(d=c(d));var g=createContent(d,a.type);cleanContent(g);var _=[];return parse(g,_,s.slice(0),[]),{content:g,updates:function(b){for(var $=[],tt=_.length,nt=0,ot=0;nt<tt;){var dt=_[nt++],ut=find(b,dt.path);switch(dt.type){case"any":$.push({fn:a.any(ut,[]),sparse:!1});break;case"attr":var lt=dt.sparse,Tt=a.attribute(ut,dt.name,dt.node);lt===null?$.push({fn:Tt,sparse:!1}):(ot+=lt.length-2,$.push({fn:Tt,sparse:!0,values:lt}));break;case"text":$.push({fn:a.text(ut),sparse:!1}),ut.textContent="";break}}return tt+=ot,function(){var yt=arguments.length;if(tt!==yt-1)throw new Error(yt-1+" values instead of "+tt+`
`+s.join("${value}"));for(var pt=1,vt=1;pt<yt;){var it=$[pt-vt];if(it.sparse){var ct=it.values,mt=ct[0],Nt=1,Ot=ct.length;for(vt+=Ot-2;Nt<Ot;)mt+=arguments[pt++]+ct[Nt++];it.fn(mt)}else it.fn(arguments[pt++])}return b}}}}function createDetails(a,s){var d=parsed.get(s)||parsed.set(s,createInfo(a,s));return d.updates(importNode.call(document,d.content,!0))}var empty=[];function domtagger(a){var s=empty,d=cleanContent;return function(c){return s!==c&&(d=createDetails(a,s=c)),d.apply(null,arguments)}}function cleanContent(a){for(var s=a.childNodes,d=s.length;d--;){var c=s[d];c.nodeType!==1&&trim.call(c.textContent).length===0&&a.removeChild(c)}}/*! (c) Andrea Giammarchi - ISC */var hyperStyle=function(){var a=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,s=/([^A-Z])([A-Z]+)/g;return function($,tt){return"ownerSVGElement"in $?c($,tt):_($.style,!1)};function d(b,$,tt){return $+"-"+tt.toLowerCase()}function c(b,$){var tt;return $?tt=$.cloneNode(!0):(b.setAttribute("style","--hyper:style;"),tt=b.getAttributeNode("style")),tt.value="",b.setAttributeNode(tt),_(tt,!0)}function g(b){var $,tt=[];for($ in b)tt.push($.replace(s,d),":",b[$],";");return tt.join("")}function _(b,$){var tt,nt;return function(ot){var dt,ut,lt,Tt;switch(typeof ot){case"object":if(ot){if(tt==="object"){if(!$&&nt!==ot)for(ut in nt)ut in ot||(b[ut]="")}else $?b.value="":b.cssText="";dt=$?{}:b;for(ut in ot)Tt=ot[ut],lt=typeof Tt=="number"&&!a.test(ut)?Tt+"px":Tt,!$&&/^--/.test(ut)?dt.setProperty(ut,lt):dt[ut]=lt;tt="object",$?b.value=g(nt=dt):nt=ot;break}default:nt!=ot&&(tt="string",nt=ot,$?b.value=ot||"":b.cssText=ot||"");break}}}}();const aria=a=>s=>{for(const d in s){const c=d==="role"?d:`aria-${d}`,g=s[d];g==null?a.removeAttribute(c):a.setAttribute(c,g)}},attribute=(a,s)=>{let d,c=!0;const g=document.createAttributeNS(null,s);return _=>{d!==_&&(d=_,d==null?c||(a.removeAttributeNode(g),c=!0):(g.value=_,c&&(a.setAttributeNodeNS(g),c=!1)))}},boolean=(a,s,d)=>c=>{d!==!!c&&((d=!!c)?a.setAttribute(s,""):a.removeAttribute(s))},data=({dataset:a})=>s=>{for(const d in s){const c=s[d];c==null?delete a[d]:a[d]=c}},event=(a,s)=>{let d,c=s.slice(2);return!(s in a)&&s.toLowerCase()in a&&(c=c.toLowerCase()),g=>{const _=isArray(g)?g:[g,!1];d!==_[0]&&(d&&a.removeEventListener(c,d,_[1]),(d=_[0])&&a.addEventListener(c,d,_[1]))}},ref=a=>s=>{typeof s=="function"?s(a):s.current=a},setter=(a,s)=>s==="dataset"?data(a):d=>{a[s]=d},hyperProperty=(a,s)=>{let d;return c=>{d!==c&&(d=c,a[s]!==c&&(c==null?(a[s]="",a.removeAttribute(s)):a[s]=c))}},readOnly=/^(?:form|list)$/i,text=(a,s)=>a.ownerDocument.createTextNode(s);function Tagger(a){return this.type=a,domtagger(this)}Tagger.prototype={attribute(a,s,d){const c=this.type==="svg";switch(s){case"class":if(c)return attribute(a,s);s="className";case"props":return setter(a,s);case"aria":return aria(a);case"style":return hyperStyle(a,d,c);case"ref":return ref(a);case".dataset":return data(a);default:return s.slice(0,1)==="."?setter(a,s.slice(1)):s.slice(0,1)==="?"?boolean(a,s.slice(1)):s.slice(0,2)==="on"?event(a,s):s in a&&!(c||readOnly.test(s))?hyperProperty(a,s):attribute(a,s)}},any(a,s){const{type:d}=this;let c=!1,g;const _=b=>{switch(typeof b){case"string":case"number":case"boolean":c?g!==b&&(g=b,s[0].textContent=b):(c=!0,g=b,s=udomdiff(a.parentNode,s,[text(a,b)],diffable,a));break;case"function":_(b(a));break;case"object":case"undefined":if(b==null){c=!1,s=udomdiff(a.parentNode,s,[],diffable,a);break}default:if(c=!1,g=b,isArray(b))if(b.length===0)s.length&&(s=udomdiff(a.parentNode,s,[],diffable,a));else switch(typeof b[0]){case"string":case"number":case"boolean":_(String(b));break;case"function":_(b.map(invoke,a));break;case"object":isArray(b[0])&&(b=b.concat.apply([],b));default:s=udomdiff(a.parentNode,s,b,diffable,a);break}else"ELEMENT_NODE"in b?s=udomdiff(a.parentNode,s,b.nodeType===11?slice.call(b.childNodes):[b],diffable,a):"text"in b?_(String(b.text)):"any"in b?_(b.any):"html"in b?s=udomdiff(a.parentNode,s,slice.call(createContent([].concat(b.html).join(""),d).childNodes),diffable,a):"length"in b&&_(slice.call(b));break}};return _},text(a){let s;const d=c=>{if(s!==c){s=c;const g=typeof c;g==="object"&&c?"text"in c?d(String(c.text)):"any"in c?d(c.any):"html"in c?d([].concat(c.html).join("")):"length"in c&&d(slice.call(c).join("")):g==="function"?d(c(a)):a.textContent=c==null?"":c}};return d}};function invoke(a){return a(this)}const{create,freeze,keys}=Object;Tagger.prototype;const cache=umap(new WeakMap$1),createRender=a=>({html:outer("html",a),svg:outer("svg",a),render(s,d){const c=typeof d=="function"?d():d,g=cache.get(s)||cache.set(s,createCache()),_=c instanceof LighterHole?unroll(a,g,c):c;return _!==g.wire&&(g.wire=_,s.textContent="",s.appendChild(_.valueOf())),s}}),createCache=()=>({stack:[],entry:null,wire:null}),outer=(a,s)=>{const d=umap(new WeakMap$1),c=_=>function(){return unroll(s,_,g.apply(null,arguments))};return g.for=(_,b)=>{const $=d.get(_)||d.set(_,create(null));return $[b]||($[b]=c(createCache()))},g.node=function(){return unroll(s,createCache(),g.apply(null,arguments)).valueOf()},g;function g(){return new LighterHole(a,tta.apply(null,arguments))}},unroll=(a,s,{type:d,template:c,values:g})=>{const{length:_}=g;unrollValues(a,s,g,_);let{entry:b}=s;if(!b||b.template!==c||b.type!==d){const $=new a(d);s.entry=b={type:d,template:c,tag:$,wire:persistent($(c,...g))}}else b.tag(c,...g);return b.wire},unrollValues=(a,{stack:s},d,c)=>{for(let g=0;g<c;g++){const _=d[g];_ instanceof Hole?d[g]=unroll(a,s[g]||(s[g]=createCache()),_):isArray(_)?unrollValues(a,s[g]||(s[g]=createCache()),_,_.length):s[g]=null}c<s.length&&s.splice(c)};freeze(LighterHole);function LighterHole(a,s){this.type=a,this.template=s.shift(),this.values=s}const Hole=LighterHole,{render:render$1,html,svg}=createRender(Tagger);function tta(){let a=[],s=0,{length:d}=arguments;for(;s<d;)a.push(arguments[s++]);return a}const Free={name:"Free",layout:({props:a,children:s,size:d})=>s.reduce((c,g)=>{const{size:_={x:"100%",y:"100%"},position:b={x:0,y:0},opacity:$=1}=g.props;return{...c,[g.id]:{position:{x:b.x,y:b.y},size:{x:_.x,y:_.y},opacity:$}}},{})},Column={name:"Column",layout:({props:a={},children:s,size:d})=>{let{justify:c="center",align:g="center",cover:_=!1,margin:b={},dimensions:$=16/9,reverse:tt=!1}=a;const nt=_?0:Math.min(d.y/6,12);b={left:nt,right:nt,top:nt,bottom:nt,between:nt,...b};const ot=d.y-b.top-b.bottom,dt=d.x-b.left-b.right,ut=b.between*((s.length||1)-1),lt=Math.min(dt,(ot-ut)/(s.length||1)*$),Tt=lt/$;return html.node`
      <div style=${{height:"100%",width:_?d.x+"px":"auto",display:"flex",flexDirection:tt?"column-reverse":"column",justifyContent:c,alignItems:g,paddingLeft:b.left+"px",paddingTop:b.top+"px",paddingBottom:b.bottom+"px",paddingRight:b.right+"px"}}>
      ${s.map((yt,pt)=>html.node`<div data-node-id=${yt.id} .data=${{entryTransition:{delay:400+pt*100,offset:{x:0,y:"100%"},scale:{x:.8,y:.8},opacity:0},exitTransition:{offset:{x:0,y:1e3},scale:{x:.8,y:.8},opacity:0},borderRadius:_?0:5}} style=${{display:"flex",width:_?"100%":lt+"px",height:_?Tt+"px":"auto",aspectRatio:$,marginBottom:pt===s.length-1?0:b.between+"px",flexGrow:0,flexShrink:1,flexBasis:Tt+"px"}}></div>`)}
      </div>
    `}},Row={name:"Row",layout:({props:a={},children:s,size:d})=>{let{justify:c="center",align:g="center",cover:_=!1,margin:b={},dimensions:$=16/9,maxWidth:tt=1,reverse:nt=!1}=a;const ot=_?0:Math.min(d.y/6,12);b={left:ot,right:ot,top:ot,bottom:ot,between:ot,...b};const dt=d.y-b.top-b.bottom,ut=d.x-b.left-b.right,lt=b.between*((s.length||1)-1),Tt=Math.min((ut-lt)/(s.length||1),dt*$,tt*d.x),yt=Tt/$;return html.node`
      <div style=${{height:_?d.y+"px":"auto",width:"100%",display:"flex",flexDirection:nt?"row-reverse":"row",justifyContent:c,alignItems:g,paddingLeft:b.left+"px",paddingTop:b.top+"px",paddingBottom:b.bottom+"px",paddingRight:b.right+"px"}}>
          ${s.map((pt,vt)=>html.node`<div data-node-id=${pt.id} .data=${{entryTransition:{delay:400+vt*100,offset:{x:0,y:"100%"},scale:{x:.8,y:.8},opacity:0},exitTransition:{offset:{x:0,y:1e3},scale:{x:.8,y:.8},opacity:0},borderRadius:_?0:5}} style=${{display:"flex",height:_?"100%":yt+"px",width:Tt+"px",aspectRatio:$,marginRight:vt===s.length-1?0:b.between+"px",flexGrow:0,flexShrink:1,flexBasis:Tt+"px"}}></div>`)}
      </div>
    `}},toMatrix=(a,s)=>a.reduce((d,c,g)=>(g%s==0?d.push([g]):d[d.length-1].push(g))&&d,[]),Grid={name:"Grid",layout:({props:a={},children:s,size:d})=>{let{dimensions:c=16/9,numPerRow:g,margin:_,cover:b=!1,maxWidth:$}=a;const tt=s.length===0||b?0:Math.min(d.y/s.length/10,30);_=_!=null?_:tt;const nt=d.x<d.y;let ot=[];g?ot=toMatrix(s,g):ot=nt?getTallGrid(s.length):getWideGrid(s.length);const dt=(d.y-_)/ot.length,ut=d.x-_;return html.node`
    <div style=${{display:"flex",width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",paddingLeft:_+"px",paddingBottom:_+"px",flexGrow:0}}>${ot.map((lt,Tt)=>Row.layout({props:{justify:"center",dimensions:c,cover:b,maxWidth:$||1/(ot[0].length||1),margin:{top:_,right:_,left:0,bottom:0,between:_}},children:lt.map(yt=>s[yt]),size:{y:dt,x:ut}}))}</div>`}},Presentation={name:"Presentation",layout:({props:a={},children:s,size:d})=>{let{margin:c,cover:g=!1,barWidth:_=.2,barPosition:b="side",presentationDimensions:$=16/9,viewerDimensions:tt=16/9,justifyViewers:nt="center",useGrid:ot=!1,reverse:dt=!1}=a;const ut=b==="side"?d.x*_:d.y*_,lt=s[0],Tt=s.filter(Nt=>Nt!==lt),yt=s.length<=1?0:Math.min(d.x/80,30);if(c=c!=null?c:yt,!lt)return Grid.layout({props:a,children:s,size:d});const pt=s[1],vt={...d};pt&&(b==="side"?(vt.x=d.x-ut,vt.y=vt.x/$):(vt.y=d.y-ut,vt.x=vt.y*$));let it,ct={};ot?(it=Grid.layout,ct={cover:g,...g?{maxWidth:1}:{margin:c}}):(it=b==="side"?Column.layout:Row.layout,ct={margin:{top:c,left:c,bottom:c,right:c,between:c},dimensions:tt,justify:nt,align:"flex-end"});const mt=b==="side"?dt?"left":"right":dt?"top":"bottom";return html.node`
      <div style=${{display:"flex",flexDirection:(b==="side"?"row":"column")+(dt?"-reverse":""),justifyContent:"space-around",alignItems:"center",position:"relative",padding:g?0:c,[`padding-${mt}`]:0}}>
        ${s[0]&&html.node`<div style=${{width:vt.x,height:vt.y,display:"flex",flexGrow:1}}>
            <div data-node-id=${lt.id} .data=${{dimensions:$,borderRadius:g?0:5,entryTransition:{delay:0,offset:{x:0,y:1e3},scale:{x:.5,y:.5},opacity:0},exitTransition:{offset:{x:0,y:1e3},scale:{x:2,y:2},opacity:0}}} style=${{width:"100%",height:"100%",...g?{position:"absolute",top:0,left:0,width:ot&&pt?100-_*100+"%":"100%",height:"100%"}:{}}} />
          </div>`}
        ${html.node`<div style=${{...b==="side"?{maxWidth:_*100+"%",height:"100%"}:{maxHeight:_*100+"%",width:"100%"}}}>${pt&&it({props:ct,children:Tt,size:b==="side"?{x:ut,y:d.y}:{x:d.x,y:ut}})}</div>`}
      </div>
    `}},Layered={name:"Layered",layout:({props:a={},children:s,size:d})=>html.node`<div style=${{width:"100%",height:"100%",position:"relative"}}>
      ${s.map((c,g)=>html.node`<div data-node-id=${c.id} .data=${{zIndex:g+1}} style=${{position:"absolute",inset:"0px"}}></div>`)}
    </div>`},getWideGrid=(a=0)=>{switch(a){case 0:return[[]];case 1:return[[0]];case 2:return[[0,1]];case 3:return[[0,1],[2]];case 4:return[[0,1],[2,3]];case 5:return[[0,1,2],[3,4]];case 6:return[[0,1,2],[3,4,5]];case 7:return[[0,1,2],[3,4],[5,6]];case 8:return[[0,1,2],[3,4,5],[6,7]]}const s=Array(a).fill(null).map((d,c)=>c);return toMatrix(s,Math.round(Math.sqrt(a)))},getTallGrid=(a=0)=>{switch(a){case 0:return[[]];case 1:return[[0]];case 2:return[[0],[1]];case 3:return[[0,1],[2]];case 4:return[[0,1],[2,3]];case 5:return[[0,1],[2,3],[4]];case 6:return[[0,1],[2,3],[4,5]];case 7:return[[0,1],[2,3],[4,5],[6]];case 8:return[[0,1],[2,3],[4,5],[6,7]]}const s=Array(a).fill(null).map((d,c)=>c);return toMatrix(s,Math.ceil(Math.sqrt(s.length))-1)};var Layouts=Object.freeze(Object.defineProperty({__proto__:null,Free,Column,Row,Grid,Presentation,Layered},Symbol.toStringTag,{value:"Module"}));const updateMediaStreamTracks=(a,s)=>{const d={audio:a.getAudioTracks()[0],video:a.getVideoTracks()[0]};d.audio!==s.audio&&(d.audio&&a.removeTrack(d.audio),s.audio&&a.addTrack(s.audio)),d.video!==s.video&&(d.video&&a.removeTrack(d.video),s.video&&a.addTrack(s.video))},RoomParticipant={type:"RoomParticipant",valueType:MediaStream,props:{id:{},type:{},videoEnabled:{},audioEnabled:{}},init({addSource:a,removeSource:s,updateSource:d}){CoreContext.on("RoomJoined",({room:c})=>{let g={},_=[],b=[],$={};const tt=()=>{b.forEach(nt=>{const ot=$[nt.id],dt=$[nt.id+"-screen"],ut=nt.trackIds.find(it=>{const ct=c.getTrack(it);return(ct==null?void 0:ct.type)==="camera"}),lt=nt.trackIds.find(it=>{const ct=c.getTrack(it);return(ct==null?void 0:ct.type)==="microphone"}),Tt=nt.trackIds.find(it=>{const ct=c.getTrack(it);return(ct==null?void 0:ct.type)==="screen_share"}),yt=c.getTrack(ut),pt=c.getTrack(lt),vt=c.getTrack(Tt);updateMediaStreamTracks(ot,{video:yt==null?void 0:yt.mediaStreamTrack,audio:pt==null?void 0:pt.mediaStreamTrack}),updateMediaStreamTracks(dt,{video:vt==null?void 0:vt.mediaStreamTrack}),d(nt.id,{videoEnabled:Boolean(yt&&!yt.isMuted),audioEnabled:Boolean(pt&&!pt.isMuted),displayName:nt.displayName}),d(nt.id+"-screen",{videoEnabled:Boolean(vt&&!vt.isMuted),displayName:nt.meta.screenDisplayName||`${nt.displayName}'s Screen`})})};c.useTracks(nt=>{const ot=nt.filter(ut=>!_.some(lt=>lt.id===ut.id)),dt=_.filter(ut=>!nt.some(lt=>lt.id===ut.id));_=nt,tt(),ot.forEach(ut=>{const{mediaStreamTrack:lt,id:Tt,participantId:yt,type:pt}=c.getTrack(ut.id),vt={id:Tt,isActive:!0,value:lt,props:{trackId:Tt,participantId:yt,isMuted:ut.isMuted,type:pt}};lt&&(lt.kind,a(vt))}),dt.forEach(ut=>{var lt;s(ut.id),(lt=g[ut.id])==null||lt.call(g)})}),c.useParticipants(nt=>{const ot=nt.filter(ut=>!b.some(lt=>lt.id===ut.id)),dt=b.filter(ut=>!nt.some(lt=>lt.id===ut.id));b=nt,ot.forEach(ut=>{const{id:lt}=ut,Tt=new MediaStream([]),yt=new MediaStream([]);$[lt]=Tt,$[lt+"-screen"]=yt,a({id:lt,isActive:!0,value:Tt,props:{id:lt,type:"camera",displayName:ut.displayName||ut.id,audioEnabled:!1,videoEnabled:!1}}),a({id:lt+"-screen",isActive:!0,value:yt,props:{id:lt,type:"screen",displayName:ut.displayName||ut.id,audioEnabled:!1,videoEnabled:!1}})}),tt(),dt.forEach(ut=>{var lt;s(ut.id),(lt=g[ut.id])==null||lt.call(g)})})})}},Overlays={type:"Overlay",valueType:Object,props:{},init({addSource:a,removeSource:s,updateSource:d,getSource:c,modifySourceValue:g}){let _=[];const b=($=[])=>{const tt=$.filter(dt=>!_.some(ut=>ut.id===dt.id)),nt=_.filter(dt=>!$.some(ut=>ut.id===dt.id)),ot=$.filter(dt=>{const ut=_.find(lt=>lt.id===dt.id);return!fastDeepEqual(dt,ut)});tt.forEach(dt=>a({id:dt.id,value:{...dt.props},props:dt.props})),nt.forEach(dt=>s(dt.id)),ot.forEach(dt=>{d(dt.id,dt.props),g(dt.id,ut=>{Object.keys(dt.props).forEach(lt=>{ut[lt]=dt.props[lt]})})}),_=JSON.parse(JSON.stringify($))};CoreContext.on("ActiveProjectChanged",({projectId:$})=>{if(_=[],!$)return;const tt=getProject($);b(tt.props.overlays)}),CoreContext.on("ProjectChanged",({project:$})=>{b($.props.overlays)})}},Banner={type:"Banner",valueType:Object,props:{},init({addSource:a,removeSource:s,updateSource:d,getSource:c,modifySourceValue:g}){let _=[];const b=($=[])=>{const tt=$.filter(dt=>!_.some(ut=>ut.id===dt.id)),nt=_.filter(dt=>!$.some(ut=>ut.id===dt.id)),ot=$.filter(dt=>{const ut=_.find(lt=>lt.id===dt.id);return!fastDeepEqual(dt,ut)});tt.forEach(dt=>a({id:dt.id,value:{headerText:dt.props.headerText,bodyText:dt.props.bodyText},props:dt.props})),nt.forEach(dt=>s(dt.id)),ot.forEach(dt=>{d(dt.id,dt.props),g(dt.id,ut=>{ut.headerText=dt.props.headerText,ut.bodyText=dt.props.bodyText})}),_=$};CoreContext.on("ActiveProjectChanged",({projectId:$})=>{var nt,ot;if(_=[],!$)return;const tt=getProject($);b((ot=(nt=tt.props)==null?void 0:nt.banners)!=null?ot:[])}),CoreContext.on("ProjectChanged",({project:$})=>{var tt,nt;b((nt=(tt=$.props)==null?void 0:tt.banners)!=null?nt:[])})}},Background={type:"Background",valueType:Object,props:{},init({addSource:a,removeSource:s,updateSource:d,getSource:c,modifySourceValue:g}){let _;const b=$=>{if(!$)return;const tt=(_==null?void 0:_.id)!==($==null?void 0:$.id)?$:null,nt=fastDeepEqual($,_)?null:$;tt&&(a({id:tt==null?void 0:tt.id,value:{...tt==null?void 0:tt.props},props:tt==null?void 0:tt.props}),s(_==null?void 0:_.id)),nt&&(d(nt==null?void 0:nt.id,nt==null?void 0:nt.props),g(nt==null?void 0:nt.id,ot=>{Object.keys(nt==null?void 0:nt.props).forEach(dt=>{ot[dt]=nt==null?void 0:nt.props[dt]})})),_=JSON.parse(JSON.stringify($))};CoreContext.on("ActiveProjectChanged",({projectId:$})=>{if(_=null,!$)return;const tt=getProject($);b(tt.props.background)}),CoreContext.on("ProjectChanged",({project:$})=>{b($.props.background)})}},Logo={type:"Logo",valueType:Object,props:{},init({addSource:a,removeSource:s,updateSource:d,getSource:c,modifySourceValue:g}){let _;const b=$=>{if(!$){_&&(s(_==null?void 0:_.id),_=null);return}const tt=(_==null?void 0:_.id)!==($==null?void 0:$.id)?$:null,nt=fastDeepEqual($,_)?null:$;tt&&(a({id:tt==null?void 0:tt.id,value:{...tt==null?void 0:tt.props},props:tt==null?void 0:tt.props}),s(_==null?void 0:_.id)),nt&&(d(nt==null?void 0:nt.id,nt==null?void 0:nt.props),g(nt==null?void 0:nt.id,ot=>{Object.keys(nt==null?void 0:nt.props).forEach(dt=>{ot[dt]=nt==null?void 0:nt.props[dt]})})),_=JSON.parse(JSON.stringify($))};CoreContext.on("ActiveProjectChanged",({projectId:$})=>{if(_=null,!$)return;const tt=getProject($);b(tt.props.logo)}),CoreContext.on("ProjectChanged",({project:$})=>{b($.props.logo)})}};var Sources=Object.freeze(Object.defineProperty({__proto__:null,RoomParticipant,Overlays,Banner,Background,Logo},Symbol.toStringTag,{value:"Module"}));const{state}=CoreContext;subscribeInternal(async(a,s)=>{var d,c,g,_,b,$;switch(a){case"UserChanged":{const{metadata:tt}=s;state.user.metadata=tt||{},state.user.props=(tt==null?void 0:tt.props)||{},trigger$1("UserChanged",{user:getBaseUser()});return}case"ActiveProjectChanged":{const{projectId:tt}=s;state.activeProjectId=tt,trigger$1("ActiveProjectChanged",{projectId:tt});return}case"ProjectAdded":{const nt=await hydrateProject(s,"ROLE_HOST"),ot=toBaseProject(nt);state.projects=[...state.projects,nt],trigger$1("ProjectAdded",{project:ot});return}case"ProjectRemoved":{const{projectId:tt}=s;state.projects=state.projects.filter(nt=>nt.id!==tt),trigger$1("ProjectRemoved",{projectId:tt});return}case"ProjectChanged":{const{project:tt,phase:nt,broadcastId:ot}=s,dt=getProject(tt.projectId);if(!dt)return;nt&&(dt.videoApi.phase=nt),typeof ot!="undefined"&&(dt.videoApi.broadcastId=ot);const ut=(d=tt.metadata)==null?void 0:d.layoutId;ut!==dt.layoutApi.layoutId&&(dt.layoutApi.layoutId=(c=tt.metadata)==null?void 0:c.layoutId,dt.compositor=await layoutToProject(ut)),dt.videoApi.project=tt,dt.props=(_=(g=tt.metadata)==null?void 0:g.props)!=null?_:{},trigger$1("ProjectChanged",{project:toBaseProject(dt)});return}case"DestinationAdded":{const{projectId:tt}=s,nt=getProject(tt);if(!nt)return;nt.videoApi.project.destinations.push(s),trigger$1("DestinationAdded",{projectId:tt,destination:toBaseDestination(s)});return}case"DestinationRemoved":{const{projectId:tt,destinationId:nt}=s,ot=getProject(tt);if(!ot)return;ot.videoApi.project.destinations=ot.videoApi.project.destinations.filter(dt=>dt.destinationId!==nt),trigger$1("DestinationRemoved",{projectId:tt,destinationId:nt});return}case"DestinationChanged":{const tt=s,{projectId:nt,destinationId:ot}=tt,dt=getProject(nt);if(!dt)return;const ut=dt.videoApi.project.destinations.find(lt=>lt.destinationId===ot);if(!ut)return;Object.assign(ut,tt),trigger$1("DestinationChanged",{projectId:nt,destination:toBaseDestination(ut)});return}case"SourceAdded":return;case"SourceRemoved":return;case"SourceUpdated":return;case"NodeAdded":return;case"NodeRemoved":return;case"NodeUpdated":return;case"BackgroundMetadataUpdate":{const{Command:tt}=CoreContext,{projectId:nt,metadata:ot,sourceId:dt,doTrigger:ut,role:lt}=s;if(lt==="ROLE_HOST"||lt==="ROLE_COHOST"){const Tt=getProject(nt);if(!Tt||Tt.props.background.id!==dt)return;let yt=(b=Tt==null?void 0:Tt.props)==null?void 0:b.background;yt&&(yt={...yt,props:{...yt.props,meta:{...yt.props.meta,...ot}}},ut?tt.updateProjectProps({projectId:nt,props:{background:yt}}):tt.updateProjectPropsWithoutTrigger({projectId:nt,props:{background:yt}}))}return}case"OverlayMetadataUpdate":{const{Command:tt}=CoreContext,{projectId:nt,metadata:ot,sourceId:dt,doTrigger:ut,role:lt}=s;if(lt==="ROLE_HOST"||lt==="ROLE_COHOST"){const Tt=getProject(nt);if(!Tt)return;let yt=Tt.props.overlays.find(pt=>pt.id===dt);if(yt){yt={...yt,props:{...yt.props,meta:{...yt.props.meta,...ot}}};const pt=Tt.props.overlays.findIndex(vt=>vt.id===dt);if(pt>-1){const vt=JSON.parse(JSON.stringify(($=Tt==null?void 0:Tt.props)==null?void 0:$.overlays));vt.splice(pt,1,yt),ut?tt.updateProjectProps({projectId:nt,props:{overlays:vt}}):tt.updateProjectPropsWithoutTrigger({projectId:nt,props:{overlays:vt}})}}}return}}});subscribeInternal(()=>log$1.debug({nextState:{...state}}));var functionExpression=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,floatExpression=/^(\-?\d+\.?\d{0,5})/,toFloat=parseFloat;function ensurePercent(a){return typeof a=="number"?a:toFloat(a)*.01}function formatPercent(a){return formatFloat(a*100)+"%"}function formatFloat(a){return floatExpression.exec(a.toString())[1]}function parseCSSFunction(a){var s=functionExpression.exec(a);if(!(!s||!s.length))return[s[1]].concat(s[2].split(","))}function cssFunction(a,s){var d=Array.prototype.join.call(s,", ");return a+"("+d+")"}var math=Math,round=math.round;function roundFloat(a,s){return round(a*s)/s}var _a,RGB="rgb",HSL="hsl",converters=(_a={},_a[RGB+HSL]=RGBtoHSL,_a[HSL+RGB]=HSLtoRGB,_a),maxChannelValues={r:255,g:255,b:255,h:360,s:1,l:1,a:1};function color(a){return parseHexCode(a)||parseColorFunction(a)||rgb(255,0,0)}function rgb(a,s,d,c){return new ColorHelper(RGB,a,s,d,c===void 0?1:ensurePercent(c),c!==void 0)}function convertHelper(a,s,d){var c=s.f,g=s.r,_=s.g,b=s.b,$=s.a,tt=d===void 0?s.o:d;return c!==a?converters[c+a](g,_,b,$,tt):d===void 0?s:new ColorHelper(c,g,_,b,$,tt)}var ColorHelper=function(){function a(s,d,c,g,_,b){var $=this;$.f=s,$.o=b;var tt=s===HSL;$.r=clampColor(tt?"h":"r",d),$.g=clampColor(tt?"s":"g",c),$.b=clampColor(tt?"l":"b",g),$.a=clampColor("a",_)}return a.prototype.toString=function(){var s=this,d=s.o,c=s.f,g=s.r,_=s.g,b=s.b,$=s.a,tt,nt;if(c===RGB)tt=d?"rgba":RGB,nt=[round(g),round(_),round(b)];else if(c===HSL)tt=d?"hsla":HSL,nt=[round(g),formatPercent(roundFloat(_,100)),formatPercent(roundFloat(b,100))];else throw new Error("Invalid color format");return d&&nt.push(formatFloat(roundFloat($,1e5))),cssFunction(tt,nt)},a.prototype.toHexString=function(){var s=convertHelper(RGB,this);return"#"+(toHex(s.r)+toHex(s.g)+toHex(s.b)).toUpperCase()},a.prototype.toHSL=function(){return convertHelper(HSL,this,!1)},a.prototype.toHSLA=function(){return convertHelper(HSL,this,!0)},a.prototype.toRGB=function(){return convertHelper(RGB,this,!1)},a.prototype.toRGBA=function(){return convertHelper(RGB,this,!0)},a.prototype.red=function(){var s=this;return(s.f===RGB?s:s.toRGB()).r},a.prototype.green=function(){var s=this;return(s.f===RGB?s:s.toRGB()).g},a.prototype.blue=function(){var s=this;return(s.f===RGB?s:s.toRGB()).b},a.prototype.hue=function(){var s=this;return(s.f===HSL?s:s.toHSL()).r},a.prototype.saturation=function(){var s=this;return(s.f===HSL?s:s.toHSL()).g},a.prototype.lightness=function(){var s=this;return(s.f===HSL?s:s.toHSL()).b},a.prototype.alpha=function(){return this.a},a.prototype.opacity=function(){return this.a},a.prototype.invert=function(){var s=this,d=convertHelper(RGB,s);return convertHelper(s.f,new a(RGB,255-d.r,255-d.g,255-d.b,s.a,s.o))},a.prototype.lighten=function(s,d){var c=this,g=convertHelper(HSL,c),_=maxChannelValues.l,b=g.b+(d?_-g.b:_)*ensurePercent(s);return convertHelper(c.f,new a(HSL,g.r,g.g,b,c.a,c.o))},a.prototype.darken=function(s,d){var c=this,g=convertHelper(HSL,c),_=g.b-(d?g.b:maxChannelValues.l)*ensurePercent(s);return convertHelper(c.f,new a(HSL,g.r,g.g,_,c.a,c.o))},a.prototype.saturate=function(s,d){var c=this,g=convertHelper(HSL,c),_=maxChannelValues.s,b=g.g+(d?_-g.g:_)*ensurePercent(s);return convertHelper(c.f,new a(HSL,g.r,b,g.b,c.a,c.o))},a.prototype.desaturate=function(s,d){var c=this,g=convertHelper(HSL,c),_=maxChannelValues.s,b=g.g-(d?g.g:_)*ensurePercent(s);return convertHelper(c.f,new a(HSL,g.r,b,g.b,c.a,c.o))},a.prototype.grayscale=function(){return this.desaturate(1)},a.prototype.fade=function(s){var d=this,c=clampColor("a",ensurePercent(s));return convertHelper(d.f,new a(d.f,d.r,d.g,d.b,c,!0))},a.prototype.fadeOut=function(s,d){var c=this,g=1,_=clampColor("a",c.a-(d?c.a:g)*ensurePercent(s));return convertHelper(c.f,new a(c.f,c.r,c.g,c.b,_,!0))},a.prototype.fadeIn=function(s,d){var c=this,g=1,_=clampColor("a",c.a+(d?c.a:g)*ensurePercent(s));return convertHelper(c.f,new a(c.f,c.r,c.g,c.b,_,!0))},a.prototype.mix=function(s,d){var c=this,g=ensureColor(s),_=convertHelper(RGB,c),b=convertHelper(RGB,g),$=d===void 0?.5:d,tt=2*$-1,nt=Math.abs(_.a-b.a),ot=((tt*nt===-1?tt:(tt+nt)/(1+tt*nt))+1)/2,dt=1-ot,ut=new a(RGB,round(_.r*ot+b.r*dt),round(_.g*ot+b.g*dt),round(_.b*ot+b.b*dt),_.a*$+b.a*(1-$),c.o||g.o);return convertHelper(this.f,ut)},a.prototype.tint=function(s){return rgb(255,255,255).mix(this,s)},a.prototype.shade=function(s){return rgb(0,0,0).mix(this,s)},a.prototype.spin=function(s){var d=this,c=convertHelper(HSL,d);return convertHelper(d.f,new a(HSL,modDegrees(c.r+s),c.g,c.b,d.a,d.o))},a}();function toHex(a){var s=round(a);return(s<16?"0":"")+s.toString(16)}function modDegrees(a){return((a<0?360:0)+a%360)%360}function RGBtoHSL(a,s,d,c,g){var _=a/255,b=s/255,$=d/255,tt=Math.min(_,b,$),nt=Math.max(_,b,$),ot=(tt+nt)/2,dt=nt-tt,ut;nt===tt?ut=0:_===nt?ut=(b-$)/dt:b===nt?ut=2+($-_)/dt:$===nt?ut=4+(_-b)/dt:ut=0,ut=Math.min(ut*60,360),ut<0&&(ut+=360);var lt;return nt===tt?lt=0:ot<=.5?lt=dt/(nt+tt):lt=dt/(2-nt-tt),new ColorHelper(HSL,ut,lt,ot,c,g)}function HSLtoRGB(a,s,d,c,g){var _=a/360,b=s,$=d;if(b===0){var tt=$*255;return new ColorHelper(RGB,tt,tt,tt,c,g)}for(var nt=$<.5?$*(1+b):$+b-$*b,ot=2*$-nt,dt=0,ut=0,lt=0,Tt=0;Tt<3;Tt++){var yt=_+.3333333333333333*-(Tt-1);yt<0&&yt++,yt>1&&yt--;var tt=void 0;6*yt<1?tt=ot+(nt-ot)*6*yt:2*yt<1?tt=nt:3*yt<2?tt=ot+(nt-ot)*(2/3-yt)*6:tt=ot,tt*=255,Tt===0?dt=tt:Tt===1?ut=tt:lt=tt}return new ColorHelper(RGB,dt,ut,lt,c,g)}function clampColor(a,s){var d=0,c=maxChannelValues[a];return s<d?d:s>c?c:s}function ensureColor(a){return a instanceof ColorHelper?a:color(a)}function parseHexCode(a){var s=a.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(!!s){var d=s[1],c=parseInt(d.length===3?d[0]+d[0]+d[1]+d[1]+d[2]+d[2]:d,16),g=c>>16&255,_=c>>8&255,b=c&255;return new ColorHelper(RGB,g,_,b,1,!1)}}function parseColorFunction(a){var s=parseCSSFunction(a);if(!(!s||!(s.length===4||s.length===5))){var d=s[0],c=d==="rgba",g=d==="hsla",_=d===RGB,b=d===HSL,$=g||c,tt;if(_||c)tt=RGB;else if(b||g)tt=HSL;else throw new Error("unsupported color string");var nt=toFloat(s[1]),ot=_||c?toFloat(s[2]):ensurePercent(s[2]),dt=_||c?toFloat(s[3]):ensurePercent(s[3]),ut=$?toFloat(s[4]):1;return new ColorHelper(tt,nt,ot,dt,ut,$)}}const dragImageSvg=`
  <svg height="75" width="120" viewBox="0 0 120 75" xmlns="http://www.w3.org/2000/svg" style="">
    <rect width="120" height="75" rx="3" style="
      opacity: 0.4;
      stroke: white;
      stroke-width: 3px;
      stroke-opacity: 0.7;
    "/>
  </svg>`;let dragImage;const loadDragImage=()=>dragImage||(dragImage=new Image,dragImage.src=URL.createObjectURL(new Blob([dragImageSvg],{type:"image/svg+xml"})),dragImage);class ErrorBoundary extends React.Component{constructor(s){super(s),this.state={error:null}}componentDidCatch(s,d){log$1.warn(s,d)}static getDerivedStateFromError(){return{error:!0}}render(){return this.state.error?null:this.props.children}}const onDrop=async(a,s)=>{s.preventDefault(),s.stopPropagation();const{dropNodeId:d,dropType:c,project:g}=a,_=s.dataTransfer.getData("text/plain");if(log$1.debug("Compositor: Dropping",{dropType:c,dragNodeId:_,dropNodeId:d}),d===_)return;const[b,$,tt,nt]=await Promise.all([g.compositor.get(_),g.compositor.get(d),g.compositor.getParent(_),g.compositor.getParent(d)]);if(c==="layout")return tt.id===d?void 0:CoreContext.Command.moveNode({projectId:g.id,nodeId:b.id,parentId:$.id});if(tt.id!==(nt==null?void 0:nt.id))return CoreContext.Command.swapNodes({projectId:g.id,nodeAId:b.id,nodeBId:$.id});const ot=tt.children.map(dt=>dt.id);return CoreContext.Command.reorderNodes({projectId:g.id,parentId:tt.id,childIds:swapItems(b.id,$.id,ot)})};let foundDropTarget=!1;const ElementTree=a=>{var ct,mt,Nt;const s=react.exports.useRef(!1),d=react.exports.useRef(),c=react.exports.useRef(),g=react.exports.useRef(),{project:_,interactive:b=!0,onElementDoubleClick:$,checkIsDragTarget:tt,checkIsDropTarget:nt}=react.exports.useContext(CompositorContext),{nodeId:ot}=a,dt=_.compositor.get(ot);if(!dt)return null;const ut=CoreContext.compositor.getElement(dt),lt=dt.props.layout||"Row",Tt=b&&tt(dt),yt=b&&nt(dt);let pt=yt?{onDrop:Ot=>(foundDropTarget=!0,onDrop({dropType:"layout",dropNodeId:dt.id,project:_},Ot)),onDragOver:Ot=>{var At;Ot.preventDefault(),Ot.stopPropagation(),(At=g.current)==null||At.toggleAttribute("data-layout-drop-target-active",!0)},onDragLeave:Ot=>{var At;Ot.preventDefault(),Ot.stopPropagation(),(At=g.current)==null||At.toggleAttribute("data-layout-drop-target-active",!1)}}:{},vt=Tt?{draggable:!0,ondrop:Ot=>(foundDropTarget=!0,onDrop({dropType:"transform",dropNodeId:dt.id,project:_},Ot)),ondragstart:Ot=>{var At;s.current=!0,wrapperEl.toggleAttribute("data-dragging",!0),log$1.debug("Compositor: Dragging",dt.id),foundDropTarget=!1,Ot.dataTransfer.setData("text/plain",dt.id),Ot.dataTransfer.dropEffect="move",Ot.dataTransfer.setDragImage(dragImage,10,10),(At=g.current)==null||At.toggleAttribute("data-drag-target-active",!0),window.__dragging=!0},ondragend:Ot=>{var At;s.current=!1,foundDropTarget||(log$1.info("Compositor: No drop target - deleting node",dt),CoreContext.Command.deleteNode({nodeId:dt.id})),wrapperEl.toggleAttribute("data-dragging",!0),log$1.debug("Compositor: DragEnd",Ot),(At=g.current)==null||At.toggleAttribute("data-drag-target-active",!1),wrapperEl.querySelectorAll("[data-item]").forEach(Pt=>{Pt.toggleAttribute("data-drag-target-active",!1),Pt.toggleAttribute("data-layout-drop-target-active",!1),Pt.toggleAttribute("data-transform-drop-target-active",!1)}),window.__dragging=!1},ondragover:Ot=>{var At;Ot.preventDefault(),Ot.stopPropagation(),!s.current&&((At=g.current)==null||At.toggleAttribute("data-transform-drop-target-active",!0))},ondragleave:Ot=>{var At;Ot.preventDefault(),Ot.stopPropagation(),(At=g.current)==null||At.toggleAttribute("data-transform-drop-target-active",!1)}}:{};react.exports.useEffect(()=>{c.current&&ut&&(c.current.appendChild(ut.root),Object.assign(c.current.style,{width:"100%",height:"100%",position:"relative",overflow:"hidden"}),Object.assign(ut.root.style,{pointerEvents:Tt?"all":"none",width:"100%",height:"100%",position:"relative",...dt.props.style||{}}))},[c.current,ut]),react.exports.useEffect(()=>{const Ot=Tt?()=>$(dt):()=>{};return d.current&&(Object.assign(d.current,vt),Object.assign(d.current.style,{pointerEvents:Tt?"all":"none"}),d.current.addEventListener("dblclick",Ot)),()=>{var At;(At=d.current)==null||At.removeEventListener("dblclick",Ot)}},[d.current]);const it={layout:lt,...(ct=dt.props.layoutProps)!=null?ct:{}};return React.createElement("div",{ref:g,"data-id":dt.id+"-x","data-item":!0,...Tt&&{"data-drag-target":!0},...yt&&{"data-drop-target":!0},...pt,style:{position:"relative",width:((mt=dt.props.size)==null?void 0:mt.x)||"100%",height:((Nt=dt.props.size)==null?void 0:Nt.y)||"100%",pointerEvents:"none"}},React.createElement("div",{className:"interactive-overlay",ref:d,style:{height:"100%",width:"100%",position:"absolute",zIndex:2}}),React.createElement("div",{className:"item-element",style:{display:"flex",flex:"0 0 auto",justifyContent:"center",width:"100%",height:"100%"}},React.createElement("div",{ref:c}),React.createElement(ErrorBoundary,null,React.createElement("ls-layout",{"data-id":dt.id+"-x",props:JSON.stringify(it),layout:lt},dt.children.map(Ot=>React.createElement(ElementTree,{key:Ot.id,nodeId:Ot.id}))))))},Root=a=>{const{project:s}=react.exports.useContext(CompositorContext),[d,c]=react.exports.useState(null);return react.exports.useEffect(()=>(c(s.compositor.renderTree()),CoreContext.onInternal("NodeChanged",()=>{c(s.compositor.renderTree())})),[]),react.exports.useEffect(()=>{const g=s.compositor.getRoot(),{x:_}=g.props.size,b=()=>{var lt,Tt,yt,pt,vt,it;const{bannerStyle:$=BannerStyle.DEFAULT,primaryColor:tt="#ABABAB",showNameBanners:nt}=(lt=s.props)!=null?lt:{},ot=(it=(vt=(Tt=s.props)==null?void 0:Tt.logoPosition)!=null?vt:(pt=(yt=s.props)==null?void 0:yt.logo)==null?void 0:pt.logoPosition)!=null?it:LogoPosition.TopRight;if(!$||!tt||!ot)return;const dt=themes[$](tt,nt,_/1920),ut=themes[ot](_/1920);a.setStyle(`${dt} ${ut}`||"")};return b(),CoreContext.onInternal("ProjectChanged",b)},[s]),d?React.createElement("div",{onDrop:g=>{foundDropTarget=!0,g.preventDefault()},onDragOver:g=>{g.preventDefault()},onDragLeave:g=>{g.preventDefault()},style:{userSelect:"none",width:`${d.props.size.x+PADDING*2}px`,height:`${d.props.size.y+PADDING*2}px`,margin:PADDING+"px"}},React.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},React.createElement(ElementTree,{nodeId:d.id}))):null};let wrapperEl,customStyleEl;const PADDING=0,render=a=>{const{containerEl:s,projectId:d,dragAndDrop:c=!1,dblClickShowcase:g=c,checkDragTarget:_=scenelessProjectDragCheck,checkDropTarget:b=scenelessProjectDropCheck}=a,$=getProject(d);CoreContext.clients.LayoutApi().subscribeToLayout($.layoutApi.layoutId),loadDragImage();const tt=a.onElementDoubleClick||g&&scenelessProjectDoubleClick($);if(!s||!$)return;if(!s.shadowRoot){s.attachShadow({mode:"open"}),customStyleEl=document.createElement("style");const Tt=document.createElement("style");Tt.textContent=getStyle(),wrapperEl=document.createElement("div"),wrapperEl.id="compositor-root",Object.assign(wrapperEl.style,{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",transformOrigin:"center"}),s.shadowRoot.appendChild(Tt),s.shadowRoot.appendChild(customStyleEl),s.shadowRoot.appendChild(wrapperEl),new ResizeObserver(pt=>{ut()}).observe(s)}const nt=$.compositor.getRoot(),{x:ot,y:dt}=nt.props.size,ut=()=>{let{width:Tt,height:yt}=s.getBoundingClientRect();const pt=Tt/yt,vt=ot/dt;let it;Tt&&yt?vt>pt?it=Tt/(ot+PADDING*2):it=yt/(dt+PADDING*2):it=1,wrapperEl.style.willChange="transform",wrapperEl.style.transform=`scale(${it}) translateZ(0)`,window.__scale=it,lt()},lt=()=>{ReactDOM.render(React.createElement(CompositorProvider,{project:$,interactive:c,onElementDoubleClick:tt,checkIsDropTarget:b,checkIsDragTarget:_},React.createElement(Root,{setStyle:Tt=>{customStyleEl.textContent=Tt}})),wrapperEl)};ut()},scenelessProjectDragCheck=a=>a.props.name==="Participant"||a.props.sourceType==="RoomParticipant",scenelessProjectDropCheck=a=>a.props.name==="Content",scenelessProjectDoubleClick=a=>s=>{var c;const d=a.compositor.nodes.find(g=>g.props.name==="Content");if(d){const g=(c=d.props.layoutProps)==null?void 0:c.showcase;CoreContext.Command.updateNode({nodeId:d.id,props:{layoutProps:{...d.props.layoutProps,showcase:g===s.id?null:s.id}}})}},CompositorContext=React.createContext({interactive:!1,project:null,checkIsDragTarget:()=>!1,checkIsDropTarget:()=>!1,onElementDoubleClick:()=>{}}),CompositorProvider=({children:a,...s})=>React.createElement(CompositorContext.Provider,{value:{...s}},a),getStyle=()=>`
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Arial';
}

video {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.NameBanner {
  top: 100%;
  transform: translateY(-100%);
  left: 0;
  height: 30px;
  background: linear-gradient(90deg, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0) 100%);
  padding: 0px 0px 0px 10px;
  color: rgba(255, 255, 255, 0.9);
  font-weight: bold;
  line-height: 30px;
  width: 100%;
  font-size: 28px;
  position: absolute;
}

ls-layout[layout="Presentation"][props*="\\"cover\\"\\:true"] > :first-child .NameBanner {
  top: 0% !important;
  transform: translateY(0%) !important;
}

[layout="Layered"] > [data-item] {
  transform: scale(1.003) !important;
}
[layout="Layered"] > [data-item]:nth-child(2) {
  transform: scale(1.0015) !important;
}
[layout="Layered"] > [data-item]:nth-child(1) {
  transform: scale(1) !important;
}

.logo {
  position: absolute !important;
}

#compositor-root[data-dragging] {}

[data-drag-target] {}
[data-drag-target]:hover > .interactive-overlay {
  box-shadow: 0 0 0 3px inset rgba(255, 255, 255, 0.5);
  cursor: grab;
}
[data-drop-target] {}
[data-drop-target]:hover {}
[data-drag-target][data-drag-target-active] > .interactive-overlay {
  box-shadow: 0 0 0 3px inset rgba(255, 255, 255, 0.2);
}
[data-drag-target][data-drag-target-active] > .item-element {
  opacity: 0.8;
}
[data-layout-drop-target-active] > .interactive-overlay {
  box-shadow: 0 0 0 3px inset yellow;
}
[data-transform-drop-target-active] > .interactive-overlay {
  box-shadow: 0 0 0 3px inset white;
}
`;var LogoPosition=(a=>(a.TopLeft="top-left",a.TopRight="top-right",a.BottomLeft="bottom-left",a.BottomRight="bottom-right",a))(LogoPosition||{}),BannerStyle=(a=>(a.DEFAULT="default",a.MINIMAL="minimal",a.BUBBLE="bubble",a))(BannerStyle||{});const themes={["top-left"]:(a=1280/1920)=>{const s=d=>d*a+"px";return`
      .wrapper {
       height: ${s(135)};
       width: ${s(240)};
       margin-top:${s(40)} !important;
       margin-left:${s(40)} !important;
       top:0;
       left:0;
    }`},["top-right"]:(a=1280/1920)=>{const s=d=>d*a+"px";return`
      .wrapper {
       height: ${s(135)};
       width: ${s(240)};
       margin-top:${s(40)} !important;
       margin-right:${s(40)} !important;
       top:0;
       right:0;
    }`},["bottom-left"]:(a=1280/1920)=>{const s=d=>d*a+"px";return`
      .wrapper {
       height: ${s(135)};
       width: ${s(240)};
       margin-bottom:${s(40)} !important;
       margin-left:${s(40)} !important;
       bottom:0;
       left:0;
    }`},["bottom-right"]:(a=1280/1920)=>{const s=d=>d*a+"px";return`
      .wrapper {
       height: ${s(135)};
       width: ${s(240)};
       margin-bottom:${s(40)} !important;
       margin-right:${s(40)} !important;
       bottom:0;
       right:0;
    }`},default:(a="#ABABAB",s=!0,d=1280/1920)=>{const c=color(a).lightness()<.6?"#FFF":"#000",g=_=>_*d+"px";return`
      .Banner, .NameBanner {
        background: ${a} !important;
        margin-bottom: ${g(40)} !important;
        transition: 300ms ease all;
        left: 0;

        /* Default Size 4 */
        font-size: ${g(44)} !important;
        padding: ${g(40)} ${g(100)} !important;
        border-top-right-radius: ${g(20)} !important;
        border-bottom-right-radius: ${g(20)} !important;
      }
      .Banner-body, .NameBanner-body {
        color: ${c} !important;
        font-family: 'Roboto' !important;
        font-style: normal !important;
        font-weight: 700 !important;
        line-height: 120% !important;
        font-size: ${g(36)}
      }
      .NameBanner {
        transform-origin: 0 100%;
        margin: 0 !important;
        transform: translateX(-100%);
        opacity: 0 !important;
        white-space: nowrap;
        ${s&&`
          opacity: 1 !important;
          transform: translateX(0);
        `}
      }

      .NameBanner[data-size="4"] {
        padding: ${g(40)} ${g(100)} !important;
        font-size: ${g(44)} !important;
        border-top-right-radius: ${g(20)} !important;
        border-bottom-right-radius: ${g(20)} !important;
      }
      .NameBanner[data-size="3"] {
        padding: ${g(12)} ${g(30)} !important;
        font-size: ${g(44)} !important;
        border-top-right-radius: ${g(20)} !important;
        border-bottom-right-radius: ${g(20)} !important;
      }
      .NameBanner[data-size="2"] {
        padding: ${g(12)} ${g(20)} !important;
        font-size: ${g(28)} !important;
        border-top-right-radius: ${g(16)} !important;
        border-bottom-right-radius: ${g(16)} !important;
      }
      .NameBanner[data-size="1"], .NameBanner[data-size="0"] {
        padding: ${g(8)} ${g(8)} !important;
        font-size: ${g(20)} !important;
        border-top-right-radius: ${g(8)} !important;
        border-bottom-right-radius: ${g(8)} !important;
      }
      .NameBanner[data-size="0"] {
        opacity: 0;
        transform: translateX(-100%);
      }
    `},minimal:(a="#ABABAB",s=!0,d=1280/1920)=>{const c="white",g=_=>_*d+"px";return`
    .Banner, .NameBanner {
        background: ${color(a).fade(color(a).alpha()*.7).toString()} !important;
        padding: ${g(40)} ${g(40)} ${g(40)} ${g(60)} !important;
        position: relative !important;
        margin-bottom: ${g(40)} !important;
        transition: 300ms ease all;
        font-size: ${g(34)} !important;
        left: 0;
      }
      .Banner:before, .NameBanner:before {
        z-index: 1;
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        transition: 300ms ease all;
        opacity: ${color(a).alpha()};
      }
      .Banner:after, .NameBanner:after {
        z-index: 1;
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        transition: 300ms ease all;
        width: ${g(20)};
        background: ${color(a)};
        opacity: ${color(a).alpha()};
      }
      .Banner-body, .NameBanner-body {
        color: ${c} !important;
        font-family: 'Roboto' !important;
        font-style: normal !important;
        font-weight: 700 !important;
        line-height: 120% !important;
        font-size: ${g(36)}
        position: relative;
        z-index: 2;
      }
      .Banner-header {
        font-size: ${g(90)}
        position: relative;
        z-index: 2;
      }
      .NameBanner {
        transform-origin: 0 100%;
        margin: 0 !important;
        transform: translateX(-100%);
        opacity: 0 !important;
        white-space: nowrap;
        ${s&&`
          opacity: 1 !important;
          transform: translateX(0);
        `}
      }

      .NameBanner[data-size="4"] {
        padding: ${g(40)} ${g(40)} ${g(40)} ${g(40+20)} !important;
        font-size: ${g(34)} !important;
      }
      .NameBanner[data-size="3"] {
        padding: ${g(16)} ${g(40)} ${g(16)} ${g(40+20)} !important;
        font-size: ${g(34)} !important;
      }
      .NameBanner[data-size="2"] {
        padding: ${g(12)} ${g(24)} ${g(12)} ${g(24+20)} !important;
        font-size: ${g(24)} !important;
      }
      .NameBanner[data-size="1"], .NameBanner[data-size="0"] {
        padding: ${g(12)} ${g(16)} ${g(12)} ${g(16+20)} !important;
        font-size: ${g(18)} !important;
      }
      .NameBanner[data-size="0"] {
        opacity: 0 !important;
        transform: translateX(-100%);
      }
    `},bubble:(a="#ABABAB",s=!0,d=1280/1920)=>{const c=color(a).lightness()<.6?"#FFF":"#000",g=_=>_*d+"px";return`
      .Banner {
        transform: translateX(-50%);
        left: 50%;
        margin-bottom: ${g(40)} !important;
      }

      .Banner, .NameBanner {
        background: ${color(a)} !important;
        color: ${c} !important;
        border-radius: 500px !important;
        transition: 300ms ease all;

        /* Default Style */
        border: 4px solid ${c} !important;
        padding: ${g(40)} ${g(80)} !important;
        font-size: ${g(40)} !important;
      }
      .Banner-body, .NameBanner-body {
        color: ${c} !important;
        text-align: center !important;
        font-family: 'Roboto' !important;
        font-style: normal !important;
        font-weight: 700 !important;
        line-height: 120% !important;
        font-size: ${g(36)}
      }
      .NameBanner {
        transform-origin: 0% 100%;
        transform: translateX(-100%);
        opacity: 0 !important;
        white-space: nowrap;
        ${s&&`
          opacity: 1 !important;
          transform: translateX(0);
        `}
      }

      .NameBanner[data-size="4"] {
        padding: ${g(40)} ${g(80)} ${g(40)} ${g(80)} !important;
        font-size: ${g(40)} !important;
      }
      .NameBanner[data-size="3"] {
        padding: ${g(12)} ${g(30)} ${g(12)} ${g(30)} !important;
        font-size: ${g(40)} !important;
        margin: -${g(20)} ${g(20)};
      }
      .NameBanner[data-size="2"] {
        padding: ${g(12)} ${g(30)} ${g(12)} ${g(30)} !important;
        font-size: ${g(26)} !important;
        margin: -${g(8)} ${g(8)};
      }
      .NameBanner[data-size="1"], .NameBanner[data-size="0"] {
        padding: ${g(8)} ${g(16)} ${g(8)} ${g(16)} !important;
        font-size: ${g(18)} !important;
        border-width: ${g(2)} !important;
        margin: -${g(16)} ${g(8)};
      }
      .NameBanner[data-size="0"] {
        opacity: 0 !important;
        transform: translateX(-100%);
      }
    `}};React.createContext({studio:null,project:null,room:null,webcamId:null,microphoneId:null,setStudio:()=>{},setProject:()=>{},setRoom:()=>{},setWebcamId:()=>{},setMicrophoneId:()=>{},projectCommands:{}});let stored={webcamId:null,microphoneId:null};try{stored.webcamId=localStorage==null?void 0:localStorage.getItem("__LS_webcam"),stored.microphoneId=localStorage==null?void 0:localStorage.getItem("__LS_microphone")}catch{}const runFilters=(a,s=[])=>s.reduce((d,c)=>c(d),a),createDefault=()=>({root:document.createElement("div")}),init$2=(a={},s,d)=>{const c={},g=a.defaultTransforms||{},_=pt=>{asArray(pt).forEach(vt=>{c[vt.name]=vt})},b={},$={},tt={},nt=pt=>tt[pt]||[],ot=pt=>$[pt]||[],dt=pt=>b[pt],ut=pt=>c[pt];s.on("SourceChanged",pt=>{ot(pt.id).forEach(it=>{const ct=s.getNode(it.nodeId);it._onUpdateHandlers.forEach(mt=>mt(ct.props||{}))})}),s.on("AvailableSourcesChanged",({type:pt,sources:vt})=>{nt(pt).forEach(ct=>{lt(ct.nodeId)})});const lt=pt=>{var St,Ct,$t;const vt=dt(pt);if(!vt)return;const it=ut(vt.transformName);if(!it.useSource)return;const ct=s.getNode(pt),mt=vt.proxySource?vt.proxySource:vt.sourceType,Nt=d.getSources(mt),Ot=it.useSource(Nt,ct.props),At=vt.sourceValue,Pt=Ot==null?void 0:Ot.value;vt.source!==Ot&&($[(St=vt.source)==null?void 0:St.id]&&($[(Ct=vt.source)==null?void 0:Ct.id]=$[($t=vt.source)==null?void 0:$t.id].filter(gt=>gt.nodeId!==pt)),$[Ot==null?void 0:Ot.id]=[...$[Ot==null?void 0:Ot.id]||[],vt]),vt.source=Ot,vt.sourceValue=Pt,Object.is(At,Pt)||vt._onNewSourceHandlers.forEach(gt=>gt(Ot))},Tt=pt=>{const vt=yt(pt),ct=runFilters(pt,[]);return lt(pt.id),vt==null||vt._onUpdateHandlers.forEach(mt=>mt(pt.props||{})),{...ct,children:ct.children.map(Tt)}},yt=pt=>{if(b[pt.id])return b[pt.id];const{props:vt={}}=pt,{sourceType:it,proxySource:ct}=vt;if(!it)return null;let mt=g[it],Nt;if(mt?Nt=c[mt]:Nt=Object.values(c).find(Rt=>Rt.sourceType===it),!Nt)throw new Error("Could not find matching transform for sourceType: "+it);const Ot=[],At=[],Pt=[],St=[],$t={...(Nt.create||createDefault)({onEvent:(Rt,zt,...Ut)=>{const Dt=s.on(Rt,zt,...Ut);return St.push(Dt),Dt},onNewSource:Rt=>Ot.push(Rt),onUpdate:Rt=>At.push(Rt),onRemove:Rt=>Pt.push(Rt)},pt.props),proxySource:ct,sourceType:it,nodeId:pt.id,transformName:Nt.name,_onNewSourceHandlers:Ot,_onUpdateHandlers:At,_disposables:St};b[pt.id]=$t;const gt=ct||it;tt[gt]=[...tt[gt]||[],$t],Nt.useSource&&lt(pt.id);const It=[s.on("NodeRemoved",({nodeId:Rt})=>{if(Rt===pt.id){const zt=s.getNode(Rt),{sourceType:Ut="Element"}=zt.props;It.forEach(qt=>qt==null?void 0:qt()),St.forEach(qt=>qt==null?void 0:qt()),Pt.forEach(qt=>qt==null?void 0:qt()),delete b[zt.id];const Dt=ct||Ut;tt[Dt]=tt[Dt].filter(qt=>qt!==b[zt.id])}})];return $t};return{transforms:c,nodeElementIndex:b,elementSourceTypeIndex:tt,registerTransform:_,getElementsBySourceType:nt,getElementByNodeId:dt,getTransformByName:ut,updateSourceForNode:lt,renderTree:Tt,getElement:yt}},TRANSITION_DURATION=300,findLayoutUp=(a,s,d=0)=>{const g=a.parentElement;return g instanceof Layout&&(d=0,!s||s(g))?g:g?d>4?null:findLayoutUp(g,s,d+1):null},TRANSITION_FIELDS="opacity, transform, width, height, left, right, top, bottom, inset",layoutIndex={},parentIdIndex={},childIndex={};let rootLayout,_cid=1;const ignoredAttributes=["style","id","className"];let tickOps={};const tick=()=>{if(nextTick=null,window.__dragging){nextTick=nextTick||requestAnimationFrame(tick);return}const a=new Set,s=new Set,d=new Set;Object.entries(tickOps).forEach(([c,g])=>{g.forEach(([_,b,$])=>{switch(_){case"childInserted":{s.has($)?s.delete($):a.add($);break}case"childRemoved":{a.has($)?a.delete($):s.add($);break}case"childRemoveFinished":{d.add($);break}}})});try{s.forEach(g=>{var $,tt,nt;const _=childIndex[g],b=Array.from((($=_.parentEl)==null?void 0:$.children)||[]);_.nextSiblingEl&&b.includes(_.nextSiblingEl)?(tt=_.parentEl)==null||tt.insertBefore(_,_.nextSiblingEl):(_.nextSiblingEl=null,(nt=_.parentEl)==null||nt.append(_)),_.runRemove()}),d.forEach(g=>{const _=childIndex[g];if(_.removed){_.previousSiblingEl&&(_.previousSiblingEl.nextSiblingEl=_.nextSiblingEl),_.nextSiblingEl&&(_.nextSiblingEl.previousSiblingEl=_.previousSiblingEl);return}});const c=window.__scale;Object.entries(tickOps).forEach(([g,_])=>{const b=layoutIndex[g],$=b.getBoundingClientRect(),tt={x:$.width/c,y:$.height/c};b.updatePositions({size:tt,inserted:a,removed:s})})}catch(c){log$1.warn("Failed to run Layout ops",c)}tickOps={}};let nextTick;const queueOp=a=>{const[s,d]=a,c=tickOps[d]||[];tickOps[d]=[...c,a],nextTick=nextTick||requestAnimationFrame(tick)};class Layout extends HTMLElement{constructor(){super(),this.isFirst=!0,this.isUpdating=!1,this.cid=++_cid}log(...s){var d;log$1.debug(...s,{id:this.dataset.id,parent:(d=this.parentLayout)==null?void 0:d.dataset.id},this)}connectedCallback(){var s;this.parentEl=this.parentElement,this.parentLayout=findLayoutUp(this),this.slotEl=this.closest("[data-layout-child]"),Array.from(this.children).forEach(d=>this.initializeChild(d)),rootLayout||(rootLayout=this),layoutIndex[this.dataset.id]=this,parentIdIndex[this.dataset.id]=(s=this.parentLayout)==null?void 0:s.id,Object.assign(this.style,{width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",pointerEvents:"none",boxSizing:"border-box"}),this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=new MutationObserver(d=>{!this.isConnected||d.forEach(c=>{c.type==="attributes"&&!ignoredAttributes.includes(c.attributeName)?queueOp(["attributesChanged",this.dataset.id]):c.type==="childList"&&(c.addedNodes.forEach(g=>{const _=childIndex[g.dataset.id];g.removed||(_?_!==g&&(this.initializeChild(g),g.setAttribute("style",_.getAttribute("style")),g.data=_.data):this.initializeChild(g),queueOp(["childInserted",this.dataset.id,g.dataset.id]))}),c.removedNodes.forEach(g=>{g.removed||queueOp(["childRemoved",this.dataset.id,g.dataset.id])}))})}),this.mutationObserver.observe(this,{childList:!0,attributes:!0}),this.latestSize||queueOp(["attributesChanged",this.dataset.id])}disconnectedCallback(){}adoptedCallback(){}updatePositions(s){if(this.isUpdating)return;this.isUpdating=!0;const{size:d,inserted:c=new Set,removed:g=new Set}=s;this.nodes=Array.from(this.children||[]).filter(tt=>!tt.removed).map((tt,nt)=>{const ot=getElementAttributes(tt);return{id:tt.dataset.id,props:ot,children:[]}});const _=JSON.parse(this.getAttribute("props")||"{}");this.latestSize=d;const b={id:this.dataset.id,props:_,children:this.nodes,size:d};let $=layoutChildren(b);Promise.all(Object.entries($).map(async([tt,nt])=>{var ct,mt,Nt,Ot,At,Pt,St,Ct,$t,gt,It;let ot=childIndex[tt]||this.querySelector(`[data-layout-child][data-id="${tt}"]`);const dt={...ot.data,...nt};ot.data=dt;const{size:ut,position:lt,zIndex:Tt=1,opacity:yt=1,borderRadius:pt=0,entryTransition:vt={},exitTransition:it={}}=dt;if(ot){if(ot.removed)return;it&&(ot.data.exitTransition=it),vt&&(ot.data.entryTransition=vt),ot.data.size=ut,ot.data.position=lt;const Rt=window.__scale,zt=this.getBoundingClientRect(),Ut=zt.width/Rt,Dt=Ut-sizeToNum(lt.x,Ut)-sizeToNum(ut.x,Ut),qt=zt.height/Rt,Kt=qt-sizeToNum(lt.y,qt)-sizeToNum(ut.y,qt);Object.assign(ot.style,{position:"absolute",transformOrigin:"50% 50%",transitionDuration:"0ms",transitionDelay:"0ms",transform:"translate3d(0, 0, 0) scaleX(1) scaleY(1)",visibility:"visible",boxSizing:"border-box",overflow:"hidden",borderRadius:pt+"px",width:"auto",height:"auto"});let Qt="0ms",Ht=this.isFirst?asDuration(0):asDuration(TRANSITION_DURATION);if(c.has(tt))Object.assign(ot.style,{transitionProperty:TRANSITION_FIELDS,transitionDuration:"0ms",transitionTimingFunction:(ct=vt.timingFn)!=null?ct:"ease",transform:`translate3d(calc(${asSize((Nt=(mt=vt.offset)==null?void 0:mt.x)!=null?Nt:0)}), calc(${asSize((At=(Ot=vt.offset)==null?void 0:Ot.y)!=null?At:0)}), 0) scaleX(${(St=(Pt=vt.scale)==null?void 0:Pt.x)!=null?St:1}) scaleY(${($t=(Ct=vt.scale)==null?void 0:Ct.y)!=null?$t:1})`,opacity:(gt=vt.opacity)!=null?gt:yt,left:asSize(lt.x)||0,right:asSize(Dt)||0,top:asSize(lt.y)||0,bottom:asSize(Kt)||0}),Qt=asDuration((It=vt.delay)!=null?It:0);else if(ot.data.rootOffset){const ht=rootLayout.getBoundingClientRect(),Vt=this.getBoundingClientRect(),at={x:Vt.x/Rt-ht.x/Rt,y:Vt.y/Rt-ht.y/Rt},_t=at.x+Vt.width/Rt,Lt=ot.data.rootOffset.x+Number(ot.data.size.x),Wt=at.y+Vt.height/Rt,Ft=ot.data.rootOffset.y+Number(ot.data.size.y);ot.data.rootOffset.x-at.x,ot.data.rootOffset.y-at.y,_t-Lt,Wt-Ft}ot.addEventListener("transitionstart",()=>{ot.style.zIndex=String(Tt+1)}),await new Promise(ht=>window.setTimeout(ht)),Object.assign(ot.style,{transitionProperty:TRANSITION_FIELDS,transitionDuration:Ht,transitionDelay:Qt,transform:"translate3d(0, 0, 0) scaleX(1) scaleY(1)",opacity:yt,left:asSize(lt.x)||0,top:asSize(lt.y)||0,width:Ut?"auto":ut.x,right:Ut?asSize(Dt)||0:"auto",height:qt?"auto":ut.y,bottom:qt?asSize(Kt)||0:"auto",zIndex:Tt});const rt=()=>{const ht=rootLayout.getBoundingClientRect(),Vt=ot.getBoundingClientRect();ot.data.rootOffset={x:Vt.x/Rt-ht.x/Rt,y:Vt.y/Rt-ht.y/Rt}};rt(),ot.addEventListener("transitionend",()=>{ot.style.zIndex=String(Tt),rt()})}})).then(()=>{this.isUpdating=!1}),this.isFirst=!1,Array.from(this.querySelectorAll("ls-layout")).forEach(tt=>{if(!$[tt.dataset.id])return;const nt=$[tt.dataset.id].size;tt.updatePositions({size:{x:sizeToNum(nt.x,d.x),y:sizeToNum(nt.y,d.y)}})})}initializeChild(s){var c;if(!((c=s.dataset)!=null&&c.id))return log$1.warn("Layout: Child requires `data-id` at the time it is added to a Layout");s._remove=s.remove,s.remove=()=>{this.removeChild(s)},s.mutationObserver||(s.mutationObserver=new MutationObserver(g=>{g.forEach(_=>{if(_.type==="attributes"){if(_.attributeName==="style")return;queueOp(["childAttributesChanged",this.dataset.id,s.dataset.id])}})}),s.mutationObserver.observe(s,{childList:!0,attributes:!0}));const d={entryTransition:{delay:0,opacity:0,scale:{x:1,y:1},offset:{x:0,y:0}},exitTransition:{delay:0,opacity:0,scale:{x:1,y:1},offset:{x:0,y:0}},position:{x:0,y:0},size:{x:0,y:0},opacity:0,fit:"cover",borderRadius:0,zIndex:1};s.data=d,s.parentEl=s.parentElement,s.nextSiblingEl=s.nextSibling,s.previousSiblingEl=s.previousSibling,s.previousSiblingEl&&(s.previousSiblingEl.nextSiblingEl=s),s.toggleAttribute("data-layout-child",!0),childIndex[s.dataset.id]=s,s.runRemove=async()=>{var _,b,$,tt,nt,ot,dt,ut,lt,Tt;s.removed=!0;const g=TRANSITION_DURATION;return await new Promise(yt=>window.setTimeout(yt)),Object.assign(s.style,{zIndex:0,transitionDelay:asDuration(0),transitionDuration:asDuration(g),transitionProperty:TRANSITION_FIELDS,transitionTimingFunction:(_=d.exitTransition.timingFn)!=null?_:"ease",transform:`translate3d(calc(${asSize(($=(b=d.exitTransition.offset)==null?void 0:b.x)!=null?$:0)}), calc( ${asSize((nt=(tt=d.exitTransition.offset)==null?void 0:tt.y)!=null?nt:0)}), 0) scaleX(${(dt=(ot=d.exitTransition.scale)==null?void 0:ot.x)!=null?dt:1}) scaleY(${(lt=(ut=d.exitTransition.scale)==null?void 0:ut.y)!=null?lt:1})`,opacity:(Tt=d.exitTransition.opacity)!=null?Tt:0}),s.removed=!0,s.transition=new Promise(yt=>{const pt=()=>{s.transition=null,s._remove(),queueOp(["childRemoveFinished",this.dataset.id,s.dataset.id]),clearTimeout(vt),yt()},vt=window.setTimeout(pt,parseInt(String(g))+600);s.addEventListener("transitionend",pt,{once:!0})}),s.transition}}}const ensureLayoutContainer=a=>{const s=document.getElementById("__ls-layout-container");if(s)return Object.assign(s.style,{width:a.x+"px",height:a.y+"px"}),s;const d=document.createElement("div");return d.id="__ls-layout-container",Object.assign(d.style,{position:"fixed",visibility:"hidden",top:0+"px",left:0+"px",zIndex:-1,width:a.x+"px",height:a.y+"px"}),document.body.append(d),d},layoutChildren=({id:a,props:s={},children:d,size:c})=>{const g={props:s,children:d,size:c},_=htmlLayouts[s.layout]?htmlLayouts[s.layout].layout(g):htmlLayouts.Free.layout(g);if(!(_ instanceof HTMLElement))return _;const b=Array.from(_.querySelectorAll("[data-node-id]")),$=document.createElement("div");$.style.height=_.style.height=c.y+"px",$.style.width=_.style.width=c.x+"px",$.style.position="absolute",$.style.top="0px",$.style.left="0px",$.style.boxSizing="border-box",$.setAttribute("data-wrapper-id",a),$.append(_);const tt=ensureLayoutContainer(c),nt=tt.querySelector(`[data-wrapper-id="${a}"]`);nt?nt.replaceWith($):tt.append($);const ot=_.getBoundingClientRect(),dt={};return b.forEach(ut=>{var vt,it,ct,mt,Nt,Ot,At,Pt;const lt=ut.dataset.nodeId;if(!lt)return;const Tt=Number((vt=ut.dataset.opacity)!=null?vt:ut.style.opacity||1),yt=ut.getBoundingClientRect();let pt={position:{x:yt.x-ot.x+"px",y:yt.y-ot.y+"px"},size:{x:yt.width+"px",y:yt.height+"px"},opacity:Tt,zIndex:(it=ut.data)==null?void 0:it.zIndex,entryTransition:(mt=(ct=ut.data)==null?void 0:ct.entryTransition)!=null?mt:{},exitTransition:(Ot=(Nt=ut.data)==null?void 0:Nt.exitTransition)!=null?Ot:{},borderRadius:(Pt=(At=ut.data)==null?void 0:At.borderRadius)!=null?Pt:0};`${s.showcase}-x`===lt&&(pt.position={x:ot.x+"px",y:ot.y+"px"},pt.size={x:ot.width+"px",y:ot.height+"px"},pt.zIndex=10),dt[lt]=pt,positionIndex[ut.dataset.nodeId]=pt}),dt},positionIndex={},htmlLayouts={},registerLayout=a=>{asArray(a).forEach(s=>{htmlLayouts[s.name]=s})},sourceTypes={},init$1=(a={},s)=>{const d={},c={},g=tt=>{s.triggerEvent("SourceChanged",tt)},_=tt=>{s.triggerEvent("AvailableSourcesChanged",{type:tt,sources:c[tt]})},$={sourceIndex:d,sourceTypeIndex:c,registerSource:tt=>{asArray(tt).forEach(nt=>{var dt;const ot=ut=>{const lt=d[ut];if(!!lt&&lt.type!==nt.type)throw new Error(`Attempted to modify source of type ${lt.type} from ${nt.type}`)};(dt=nt.init)==null||dt.call(nt,{getSource:ut=>$.getSource(ut),removeSource:ut=>(ot(ut),$.removeSource(ut)),setSourceActive:(ut,lt)=>(ot(ut),$.setSourceActive(ut,lt)),updateSource:(ut,lt)=>(ot(ut),$.updateSource(ut,lt)),modifySourceValue(ut,lt){return ot(ut),$.modifySourceValue(ut,lt)},addSource:ut=>$.addSource(nt.type,ut)}),sourceTypes[nt.type]=nt})},getSource:tt=>d[tt],getSources:tt=>c[tt]||[],useSource:(tt,nt)=>(nt(d[tt]),s.on("SourceChanged",ot=>{ot.id===tt&&nt(ot)})),useSources:(tt,nt)=>(nt(c[tt]||[]),s.on("AvailableSourcesChanged",ot=>{ot.type===tt&&nt(ot.sources)})),addSource:(tt,nt)=>{if(!nt.id)throw new Error('Cannot add source without field "id"');if(d[nt.id])return;if(!nt.value)throw new Error('Cannot add source with an empty field "value"');if(!sourceTypes[tt])throw new Error("Could not find definition for source type: "+tt);const{id:dt,value:ut=null,props:lt={},isActive:Tt=!0}=nt;d[dt]={id:dt,type:tt,props:lt,value:ut,isActive:Tt},c[tt]=[...c[tt]||[],d[dt]],g(d[dt]),_(tt)},removeSource:tt=>{const nt=d[tt];!nt||(delete d[tt],c[nt.type]=c[nt.type].filter(ot=>ot.id!==tt),_(nt.type))},updateSource:(tt,nt)=>{const ot=d[tt];ot.props={...ot.props,...nt},g(ot),_(ot.type)},modifySourceValue:async(tt,nt)=>{const ot=d[tt];await nt(ot.value),g(ot)},setSourceActive:(tt,nt=!0)=>{const ot=d[tt];ot.isActive=nt,_(ot.type)}};return $},{forEachDown,insertAt,toDataNode,pull,replaceItem}=Logic;let compositor;const start=a=>{if(compositor)return;const{dbAdapter:s,transformSettings:d={},sourceSettings:c={}}=a,g={},_={};try{customElements.define("ls-layout",Layout)}catch(vt){log$1.warn(vt)}const b={},$={},tt={};let nt=0;const ot=new Map,dt=(vt,it)=>{if(typeof vt!="function")return;const ct=++nt;return ot.set(ct,vt),vt.nodeId=it,()=>{ot.delete(ct)}},ut=(vt,it,ct)=>dt((mt,Nt)=>{mt===vt&&it(Nt)},ct),lt=(vt,it)=>{ot.forEach(ct=>{ct.nodeId?(it==null?void 0:it.nodeId)&&(it==null?void 0:it.nodeId)===ct.nodeId&&ct(vt,it):ct(vt,it)})},Tt={projects:_,subscribe:dt,on:ut,triggerEvent:lt,getProject:vt=>_[vt],getNodeProject:vt=>_[b[vt]],getNodeParent:vt=>tt[$[vt]],getNode:vt=>tt[vt],createProject:async(vt={},it)=>{const{id:ct,props:mt={},children:Nt=[]}=vt,Ot=await s(it,{get:()=>null,getParent:()=>null}).insert(mt),At={id:Ot,props:mt,children:Nt};return forEachDown(vt,Pt=>{}),tt[Ot]=At,compositor.loadProject(At,it)},loadProject:(vt,it)=>{if(!vt)return;if(it=it||vt.id,_[it])return _[it];forEachDown(vt,(Ot,At)=>{tt[Ot.id]=Ot,$[Ot.id]=At==null?void 0:At.id,b[Ot.id]=it});const ct={insert:async(Ot,At,Pt=0)=>{if(Ot.id&&tt[Ot.id])return tt[Ot.id];if(Ot.children||(Ot.children=[]),Ot.props||(Ot.props={}),At){const St=tt[At];if(!St)throw"Parent node not found with ID";St.children=insertAt(Pt,Ot,St.children||[]),$[Ot.id]=At}return tt[Ot.id]=Ot,b[Ot.id]=it,Ot.id},update:async(Ot,At={},Pt)=>{const St=tt[Ot];if(Pt){const Ct=Pt.map($t=>{const gt=tt[$t];return $[gt.id]=Ot,gt});St.children=Ct}St.props={...St.props,...At}},remove:async Ot=>{const At=tt[$[Ot]];At&&(At.children=At.children.filter(St=>St.id!==Ot));const Pt=tt[Ot];forEachDown(Pt,St=>{tt[St.id]&&(tt[St.id]._deleted=!0),lt("NodeRemoved",{projectId:mt.id,nodeId:St.id})})}},mt={id:it,getRoot:()=>vt,get(Ot){return tt[Ot]},getParent(Ot){return tt[$[Ot]]},renderTree(){return pt.renderTree(vt)},local:ct,insert:async(Ot={},At,Pt=0)=>{const Ct={id:await Nt.insert(Ot,At,Pt),props:Ot,children:[]};return ct.insert(Ct,At,Pt)},update:async(Ot,At)=>(await ct.update(Ot,At),Nt.update(Ot,At)),remove:async Ot=>{await ct.remove(Ot);const At=tt[$[Ot]],Pt=At.children.filter(St=>St.id!==Ot);return Nt.batch([["delete",{id:Ot}],["update",{...At,children:Pt}]])},reorder:async(Ot,At)=>{const Pt=tt[Ot];return Pt.children=At.map(St=>Pt.children.find(Ct=>Ct.id===St)),Nt.batch([["update",Pt]])},move:async(Ot,At,Pt=0)=>{const St=tt[Ot],Ct=tt[$[Ot]],$t=tt[At];Ct.children=pull(Ct.children,St),$t.children=insertAt(Pt,St,$t.children),Nt.batch([["update",$t],["update",Ct]]),$[Ot]=At},swap:async(Ot,At)=>{const Pt=tt[Ot],St=tt[At],Ct=tt[$[Ot]],$t=tt[$[At]];Ct.children=replaceItem(gt=>gt.id===Ot,St,Ct.children),$t.children=replaceItem(gt=>gt.id===At,Pt,$t.children),$[Ot]=$t.id,$[At]=Ct.id,Nt.batch([["update",Ct],["update",$t]])}};Object.defineProperty(mt,"nodes",{get(){return Object.values(tt).filter(Ot=>b[Ot.id]===mt.id)}});const Nt=g[it]||s(it,{get:Ot=>toDataNode(mt.get(Ot)),getParent:Ot=>toDataNode(mt.getParent(Ot))});return g[it]=Nt,_[it]=mt,mt}},yt=init$1(c,Tt),pt=init$2(d,Tt,yt);return compositor={registerLayout,registerTransform:pt.registerTransform,registerSource:yt.registerSource,getElement:pt.getElement,getSource:yt.getSource,getSources:yt.getSources,useSource:yt.useSource,useSources:yt.useSources,...Tt},compositor},BroadcastPhase=lib$2.LiveApiModel.ProjectBroadcastPhase,{trigger,triggerInternal}=CoreContext,EventType=lib$2.LiveApiModel.EventType,EventSubType=lib$2.LiveApiModel.EventSubType,init=async(a={})=>{const s=a.env||"prod",d=a.logLevel||"Warn";log$1.getLogger("livekit").setLevel(d),log$1.setLevel(d),log$1.info("Initializing Studio SDK...");const{layouts:g=[],transforms:_=[],sources:b=[],defaultTransforms:$={},guestToken:tt}=a,nt=new lib$2.ApiStream({sdkVersion:CoreContext.version,env:s,logLevel:d}),ot=config$1(),dt=start({dbAdapter:compositorAdapter,transformSettings:{defaultTransforms:{...$,...ot.defaults.transforms}}});CoreContext.config=ot,CoreContext.clients=nt,CoreContext.compositor=dt,CoreContext.logLevel=d,CoreContext.Request=await __vitePreload(()=>import("./requests.bf07f05a.js"),[]),CoreContext.Command=await __vitePreload(()=>import("./commands.058e1186.js"),[]),window.__StudioKit={...CoreContext},dt.registerSource([...Object.values(Sources),...b]),dt.registerTransform([...Object.values(Transforms),..._]),dt.registerLayout([...Object.values(Layouts),...g]);const ut=await nt.load(tt);let lt;ut&&await nt.LiveApi().project.getProject({...ut}).then(yt=>hydrateProject(yt.project,ut.role)).then(async yt=>{setAppState({user:{id:ut.collectionId,props:{},name:null,metadata:{}},sources:[],projects:[yt],activeProjectId:null}),yt.isInitial=!0,lt=await CoreContext.Command.setActiveProject({projectId:yt.id})}),nt.LiveApi().on(EventType.EVENT_TYPE_COLLECTION,(yt,pt)=>{switch(log$1.info("Received: Collection event",pt,yt),pt){case EventSubType.EVENT_SUB_TYPE_UPDATE:{triggerInternal("UserChanged",yt.update.collection);return}}}),nt.LiveApi().on(EventType.EVENT_TYPE_DESTINATION,(yt,pt)=>{switch(log$1.info("Received: Destination event",pt,yt),pt){case EventSubType.EVENT_SUB_TYPE_CREATE:{const{destination:vt}=yt.create;triggerInternal("DestinationAdded",vt);return}case EventSubType.EVENT_SUB_TYPE_UPDATE:{const{destination:vt}=yt.update;triggerInternal("DestinationChanged",vt);return}case EventSubType.EVENT_SUB_TYPE_DELETE:{triggerInternal("DestinationRemoved",yt.delete);return}}}),nt.LiveApi().on(EventType.EVENT_TYPE_SOURCE,(yt,pt)=>{switch(log$1.info("Received: Source event",pt,yt),pt){case EventSubType.EVENT_SUB_TYPE_CREATE:{triggerInternal("SourceAdded",yt.create.source);return}case EventSubType.EVENT_SUB_TYPE_UPDATE:{triggerInternal("SourceChanged",yt.update.source);return}case EventSubType.EVENT_SUB_TYPE_DELETE:{triggerInternal("SourceRemoved",yt.delete.sourceId);return}case EventSubType.EVENT_SUB_TYPE_ADD:{triggerInternal("ProjectSourceAdded",{projectId:yt.add.projectId,source:yt.add.source});return}case EventSubType.EVENT_SUB_TYPE_REMOVE:{triggerInternal("ProjectSourceRemoved",{projectId:yt.add.projectId,sourceId:yt.add.sourceId});return}}}),nt.LiveApi().on(EventType.EVENT_TYPE_PROJECT,(yt,pt)=>{var vt;switch(log$1.info("Received: Project event",pt,yt),pt){case EventSubType.EVENT_SUB_TYPE_CREATE:{const it=yt.create.project;if(getProject(it.projectId))return;triggerInternal("ProjectAdded",it);return}case EventSubType.EVENT_SUB_TYPE_UPDATE:{const{projectId:it,updateMask:ct,project:mt}=yt.update,Nt=getProject(mt.projectId);if(!Nt)return;ct.includes("metadata")&&trigger("ProjectMetaUpdated",{projectId:it,meta:mt.metadata}),triggerInternal("ProjectChanged",{project:mt,phase:Nt.videoApi.phase});return}case EventSubType.EVENT_SUB_TYPE_DELETE:{triggerInternal("ProjectRemoved",{projectId:yt.delete.projectId});return}case EventSubType.EVENT_SUB_TYPE_STATE:{const it=getProject((vt=yt.state)==null?void 0:vt.projectId);if(!it)return;let ct=yt.state.broadcastId;if(yt.state.error&&trigger("BroadcastError",{projectId:it.id,broadcastId:yt.state.broadcastId,error:yt.state.error}),yt.state.phase){const mt=yt.state.phase;mt===BroadcastPhase.PROJECT_BROADCAST_PHASE_RUNNING?trigger("BroadcastStarted",{projectId:it.id,broadcastId:yt.state.broadcastId}):mt===BroadcastPhase.PROJECT_BROADCAST_PHASE_STOPPED&&(ct=null,trigger("BroadcastStopped",{projectId:it.id,broadcastId:yt.state.broadcastId}))}triggerInternal("ProjectChanged",{project:it.videoApi.project,phase:yt.state.phase,broadcastId:ct});return}}}),nt.LayoutApi().on(lib$2.LayoutApiModel.EventType.EVENT_TYPE_LAYER,(yt,pt)=>{if(pt===lib$2.LayoutApiModel.EventSubType.EVENT_SUB_TYPE_CREATE){log$1.debug("Received: Node Insert",yt.create);const{connectionId:vt,layoutId:it}=yt.create.requestMetadata;if(CoreContext.connectionId===vt)return;const ct=layerToNode(yt.create),mt=getProjectByLayoutId(it),Nt=[ct,...mt.compositor.nodes.map(toDataNode$1)],Ot=toSceneTree(Nt,ct.id);mt.compositor.local.insert(Ot),triggerInternal("NodeAdded",{projectId:mt.id,nodeId:ct.id})}else if(pt===lib$2.LayoutApiModel.EventSubType.EVENT_SUB_TYPE_UPDATE){log$1.debug("Received: Node Update",yt.update);const{connectionId:vt,layoutId:it,updateVersions:ct={}}=yt.update.requestMetadata;if(CoreContext.connectionId===vt)return;const mt=layerToNode(yt.update);if((latestUpdateVersion[mt.id]||0)>ct[mt.id])return log$1.info("Ignoring node update - updateID is less than latest.");latestUpdateVersion[mt.id]=ct[mt.id];const Ot=getProjectByLayoutId(it);Ot.compositor.local.update(yt.update.id,mt.props,mt.childIds),triggerInternal("NodeChanged",{projectId:Ot.id,nodeId:mt.id})}else if(pt===lib$2.LayoutApiModel.EventSubType.EVENT_SUB_TYPE_DELETE){log$1.debug("Received: Node Delete",yt.delete);const{connectionId:vt,layoutId:it}=yt.delete.requestMetadata;if(CoreContext.connectionId===vt)return;const ct=getProjectByLayoutId(it);ct.compositor.local.remove(yt.delete.id),triggerInternal("NodeRemoved",{projectId:ct.id,nodeId:yt.delete.id})}else if(pt===lib$2.LayoutApiModel.EventSubType.EVENT_SUB_TYPE_BATCH){log$1.debug("Received: Node Batch Update",yt.batch);const{connectionId:vt,layoutId:it,updateVersions:ct={}}=yt.batch.requestMetadata;if(CoreContext.connectionId===vt)return;const mt=getProjectByLayoutId(it);yt.batch.layers.forEach(Nt=>{try{const[Ot,At]=Object.entries(Nt)[0];if(Ot==="create"){const Pt=layerToNode(At);mt.compositor.local.insert(Pt),triggerInternal("NodeAdded",{projectId:mt.id,nodeId:Pt.id})}else if(Ot==="update"){const Pt=layerToNode(At);if((latestUpdateVersion[Pt.id]||0)>ct[Pt.id])return log$1.info("Ignoring node update - updateID is less than latest.");latestUpdateVersion[Pt.id]=ct[Pt.id],mt.compositor.local.update(Pt.id,Pt.props,Pt.childIds),triggerInternal("NodeChanged",{projectId:mt.id,nodeId:Pt.id})}else Ot==="delete"&&(mt.compositor.local.remove(At.id),triggerInternal("NodeRemoved",{projectId:mt.id,nodeId:At.id}))}catch(Ot){log$1.warn("Error handling batch item",Ot,{item:Nt})}}),mt&&triggerInternal("NodeChanged",{projectId:mt.id,nodeId:mt.compositor.getRoot().id})}});const Tt=(yt={},pt)=>{const{displayName:vt,role:it,maxDuration:ct=CoreContext.config.defaults.guestTokenDuration,projectId:mt=CoreContext.state.activeProjectId}=yt,Nt=getProject(mt),Ot=vt?{direct:{displayName:vt}}:{exchange:{maxDuration:ct}};return nt.LiveApi().authentication.createGuestAccessToken({projectId:mt,token:Ot,url:pt,collectionId:Nt.videoApi.project.collectionId,maxDuration:ct,role:it||lib$2.LiveApiModel.Role.ROLE_GUEST})};return{...omit$1(CoreContext,["clients","config","connectionId","Request","state","trigger"]),createDemoToken:async()=>(console.warn("createDemoToken() is currently unavailable."),""),createPreviewLink:async(yt={})=>{const{maxDuration:pt,projectId:vt=CoreContext.state.activeProjectId}=yt,it=getProject(vt),ct=it.videoApi.project.composition.studioSdk.rendererUrl;return(await nt.LiveApi().authentication.createGuestAccessToken({projectId:vt,token:{direct:{displayName:"Preview"}},url:ct,collectionId:it.videoApi.project.collectionId,maxDuration:pt||CoreContext.config.defaults.previewTokenDuration,role:lib$2.LiveApiModel.Role.ROLE_VIEWER})).url},createGuestLink:async(yt,pt={})=>(await Tt(pt,yt)).url,createGuestToken:async(yt={})=>(await Tt(yt)).accessToken,initialProject:lt,load,render}},load=async(a,s)=>{let d=getBaseUser();if(d)return log$1.info("Attempted to load user again - returning existing user"),d;if(!a){log$1.warn("Access token required for load()");return}log$1.info("Loading user..."),await CoreContext.clients.load(a);const g=await CoreContext.Request.loadUser(s);return setAppState({user:g.user,sources:g.sources,projects:g.projects,activeProjectId:null}),d=getBaseUser(),trigger("UserLoaded",d),d},hostname=window.location.hostname,prodHosts=["cloud.golightstream.com","api.stream"],getEnv=()=>prodHosts.some(s=>hostname.includes(s))?"prod":"stage",run=async()=>{const a=await init({env:getEnv(),logLevel:"Debug"}),s=a==null?void 0:a.initialProject;if(!s)return console.warn("Project not available");await s.joinRoom(),a.render({containerEl:document.getElementById("root"),projectId:s.id,dragAndDrop:!1})};run();export{CoreContext as C,ProjectBroadcastPhase as P,getAccessTokenData as a,getProject as b,toBaseProject as c,getRoom as d,trigger$1 as e,toBaseDestination as f,getUser as g,hydrateProject as h,o,triggerInternal$1 as t,webrtcManager as w};
//# sourceMappingURL=compositor.32afe4a3.js.map
